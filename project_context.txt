Project Context From: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend
Generated On: lun. 19 janv. 2026 18:33:51 WAT
===============================================
Ignored Directory Patterns: .* node_modules vendor build dist target __pycache__ .next cache target storage
Ignored File Patterns: *.log *.jar *.pdf *.class *.sqlite project_context.txt package-lock.json yarn.lock composer.lock *.ico pnpm-lock.yaml
===============================================

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/app/api/proxy/[...slug]/route.ts

import { NextRequest, NextResponse } from 'next/server';

const TARGET_API_URL = process.env.PYTHON_API_BASE_URL || "http://localhost:8000/api/v1";

async function proxyRequest(req: NextRequest) {
  try {
    let path = req.nextUrl.pathname.replace('/api/proxy/', '');
    
    if (!/\.[^/]+$/.test(path) && !path.endsWith('/')) {
        path += '/';
    }

    const targetUrl = `${TARGET_API_URL.replace(/\/$/, '')}/${path.replace(/^\//, '')}${req.nextUrl.search}`;
    
    console.log(`[Proxy] Forwarding to: ${targetUrl}`);

    const headers = new Headers(req.headers);
    headers.delete('host');
    headers.delete('connection');
    
    let body = null;
    if (req.method !== 'GET' && req.method !== 'HEAD') {
        const textBody = await req.text();
        body = textBody || null;
    }

    const response = await fetch(targetUrl, {
      method: req.method,
      headers: headers,
      body: body,
      // @ts-expect-error - La propriété 'duplex' est nécessaire pour le streaming.
      duplex: 'half', 
    });

    // --- CORRECTION MAJEURE ET FINALE ---
    // Si le backend répond "204 No Content", on doit construire une réponse
    // sans corps (`null`) pour éviter l'erreur TypeError.
    if (response.status === 204) {
      console.log("[Proxy] Received 204 No Content from backend, returning empty response.");
      return new NextResponse(null, {
          status: 204,
          statusText: response.statusText,
      });
    }
    // --- FIN DE LA CORRECTION ---

    const data = await response.text();

    return new NextResponse(data, {
      status: response.status,
      statusText: response.statusText,
      headers: {
        'Content-Type': response.headers.get('Content-Type') || 'application/json',
      },
    });

  } catch (error) {
    console.error(`[API Proxy Error]:`, error);
    return new NextResponse(JSON.stringify({ error: "Proxy request failed", details: String(error) }), { status: 502 });
  }
}

export async function GET(req: NextRequest) { return proxyRequest(req); }
export async function POST(req: NextRequest) { return proxyRequest(req); }
export async function PUT(req: NextRequest) { return proxyRequest(req); }
export async function PATCH(req: NextRequest) { return proxyRequest(req); }
export async function DELETE(req: NextRequest) { return proxyRequest(req); }// END OF FILE: app/api/proxy/[...slug]/route.ts

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/app/buttons/page.tsx

import { Button } from "@/components/ui/button"

const ButtonsPage = () => {
    return (
        <div className="p-4 space-y-4 flex flex-col max-w-[200px]">
            <Button>
                Primary
            </Button>
            <Button variant="primary">
                Primary
            </Button>
            <Button variant="primaryOutline">
                Primary Outline
            </Button>

            <Button variant="secondary">
                Secondary
            </Button>
            <Button variant="secondaryOutline">
                Secondary Outline
            </Button>

            <Button variant="danger">
                Danger
            </Button>
            <Button variant="dangerOutline">
                Danger Outline
            </Button>

            <Button variant="super">
                Super
            </Button>
            <Button variant="superOutline">
                Super Outline
            </Button>

            <Button variant="ghost">
                Ghost
            </Button>

            <Button variant="Sidebar">
                Sidebar
            </Button>
            <Button variant="SidebarOutline">
                Sidebar Outline
            </Button>

        </div>
    )
}

export default ButtonsPage;// END OF FILE: app/buttons/page.tsx

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/app/globals.css

@import 'tailwindcss';

html, 
body,
:root {
  @apply h-full;
}

/* === NOUVEAU STYLE POUR LA VISITE GUIDÉE === */

/* Conteneur principal de la popover */
.fultang-tour-popover {
  background-color: #ffffff;
  border-radius: 16px;
  padding: 24px;
  box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1);
  border: 1px solid #f1f5f9;
  max-width: 370px;
  font-family: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
}

/* Titre */
.fultang-tour-popover .driver-popover-title {
  font-size: 1.25rem; /* 20px */
  font-weight: 700;
  color: #1e293b; /* slate-800 */
  line-height: 1.2;
}

/* Description */
.fultang-tour-popover .driver-popover-description {
  font-size: 0.95rem; /* 15px */
  line-height: 1.6;
  color: #475569; /* slate-600 */
  margin-top: 8px;
}

/* Footer (conteneur des boutons) */
.fultang-tour-popover .driver-popover-footer {
  margin-top: 20px;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

/* Boutons "Suivant" et "Terminer" */
.fultang-tour-popover .driver-popover-next-btn,
.fultang-tour-popover .driver-popover-done-btn {
  background-color: #2563eb; /* blue-600 */
  color: white;
  border-radius: 9999px; /* rounded-full */
  padding: 10px 22px;
  font-weight: 600;
  border: none;
  text-shadow: none;
  transition: background-color 0.2s ease-in-out;
}
.fultang-tour-popover .driver-popover-next-btn:hover,
.fultang-tour-popover .driver-popover-done-btn:hover {
  background-color: #1d4ed8; /* blue-700 */
}

/* Bouton "Retour" */
.fultang-tour-popover .driver-popover-prev-btn {
  background-color: transparent;
  color: #475569; /* slate-600 */
  border: none;
  border-radius: 9999px; /* rounded-full */
  padding: 10px 22px;
  font-weight: 600;
  text-shadow: none;
  transition: background-color 0.2s ease-in-out;
}
.fultang-tour-popover .driver-popover-prev-btn:hover {
  background-color: #f1f5f9; /* slate-100 */
}

/* Masquer le bouton de fermeture par défaut de Driver.js */
.fultang-tour-popover .driver-popover-close-btn {
  display: none;
}

/* Texte de progression (ex: 2/5) */
.fultang-tour-popover .driver-popover-progress-text {
  color: #64748b; /* slate-500 */
  font-size: 0.875rem; /* 14px */
  font-weight: 500;
}

/* La zone éclairée (Spotlight) */
.driver-stage {
    border-radius: 12px;
}

/* S'assurer que les boutons sont bien alignés quand il n'y a pas de bouton "précédent" */
.driver-popover.fultang-tour-popover .driver-popover-footer .driver-popover-progress-text {
  flex-grow: 1;
}// END OF FILE: app/globals.css

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/app/layout.tsx

import "./globals.css";
import "driver.js/dist/driver.css";
import { AuthProvider } from "@/hooks/useAuth"; // Importez le provider que nous venons de créer
import { Toaster } from "sonner"; // Composant pour afficher les notifications (ex: "Inscription réussie")

export const metadata = {
  title: "FultangMed - Apprentissage Médical",
  description: "Plateforme d'apprentissage médical intelligent.",
};

export default function RootLayout({
  children,
}: {
  children: React.ReactNode;
}) {
  return (
    // On retire ClerkProvider
    <html lang="fr">
      <body>
        {/* On enveloppe tout avec AuthProvider */}
        <AuthProvider>
          <Toaster /> {/* Ajout du composant de notification */}
          {children}
        </AuthProvider>
      </body>
    </html>
  );
}// END OF FILE: app/layout.tsx

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/app/(marketing)/faq/page.tsx

const FAQPage = () => {
    return ( 
        <div className="d">
            FAQ Page
        </div>
     );
}
 
export default FAQPage;// END OF FILE: app/(marketing)/faq/page.tsx

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/app/(marketing)/footer.tsx

// import { Button } from "@/components/ui/button";
// import Image from "next/image";

// export const Footer = () => {
//     return (
//         <footer className="hidden lg:block h-20 w-full border-t-2 border-slate-200 p-2">
//             <div className=" max-w-5xl mx-auto flex items-center justify-evenly h-full">
//                 <Button>
//                     <Image 
//                         src="/paludisme.png" 
//                         alt="Paludisme Logo" 
//                         height={32} 
//                         width={40}
//                         className="mr-4 rounded-md" 
//                     />
//                     Paludisme
//                 </Button>
//                 <Button>
//                     <Image 
//                         src="/avc.png" 
//                         alt="AVC Logo" 
//                         height={32} 
//                         width={40}
//                         className="mr-4 rounded-md" 
//                     />
//                     AVC
//                 </Button>
//                 <Button>
//                     <Image 
//                         src="/cervical_cancer.png" 
//                         alt="Cervical Cancer Logo" 
//                         height={32} 
//                         width={40}
//                         className="mr-4 rounded-md" 
//                     />
//                     Cervical Cancer
//                 </Button>
//                 <Button>
//                     <Image 
//                         src="/diabete.png" 
//                         alt="Diabete Logo" 
//                         height={32} 
//                         width={40}
//                         className="mr-4 rounded-md" 
//                     />
//                     Diabete
//                 </Button>

//             </div>
//         </footer>
//       );
// }
 


import { Button } from "@/components/ui/button";
import Image from "next/image";

export const Footer = () => {
    return (
        // On garde le hidden lg:block car sur mobile, on préfère souvent 
        // ne pas encombrer le bas de l'écran avec trop de boutons.
        <footer className="hidden lg:block h-20 w-full border-t-2 border-slate-200 p-2 bg-white">
            <div className="max-w-screen-lg mx-auto flex items-center justify-evenly h-full">
                
                {/* Bouton Paludisme */}
                <Button size="lg" variant="ghost" className="w-full hover:bg-slate-100 transition">
                    <Image 
                        src="/paludisme.png" 
                        alt="Paludisme" 
                        height={32} 
                        width={40}
                        className="mr-4 rounded-md object-contain" 
                    />
                    <span className="font-bold text-slate-600">Paludisme</span>
                </Button>

                {/* Bouton AVC */}
                <Button size="lg" variant="ghost" className="w-full hover:bg-slate-100 transition">
                    <Image 
                        src="/avc.png" 
                        alt="AVC" 
                        height={32} 
                        width={40}
                        className="mr-4 rounded-md object-contain" 
                    />
                    <span className="font-bold text-slate-600">AVC</span>
                </Button>

                {/* Bouton Cancer du col */}
                <Button size="lg" variant="ghost" className="w-full hover:bg-slate-100 transition">
                    <Image 
                        src="/cervical_cancer.png" 
                        alt="Cancer" 
                        height={32} 
                        width={40}
                        className="mr-4 rounded-md object-contain" 
                    />
                    <span className="font-bold text-slate-600">Cancer Col</span>
                </Button>

                {/* Bouton Diabète */}
                <Button size="lg" variant="ghost" className="w-full hover:bg-slate-100 transition">
                    <Image 
                        src="/diabete.png" 
                        alt="Diabète" 
                        height={32} 
                        width={40}
                        className="mr-4 rounded-md object-contain" 
                    />
                    <span className="font-bold text-slate-600">Diabète</span>
                </Button>

            </div>
        </footer>
    );
}// END OF FILE: app/(marketing)/footer.tsx

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/app/(marketing)/header.tsx

"use client";

import { Button } from "@/components/ui/button";
import { Loader, LogOut } from "lucide-react";
import Image from "next/image";
import Link from "next/link";
import { useAuth } from "@/hooks/useAuth"; // Importe notre hook d'authentification personnalisé
import { Avatar, AvatarFallback } from "@/components/ui/avatar"; // Pour afficher l'initiale de l'utilisateur

export const Header = () => {
    // On récupère l'état et les fonctions de notre contexte d'authentification
    const { user, logout, isLoading } = useAuth();

    return ( 
        <header className="h-20 w-full bg-white shadow-[0_1px_3px_rgb(0,0,0,0.06)] px-6">
            <div className="lg:max-w-7xl mx-auto flex items-center justify-between h-full">
                {/* Section Logo */}
                <Link href="/" className="flex items-center gap-x-3 hover:opacity-80 transition-opacity">
                    <div className="w-10 h-10 rounded-xl bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center shadow-lg shadow-blue-500/30">
                        <Image src="/Minimal_Geometric_Smirk_Face_Icon.png" height={24} width={24} alt="FultangMed" className="brightness-0 invert"/>
                    </div>
                    <h1 className="text-2xl font-extrabold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent tracking-tight">
                        FultangMed
                    </h1>
                </Link>

                {/* Section Authentification */}
                <div className="flex items-center gap-x-4">
                    {isLoading && (
                        <Loader className="h-5 w-5 text-muted-foreground animate-spin" />
                    )}
                    {!isLoading && (
                        <>
                            {user ? (
                                // Si l'utilisateur est connecté
                                <div className="flex items-center gap-x-3">
                                    <Avatar className="h-9 w-9">
                                        {/* Affiche la première lettre du nom de l'utilisateur */}
                                        <AvatarFallback className="bg-primary/10 text-primary font-semibold">
                                            {user.nom?.charAt(0).toUpperCase()}
                                        </AvatarFallback>
                                    </Avatar>
                                    <span className="text-sm font-medium text-slate-600 hidden sm:block">
                                        {user.nom}
                                    </span>
                                    <Button variant="ghost" size="icon" onClick={logout} title="Déconnexion">
                                        <LogOut className="h-5 w-5 text-slate-500" />
                                    </Button>
                                </div>
                            ) : (
                                // Si l'utilisateur n'est pas connecté
                                <Link href="/">
                                    <button className="px-6 py-2.5 rounded-xl font-semibold text-white bg-gradient-to-r from-blue-500 to-indigo-500 hover:shadow-lg hover:shadow-blue-500/30 transition-all">
                                        Connexion
                                    </button>
                                </Link>
                            )}
                        </>
                    )}
                </div>
            </div>
        </header>
     );
}// END OF FILE: app/(marketing)/header.tsx

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/app/(marketing)/layout.tsx

"use client";

import { Header } from "./header";
import { usePathname } from "next/navigation";

type Props = {
    children: React.ReactNode;
};


const MarketingLayout = ({ children }: Props) => {
    const pathname = usePathname();
    const isExpertRoute = pathname?.startsWith('/expert');
    const isAdminRoute = pathname?.startsWith('/admin');
    const isProfilingRoute = pathname?.startsWith('/profiling');
    const isHomePage = pathname === '/';

    // Pour les routes expert, on ne rend que les children (pas de Header)
    if (isExpertRoute) {
        return <>{children}</>;
    }

    // Pour les routes admin, on ne rend que les children (AdminLayout gere le header)
    if (isAdminRoute) {
        return <>{children}</>;
    }

    // Pour les routes profiling, on ne rend que les children (page autonome)
    if (isProfilingRoute) {
        return <>{children}</>;
    }

    // Pour la page d'accueil, on ne rend que les children (design intégré)
    if (isHomePage) {
        return <>{children}</>;
    }

    return (
        <div className="min-h-screen flex flex-col">
            <Header />
            <main className="flex-1 flex flex-col items-center justify-center">
                {children}
            </main>
        </div>
    );
};

export default MarketingLayout;// END OF FILE: app/(marketing)/layout.tsx

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/app/(marketing)/(main)/achievements/page.tsx

"use client";

import { useEffect, useState } from "react";
import { getStudentFullProfile, type FullProfileData } from "@/lib/api";
import { Loader2, Trophy, Medal, Star, Crown, Award, Lock } from "lucide-react";
import { Card, CardContent, CardHeader, CardTitle } from "@/components/ui/card";
import { Progress } from "@/components/ui/progress";

// Liste complète des badges possibles (Mock pour l'affichage des badges verrouillés)
const ALL_BADGES_MOCK = [
  { id: 101, nom: "Premiers Pas", description: "Compléter votre première consultation", icon: "footsteps" },
  { id: 102, nom: "Diagnosticien", description: "Obtenir un score diagnostic > 80% sur 3 cas", icon: "stethoscope" },
  { id: 103, nom: "Expert Paludisme", description: "Maîtriser tous les cas de paludisme", icon: "mosquito" },
  { id: 104, nom: "Communication Top", description: "Score relationnel parfait sur une session", icon: "speech" },
  { id: 105, nom: "Assidu", description: "Se connecter 7 jours d'affilée", icon: "calendar" },
  { id: 106, nom: "Sauveur de Vie", description: "Gérer avec succès une urgence vitale", icon: "heartbeat" },
];

export default function AchievementsPage() {
  const [data, setData] = useState<FullProfileData | null>(null);
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    getStudentFullProfile()
      .then(setData)
      .catch((err) => console.error(err))
      .finally(() => setLoading(false));
  }, []);

  if (loading) {
    return (
      <div className="flex h-screen items-center justify-center bg-gray-50">
        <Loader2 className="h-8 w-8 animate-spin text-blue-600" />
      </div>
    );
  }

  // Calcul du niveau (Exemple simple: 1 niveau tous les 500 XP)
  const xp = data?.profil.xp_total || 0;
  const currentLevel = Math.floor(xp / 500) + 1;
  const nextLevelXp = currentLevel * 500;
  const currentLevelProgress = xp % 500;
  const progressPercent = (currentLevelProgress / 500) * 100;

  // Badges débloqués
  const unlockedBadges = data?.profil.badges || [];
  const unlockedIds = new Set(unlockedBadges.map(b => b.id));

  return (
    <div className="min-h-screen bg-gray-50/50 p-6 lg:p-8 space-y-8">
      
      {/* Header */}
      <div>
        <h1 className="text-3xl font-bold text-gray-900 tracking-tight flex items-center gap-3">
          <Trophy className="h-8 w-8 text-yellow-500" />
          Succès & Progression
        </h1>
        <p className="text-gray-500 mt-2">
          Suivez votre montée en compétence et débloquez des trophées.
        </p>
      </div>

      {/* Level Banner */}
      <div className="bg-gradient-to-r from-blue-600 to-indigo-700 rounded-2xl p-6 text-white shadow-lg relative overflow-hidden">
        <div className="relative z-10 flex flex-col md:flex-row items-center gap-6 md:gap-12">
            <div className="relative">
                <div className="w-24 h-24 rounded-full bg-white/20 flex items-center justify-center backdrop-blur-sm border-4 border-white/30">
                    <Crown className="w-12 h-12 text-yellow-300" />
                </div>
                <div className="absolute -bottom-2 w-full text-center">
                    <span className="bg-yellow-400 text-yellow-900 text-xs font-bold px-2 py-1 rounded-full border border-yellow-200">
                        Niv. {currentLevel}
                    </span>
                </div>
            </div>
            
            <div className="flex-1 w-full text-center md:text-left space-y-3">
                <div>
                    <h2 className="text-2xl font-bold">Expertise Médicale</h2>
                    <p className="text-blue-100">Vous êtes sur la bonne voie pour devenir un expert.</p>
                </div>
                
                <div className="space-y-1">
                    <div className="flex justify-between text-xs font-semibold uppercase tracking-wider text-blue-200">
                        <span>XP Actuel: {xp}</span>
                        <span>Prochain Niveau: {nextLevelXp}</span>
                    </div>
                    <Progress value={progressPercent} className="h-3 bg-blue-900/40" indicatorClassName="bg-yellow-400" />
                </div>
            </div>

            <div className="hidden md:block">
               <div className="text-center bg-white/10 rounded-xl p-4 backdrop-blur-sm">
                   <span className="block text-3xl font-black text-yellow-300">{unlockedBadges.length}</span>
                   <span className="text-xs text-blue-100 uppercase font-semibold">Badges Obtenus</span>
               </div>
            </div>
        </div>

        {/* Decorative circles */}
        <div className="absolute -top-10 -right-10 w-64 h-64 bg-white/5 rounded-full blur-3xl" />
        <div className="absolute -bottom-10 -left-10 w-48 h-48 bg-blue-500/30 rounded-full blur-2xl" />
      </div>

      {/* Badges Grid */}
      <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
          <Card className="col-span-full border-none shadow-none bg-transparent p-0">
             <CardHeader className="px-0 pt-0">
                 <CardTitle className="text-xl flex items-center gap-2">
                     <Medal className="h-5 w-5 text-indigo-600" />
                     Collection de Badges
                 </CardTitle>
             </CardHeader>
          </Card>

          {ALL_BADGES_MOCK.map((badge) => {
              // Check if unlocked dynamically via our mocked list vs real data
              // Note: Using name matching since IDs might not align perfectly with Mock in this demo
              const isUnlocked = unlockedBadges.some(b => b.nom === badge.nom) || unlockedIds.has(badge.id); 

              return (
                <Card key={badge.id} className={`transition-all duration-300 ${isUnlocked ? 'border-yellow-200 bg-yellow-50/30' : 'grayscale opacity-70 border-dashed'}`}>
                    <CardContent className="p-6 flex flex-col items-center text-center gap-4">
                        <div className={`w-16 h-16 rounded-full flex items-center justify-center mb-2 ${
                            isUnlocked 
                                ? 'bg-gradient-to-br from-yellow-100 to-amber-200 shadow-inner' 
                                : 'bg-gray-100'
                        }`}>
                            {isUnlocked ? (
                                <Award className="h-8 w-8 text-yellow-600 drop-shadow-sm" />
                            ) : (
                                <Lock className="h-6 w-6 text-gray-400" />
                            )}
                        </div>
                        
                        <div>
                            <h3 className={`font-bold ${isUnlocked ? 'text-gray-900' : 'text-gray-500'}`}>{badge.nom}</h3>
                            <p className="text-xs text-gray-500 mt-1 h-8">{badge.description}</p>
                        </div>

                        {isUnlocked ? (
                             <span className="inline-flex items-center gap-1 text-[10px] font-bold uppercase tracking-widest text-yellow-600 bg-yellow-100 px-3 py-1 rounded-full">
                                <Star className="h-3 w-3 fill-yellow-600" /> Débloqué
                             </span>
                        ) : (
                             <span className="inline-flex items-center gap-1 text-[10px] font-bold uppercase tracking-widest text-gray-400 bg-gray-100 px-3 py-1 rounded-full">
                                Verrouillé
                             </span>
                        )}
                    </CardContent>
                </Card>
              );
          })}
      </div>

    </div>
  );
}
// END OF FILE: app/(marketing)/(main)/achievements/page.tsx

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/app/(marketing)/(main)/admin/dashboard/page.tsx

"use client";

import { Card, CardContent, CardHeader, CardTitle } from "@/components/ui/card";
import { Button } from "@/components/ui/button";
import {
  Users,
  FileText,
  CheckCircle,
  Clock,
  UserPlus,
  TrendingUp,
  Activity
} from "lucide-react";
import Link from "next/link";

// Donnees statiques pour le moment (sera remplace par des appels API)
const stats = [
  {
    title: "Total Experts",
    value: "12",
    change: "+2 ce mois",
    icon: Users,
    color: "blue",
  },
  {
    title: "Cas Cliniques",
    value: "1,234",
    change: "+156 cette semaine",
    icon: FileText,
    color: "indigo",
  },
  {
    title: "Cas Valides",
    value: "987",
    change: "80% du total",
    icon: CheckCircle,
    color: "green",
  },
  {
    title: "En Attente",
    value: "42",
    change: "A traiter",
    icon: Clock,
    color: "orange",
  },
];

const recentExperts = [
  { id: 1, nom: "Dr. Jean Kamga", email: "j.kamga@hospital.cm", specialite: "Cardiologie", status: "actif" },
  { id: 2, nom: "Dr. Marie Ngo", email: "m.ngo@hospital.cm", specialite: "Medecine Generale", status: "actif" },
  { id: 3, nom: "Dr. Paul Mbarga", email: "p.mbarga@hospital.cm", specialite: "Urgences", status: "inactif" },
];

const getColorClasses = (color: string) => {
  const colors: Record<string, { bg: string; text: string; icon: string }> = {
    blue: { bg: "bg-blue-50", text: "text-blue-600", icon: "text-blue-500" },
    indigo: { bg: "bg-indigo-50", text: "text-indigo-600", icon: "text-indigo-500" },
    green: { bg: "bg-green-50", text: "text-green-600", icon: "text-green-500" },
    orange: { bg: "bg-orange-50", text: "text-orange-600", icon: "text-orange-500" },
  };
  return colors[color] || colors.blue;
};

export default function AdminDashboardPage() {
  return (
    <div className="space-y-8">
      {/* Header */}
      <div className="flex items-center justify-between">
        <div>
          <h1 className="text-2xl font-bold text-gray-900">Tableau de Bord</h1>
          <p className="text-gray-500 mt-1">Bienvenue dans l&apos;espace d&apos;administration</p>
        </div>
        <Link href="/admin/experts/add">
          <Button className="gap-2">
            <UserPlus className="h-4 w-4" />
            Ajouter un Expert
          </Button>
        </Link>
      </div>

      {/* Stats Cards */}
      <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
        {stats.map((stat, index) => {
          const colors = getColorClasses(stat.color);
          const Icon = stat.icon;

          return (
            <Card key={index} className="border-0 shadow-sm hover:shadow-md transition-shadow">
              <CardContent className="p-6">
                <div className="flex items-start justify-between">
                  <div>
                    <p className="text-sm font-medium text-gray-500">{stat.title}</p>
                    <p className="text-3xl font-bold text-gray-900 mt-2">{stat.value}</p>
                    <p className={`text-xs mt-2 ${colors.text}`}>{stat.change}</p>
                  </div>
                  <div className={`p-3 rounded-xl ${colors.bg}`}>
                    <Icon className={`h-6 w-6 ${colors.icon}`} />
                  </div>
                </div>
              </CardContent>
            </Card>
          );
        })}
      </div>

      {/* Recent Activity */}
      <div className="grid grid-cols-1 lg:grid-cols-2 gap-6">
        {/* Recent Experts */}
        <Card className="border-0 shadow-sm">
          <CardHeader className="flex flex-row items-center justify-between pb-2">
            <CardTitle className="text-lg font-semibold">Experts Recents</CardTitle>
            <Link href="/admin/experts">
              <Button variant="ghost" size="sm" className="text-indigo-600">
                Voir tout
              </Button>
            </Link>
          </CardHeader>
          <CardContent>
            <div className="space-y-4">
              {recentExperts.map((expert) => (
                <div key={expert.id} className="flex items-center justify-between p-3 rounded-lg hover:bg-gray-50 transition-colors">
                  <div className="flex items-center gap-3">
                    <div className="w-10 h-10 rounded-full bg-gradient-to-br from-indigo-100 to-purple-100 flex items-center justify-center">
                      <span className="text-indigo-600 font-semibold text-sm">
                        {expert.nom.split(' ').map(n => n[0]).join('')}
                      </span>
                    </div>
                    <div>
                      <p className="font-medium text-gray-900">{expert.nom}</p>
                      <p className="text-sm text-gray-500">{expert.specialite}</p>
                    </div>
                  </div>
                  <span className={`px-2 py-1 rounded-full text-xs font-medium ${
                    expert.status === 'actif'
                      ? 'bg-green-100 text-green-600'
                      : 'bg-gray-100 text-gray-600'
                  }`}>
                    {expert.status}
                  </span>
                </div>
              ))}
            </div>
          </CardContent>
        </Card>

        {/* Quick Actions */}
        <Card className="border-0 shadow-sm">
          <CardHeader>
            <CardTitle className="text-lg font-semibold">Actions Rapides</CardTitle>
          </CardHeader>
          <CardContent>
            <div className="grid grid-cols-2 gap-4">
              <Link href="/admin/experts/add">
                <div className="p-4 rounded-xl bg-gradient-to-br from-indigo-50 to-purple-50 hover:from-indigo-100 hover:to-purple-100 transition-colors cursor-pointer">
                  <UserPlus className="h-8 w-8 text-indigo-600 mb-3" />
                  <p className="font-medium text-gray-900">Ajouter Expert</p>
                  <p className="text-sm text-gray-500 mt-1">Creer un nouveau compte expert</p>
                </div>
              </Link>
              <Link href="/admin/cases">
                <div className="p-4 rounded-xl bg-gradient-to-br from-blue-50 to-cyan-50 hover:from-blue-100 hover:to-cyan-100 transition-colors cursor-pointer">
                  <FileText className="h-8 w-8 text-blue-600 mb-3" />
                  <p className="font-medium text-gray-900">Cas Cliniques</p>
                  <p className="text-sm text-gray-500 mt-1">Gerer les cas cliniques</p>
                </div>
              </Link>
              <Link href="/admin/experts">
                <div className="p-4 rounded-xl bg-gradient-to-br from-green-50 to-emerald-50 hover:from-green-100 hover:to-emerald-100 transition-colors cursor-pointer">
                  <Users className="h-8 w-8 text-green-600 mb-3" />
                  <p className="font-medium text-gray-900">Liste Experts</p>
                  <p className="text-sm text-gray-500 mt-1">Voir tous les experts</p>
                </div>
              </Link>
              <div className="p-4 rounded-xl bg-gradient-to-br from-orange-50 to-amber-50 hover:from-orange-100 hover:to-amber-100 transition-colors cursor-pointer">
                <Activity className="h-8 w-8 text-orange-600 mb-3" />
                <p className="font-medium text-gray-900">Statistiques</p>
                <p className="text-sm text-gray-500 mt-1">Voir les rapports</p>
              </div>
            </div>
          </CardContent>
        </Card>
      </div>
    </div>
  );
}
// END OF FILE: app/(marketing)/(main)/admin/dashboard/page.tsx

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/app/(marketing)/(main)/admin/experts/add/page.tsx

"use client";

import { useState, useEffect } from "react";
import { useRouter } from "next/navigation";
import { Card, CardContent, CardDescription, CardHeader, CardTitle } from "@/components/ui/card";
import { Button } from "@/components/ui/button";
import { Input } from "@/components/ui/input";
import { Label } from "@/components/ui/label";
import { useAuth } from "@/hooks/useAuth"; 
import {
  Select,
  SelectContent,
  SelectItem,
  SelectTrigger,
  SelectValue,
} from "@/components/ui/select";
import {
  ArrowLeft,
  User,
  Mail,
  Lock,
  Stethoscope,
  Eye,
  EyeOff,
  Check,
  Loader2,
  AlertCircle
} from "lucide-react";
import Link from "next/link";
import { toast } from "sonner";
import * as api from "@/lib/api";

interface Domaine {
  id: string;
  nom: string;
}


interface FormData {
  nom: string;
  prenom: string;
  email: string;
  password: string;
  confirmPassword: string;
  specialite: string;
  telephone: string;
  matricule: string;
}

interface FormErrors {
  nom?: string;
  prenom?: string;
  email?: string;
  password?: string;
  confirmPassword?: string;
  specialite?: string;
  matricule?: string;
}

export default function AddExpertPage() {
  const router = useRouter();
  const [isLoading, setIsLoading] = useState(false);
  const [showPassword, setShowPassword] = useState(false);
  const [showConfirmPassword, setShowConfirmPassword] = useState(false);
  const [domaines, setDomaines] = useState<Domaine[]>([]);
  const { register } = useAuth(); // Utiliser le hook useAuth

  useEffect(() => {
    const fetchDomaines = async () => {
      try {
        const domainesData = await api.getDomaines();
        setDomaines(domainesData);
      } catch (error) {
        toast.error("Erreur lors de la récupération des spécialités");
      }
    };
    fetchDomaines();
  }, []);

  useEffect(() => {
    const fetchDomaines = async () => {
      try {
        const domainesData = await api.getDomaines();
        setDomaines(domainesData);
      } catch (error) {
        toast.error("Erreur lors de la récupération des spécialités");
      }
    };
    fetchDomaines();
  }, []);

  const [formData, setFormData] = useState<FormData>({
    nom: "",
    prenom: "",
    email: "",
    password: "",
    confirmPassword: "",
    specialite: "",
    telephone: "",
    matricule: "",
  });

  const [errors, setErrors] = useState<FormErrors>({});

  // Validation du formulaire
  const validateForm = (): boolean => {
    const newErrors: FormErrors = {};

    if (!formData.nom.trim()) {
      newErrors.nom = "Le nom est requis";
    }

    if (!formData.prenom.trim()) {
      newErrors.prenom = "Le prenom est requis";
    }

    if (!formData.email.trim()) {
      newErrors.email = "L'email est requis";
    } else if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(formData.email)) {
      newErrors.email = "Format d'email invalide";
    }

    if (!formData.matricule.trim()) {
      newErrors.matricule = "Le matricule est requis";
    }

    if (!formData.password) {
      newErrors.password = "Le mot de passe est requis";
    } else if (formData.password.length < 8) {
      newErrors.password = "Le mot de passe doit contenir au moins 8 caracteres";
    }

    if (formData.password !== formData.confirmPassword) {
      newErrors.confirmPassword = "Les mots de passe ne correspondent pas";
    }

    if (!formData.specialite) {
      newErrors.specialite = "La specialite est requise";
    }

    setErrors(newErrors);
    return Object.keys(newErrors).length === 0;
  };

  // Gestion de la soumission du formulaire
  const handleSubmit = async (e: React.FormEvent) => {
    e.preventDefault();

    if (!validateForm()) {
      toast.error("Veuillez corriger les erreurs dans le formulaire");
      return;
    }

    setIsLoading(true);

    try {
      await register({
        nom: `${formData.prenom} ${formData.nom}`, // Concaténer nom et prénom pour le champ nom
        email: formData.email,
        password: formData.password,
        matricule: formData.matricule,
        domaine_expertise_id: formData.specialite, // 'specialite' contient maintenant l'ID du domaine
      }, 'expert');

      toast.success("Expert ajoute avec succes!", {
        description: `${formData.prenom} ${formData.nom} a ete ajoute en tant qu'expert en ${
          domaines.find((d) => d.id === formData.specialite)?.nom
        }`,
      });

      // Redirection vers la liste des experts
      router.push("/admin/experts");
    } catch (error) {
      toast.error("Erreur lors de la creation de l'expert", {
        description: "Veuillez reessayer plus tard",
      });
    } finally {
      setIsLoading(false);
    }
  };

  // Gestion des changements dans les inputs
  const handleChange = (field: keyof FormData, value: string) => {
    setFormData((prev) => ({ ...prev, [field]: value }));
    // Efface l'erreur du champ modifie
    if (errors[field as keyof FormErrors]) {
      setErrors((prev) => ({ ...prev, [field]: undefined }));
    }
  };

  // Generation d'un mot de passe par defaut
  const generateDefaultPassword = () => {
    const password = `Expert@${Math.random().toString(36).slice(-8)}`;
    setFormData((prev) => ({
      ...prev,
      password: password,
      confirmPassword: password,
    }));
    setErrors((prev) => ({ ...prev, password: undefined, confirmPassword: undefined }));
    toast.info("Mot de passe genere", {
      description: "N'oubliez pas de communiquer ce mot de passe a l'expert",
    });
  };

  return (
    <div className="max-w-2xl mx-auto space-y-6">
      {/* Header */}
      <div className="flex items-center gap-4">
        <Link href="/admin/experts">
          <Button variant="ghost" size="icon" className="rounded-full">
            <ArrowLeft className="h-5 w-5" />
          </Button>
        </Link>
        <div>
          <h1 className="text-2xl font-bold text-gray-900">Ajouter un Expert</h1>
          <p className="text-gray-500 mt-1">
            Creez un nouveau compte expert pour la validation des cas cliniques
          </p>
        </div>
      </div>

      {/* Form */}
      <Card className="border-0 shadow-sm">
        <CardHeader>
          <CardTitle className="text-lg">Informations de l&apos;Expert</CardTitle>
          <CardDescription>
            Remplissez les informations ci-dessous pour creer le compte expert.
            L&apos;expert recevra un email avec ses identifiants de connexion.
          </CardDescription>
        </CardHeader>
        <CardContent>
          <form onSubmit={handleSubmit} className="space-y-6">
            {/* Nom et Prenom */}
            <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
              <div className="space-y-2">
                <Label htmlFor="nom" className="flex items-center gap-2">
                  <User className="h-4 w-4 text-gray-400" />
                  Nom <span className="text-red-500">*</span>
                </Label>
                <Input
                  id="nom"
                  placeholder="Ex: Kamga"
                  value={formData.nom}
                  onChange={(e) => handleChange("nom", e.target.value)}
                  className={errors.nom ? "border-red-300 focus:ring-red-500/20" : ""}
                />
                {errors.nom && (
                  <p className="text-sm text-red-500 flex items-center gap-1">
                    <AlertCircle className="h-3 w-3" />
                    {errors.nom}
                  </p>
                )}
              </div>

              <div className="space-y-2">
                <Label htmlFor="prenom" className="flex items-center gap-2">
                  <User className="h-4 w-4 text-gray-400" />
                  Prenom <span className="text-red-500">*</span>
                </Label>
                <Input
                  id="prenom"
                  placeholder="Ex: Jean-Pierre"
                  value={formData.prenom}
                  onChange={(e) => handleChange("prenom", e.target.value)}
                  className={errors.prenom ? "border-red-300 focus:ring-red-500/20" : ""}
                />
                {errors.prenom && (
                  <p className="text-sm text-red-500 flex items-center gap-1">
                    <AlertCircle className="h-3 w-3" />
                    {errors.prenom}
                  </p>
                )}
              </div>
            </div>

            {/* Email */}
            <div className="space-y-2">
              <Label htmlFor="email" className="flex items-center gap-2">
                <Mail className="h-4 w-4 text-gray-400" />
                Adresse Email <span className="text-red-500">*</span>
              </Label>
              <Input
                id="email"
                type="email"
                placeholder="Ex: jean.kamga@hospital.cm"
                value={formData.email}
                onChange={(e) => handleChange("email", e.target.value)}
                className={errors.email ? "border-red-300 focus:ring-red-500/20" : ""}
              />
                            {errors.email && (
                              <p className="text-sm text-red-500 flex items-center gap-1">
                                <AlertCircle className="h-3 w-3" />
                                {errors.email}
                              </p>
                            )}
                          </div>
              
                          {/* Matricule */}
                          <div className="space-y-2">
                            <Label htmlFor="matricule" className="flex items-center gap-2">
                              Matricule <span className="text-red-500">*</span>
                            </Label>
                            <Input
                              id="matricule"
                              placeholder="Ex: 12345-EX"
                              value={formData.matricule}
                              onChange={(e) => handleChange("matricule", e.target.value)}
                              className={errors.matricule ? "border-red-300 focus:ring-red-500/20" : ""}
                            />
                            {errors.matricule && (
                              <p className="text-sm text-red-500 flex items-center gap-1">
                                <AlertCircle className="h-3 w-3" />
                                {errors.matricule}
                              </p>
                            )}
                          </div>
              
                          {/* Telephone (optionnel) */}
                          <div className="space-y-2">
                            <Label htmlFor="telephone" className="flex items-center gap-2">
                              Telephone (optionnel)
                            </Label>
                            <Input
                              id="telephone"
                              type="tel"
                              placeholder="Ex: +237 6XX XXX XXX"
                              value={formData.telephone}
                              onChange={(e) => handleChange("telephone", e.target.value)}
                            />
                          </div>
            {/* Specialite */}
            <div className="space-y-2">
              <Label className="flex items-center gap-2">
                <Stethoscope className="h-4 w-4 text-gray-400" />
                Specialite Medicale <span className="text-red-500">*</span>
              </Label>
              <Select
                value={formData.specialite}
                onValueChange={(value) => handleChange("specialite", value)}
              >
                <SelectTrigger className={errors.specialite ? "border-red-300" : ""}>
                  <SelectValue placeholder="Selectionnez une specialite" />
                </SelectTrigger>
                <SelectContent>
                  {domaines.map((domaine) => (
                    <SelectItem key={domaine.id} value={domaine.id}>
                      {domaine.nom}
                    </SelectItem>
                  ))}
                </SelectContent>
              </Select>
              {errors.specialite && (
                <p className="text-sm text-red-500 flex items-center gap-1">
                  <AlertCircle className="h-3 w-3" />
                  {errors.specialite}
                </p>
              )}
              <p className="text-xs text-gray-500">
                L&apos;expert ne pourra valider que les cas cliniques lies a sa specialite
              </p>
            </div>

            {/* Mot de passe */}
            <div className="space-y-4 p-4 bg-gray-50 rounded-xl">
              <div className="flex items-center justify-between">
                <Label className="flex items-center gap-2">
                  <Lock className="h-4 w-4 text-gray-400" />
                  Mot de passe par defaut <span className="text-red-500">*</span>
                </Label>
                <Button
                  type="button"
                  variant="ghost"
                  size="sm"
                  onClick={generateDefaultPassword}
                  className="text-indigo-600 hover:text-indigo-700"
                >
                  Generer automatiquement
                </Button>
              </div>

              <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div className="space-y-2">
                  <Label htmlFor="password" className="text-sm text-gray-600">
                    Mot de passe
                  </Label>
                  <div className="relative">
                    <Input
                      id="password"
                      type={showPassword ? "text" : "password"}
                      placeholder="Minimum 8 caracteres"
                      value={formData.password}
                      onChange={(e) => handleChange("password", e.target.value)}
                      className={`pr-10 ${errors.password ? "border-red-300 focus:ring-red-500/20" : ""}`}
                    />
                    <button
                      type="button"
                      onClick={() => setShowPassword(!showPassword)}
                      className="absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600"
                    >
                      {showPassword ? <EyeOff className="h-4 w-4" /> : <Eye className="h-4 w-4" />}
                    </button>
                  </div>
                  {errors.password && (
                    <p className="text-sm text-red-500 flex items-center gap-1">
                      <AlertCircle className="h-3 w-3" />
                      {errors.password}
                    </p>
                  )}
                </div>

                <div className="space-y-2">
                  <Label htmlFor="confirmPassword" className="text-sm text-gray-600">
                    Confirmer le mot de passe
                  </Label>
                  <div className="relative">
                    <Input
                      id="confirmPassword"
                      type={showConfirmPassword ? "text" : "password"}
                      placeholder="Confirmez le mot de passe"
                      value={formData.confirmPassword}
                      onChange={(e) => handleChange("confirmPassword", e.target.value)}
                      className={`pr-10 ${errors.confirmPassword ? "border-red-300 focus:ring-red-500/20" : ""}`}
                    />
                    <button
                      type="button"
                      onClick={() => setShowConfirmPassword(!showConfirmPassword)}
                      className="absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600"
                    >
                      {showConfirmPassword ? <EyeOff className="h-4 w-4" /> : <Eye className="h-4 w-4" />}
                    </button>
                  </div>
                  {errors.confirmPassword && (
                    <p className="text-sm text-red-500 flex items-center gap-1">
                      <AlertCircle className="h-3 w-3" />
                      {errors.confirmPassword}
                    </p>
                  )}
                </div>
              </div>
            </div>

            {/* Info Box */}
            <div className="flex items-start gap-3 p-4 bg-blue-50 rounded-xl">
              <div className="p-2 bg-blue-100 rounded-lg">
                <Mail className="h-4 w-4 text-blue-600" />
              </div>
              <div className="text-sm">
                <p className="font-medium text-blue-900">Email de bienvenue</p>
                <p className="text-blue-700 mt-1">
                  Un email sera automatiquement envoye a l&apos;expert avec ses identifiants
                  de connexion et les instructions pour acceder a la plateforme.
                </p>
              </div>
            </div>

            {/* Submit Buttons */}
            <div className="flex items-center justify-end gap-3 pt-4 border-t">
              <Link href="/admin/experts">
                <Button type="button" variant="outline">
                  Annuler
                </Button>
              </Link>
              <Button type="submit" disabled={isLoading} className="min-w-[140px]">
                {isLoading ? (
                  <>
                    <Loader2 className="h-4 w-4 animate-spin mr-2" />
                    Creation...
                  </>
                ) : (
                  <>
                    <Check className="h-4 w-4 mr-2" />
                    Creer l&apos;Expert
                  </>
                )}
              </Button>
            </div>
          </form>
        </CardContent>
      </Card>
    </div>
  );
}
// END OF FILE: app/(marketing)/(main)/admin/experts/add/page.tsx

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/app/(marketing)/(main)/admin/experts/page.tsx

"use client";

import { useState } from "react";
import { Card, CardContent, CardHeader, CardTitle } from "@/components/ui/card";
import { Button } from "@/components/ui/button";
import { Input } from "@/components/ui/input";
import {
  Select,
  SelectContent,
  SelectItem,
  SelectTrigger,
  SelectValue,
} from "@/components/ui/select";
import {
  Table,
  TableBody,
  TableCell,
  TableHead,
  TableHeader,
  TableRow,
} from "@/components/ui/table";
import {
  DropdownMenu,
  DropdownMenuContent,
  DropdownMenuItem,
  DropdownMenuTrigger,
} from "@/components/ui/dropdown-menu";
import {
  UserPlus,
  Search,
  MoreHorizontal,
  Edit,
  Trash2,
  Mail,
  Eye
} from "lucide-react";
import Link from "next/link";

// Donnees statiques pour le moment (sera remplace par des appels API)
const expertsData = [
  {
    id: "1",
    nom: "Dr. Jean Kamga",
    email: "j.kamga@hospital.cm",
    specialite: "Cardiologie",
    status: "actif",
    casTraites: 45,
    dateCreation: "2024-01-15"
  },
  {
    id: "2",
    nom: "Dr. Marie Ngo",
    email: "m.ngo@hospital.cm",
    specialite: "Medecine Generale",
    status: "actif",
    casTraites: 78,
    dateCreation: "2024-02-20"
  },
  {
    id: "3",
    nom: "Dr. Paul Mbarga",
    email: "p.mbarga@hospital.cm",
    specialite: "Urgences",
    status: "inactif",
    casTraites: 23,
    dateCreation: "2024-03-10"
  },
  {
    id: "4",
    nom: "Dr. Sophie Fotso",
    email: "s.fotso@hospital.cm",
    specialite: "Pneumologie",
    status: "actif",
    casTraites: 56,
    dateCreation: "2024-01-28"
  },
  {
    id: "5",
    nom: "Dr. Emmanuel Tabi",
    email: "e.tabi@hospital.cm",
    specialite: "Medecine Interne",
    status: "actif",
    casTraites: 112,
    dateCreation: "2023-11-05"
  },
];

const specialites = [
  "Toutes",
  "Medecine Generale",
  "Urgences",
  "Medecine Interne",
  "Pneumologie",
  "Cardiologie",
  "Endocrinologie",
  "Urologie",
];

export default function ExpertsListPage() {
  const [searchQuery, setSearchQuery] = useState("");
  const [selectedSpecialite, setSelectedSpecialite] = useState("Toutes");
  const [selectedStatus, setSelectedStatus] = useState("tous");

  // Filtrage des experts
  const filteredExperts = expertsData.filter((expert) => {
    const matchesSearch =
      expert.nom.toLowerCase().includes(searchQuery.toLowerCase()) ||
      expert.email.toLowerCase().includes(searchQuery.toLowerCase());
    const matchesSpecialite =
      selectedSpecialite === "Toutes" || expert.specialite === selectedSpecialite;
    const matchesStatus =
      selectedStatus === "tous" || expert.status === selectedStatus;

    return matchesSearch && matchesSpecialite && matchesStatus;
  });

  return (
    <div className="space-y-6">
      {/* Header */}
      <div className="flex items-center justify-between">
        <div>
          <h1 className="text-2xl font-bold text-gray-900">Gestion des Experts</h1>
          <p className="text-gray-500 mt-1">
            {filteredExperts.length} expert(s) enregistre(s)
          </p>
        </div>
        <Link href="/admin/experts/add">
          <Button className="gap-2">
            <UserPlus className="h-4 w-4" />
            Ajouter un Expert
          </Button>
        </Link>
      </div>

      {/* Filters */}
      <Card className="border-0 shadow-sm">
        <CardContent className="p-4">
          <div className="flex flex-col md:flex-row gap-4">
            {/* Search */}
            <div className="relative flex-1">
              <Search className="absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400" />
              <Input
                placeholder="Rechercher par nom ou email..."
                value={searchQuery}
                onChange={(e) => setSearchQuery(e.target.value)}
                className="pl-10"
              />
            </div>

            {/* Specialite Filter */}
            <Select value={selectedSpecialite} onValueChange={setSelectedSpecialite}>
              <SelectTrigger className="w-full md:w-[200px]">
                <SelectValue placeholder="Specialite" />
              </SelectTrigger>
              <SelectContent>
                {specialites.map((spec) => (
                  <SelectItem key={spec} value={spec}>
                    {spec}
                  </SelectItem>
                ))}
              </SelectContent>
            </Select>

            {/* Status Filter */}
            <Select value={selectedStatus} onValueChange={setSelectedStatus}>
              <SelectTrigger className="w-full md:w-[150px]">
                <SelectValue placeholder="Statut" />
              </SelectTrigger>
              <SelectContent>
                <SelectItem value="tous">Tous</SelectItem>
                <SelectItem value="actif">Actif</SelectItem>
                <SelectItem value="inactif">Inactif</SelectItem>
              </SelectContent>
            </Select>
          </div>
        </CardContent>
      </Card>

      {/* Table */}
      <Card className="border-0 shadow-sm">
        <CardContent className="p-0">
          <Table>
            <TableHeader>
              <TableRow className="bg-gray-50">
                <TableHead className="font-semibold">Expert</TableHead>
                <TableHead className="font-semibold">Specialite</TableHead>
                <TableHead className="font-semibold">Cas Traites</TableHead>
                <TableHead className="font-semibold">Statut</TableHead>
                <TableHead className="font-semibold">Date Creation</TableHead>
                <TableHead className="font-semibold text-right">Actions</TableHead>
              </TableRow>
            </TableHeader>
            <TableBody>
              {filteredExperts.length === 0 ? (
                <TableRow>
                  <TableCell colSpan={6} className="text-center py-8 text-gray-500">
                    Aucun expert trouve
                  </TableCell>
                </TableRow>
              ) : (
                filteredExperts.map((expert) => (
                  <TableRow key={expert.id} className="hover:bg-gray-50">
                    <TableCell>
                      <div className="flex items-center gap-3">
                        <div className="w-10 h-10 rounded-full bg-gradient-to-br from-indigo-100 to-purple-100 flex items-center justify-center">
                          <span className="text-indigo-600 font-semibold text-sm">
                            {expert.nom.split(' ').map(n => n[0]).join('')}
                          </span>
                        </div>
                        <div>
                          <p className="font-medium text-gray-900">{expert.nom}</p>
                          <p className="text-sm text-gray-500">{expert.email}</p>
                        </div>
                      </div>
                    </TableCell>
                    <TableCell>
                      <span className="px-2.5 py-1 rounded-lg bg-blue-50 text-blue-600 text-sm font-medium">
                        {expert.specialite}
                      </span>
                    </TableCell>
                    <TableCell>
                      <span className="font-medium">{expert.casTraites}</span>
                    </TableCell>
                    <TableCell>
                      <span className={`px-2.5 py-1 rounded-full text-xs font-medium ${
                        expert.status === 'actif'
                          ? 'bg-green-100 text-green-600'
                          : 'bg-gray-100 text-gray-600'
                      }`}>
                        {expert.status === 'actif' ? 'Actif' : 'Inactif'}
                      </span>
                    </TableCell>
                    <TableCell className="text-gray-500">
                      {new Date(expert.dateCreation).toLocaleDateString('fr-FR')}
                    </TableCell>
                    <TableCell className="text-right">
                      <DropdownMenu>
                        <DropdownMenuTrigger asChild>
                          <Button variant="ghost" size="icon" className="h-8 w-8">
                            <MoreHorizontal className="h-4 w-4" />
                          </Button>
                        </DropdownMenuTrigger>
                        <DropdownMenuContent align="end">
                          <DropdownMenuItem className="gap-2">
                            <Eye className="h-4 w-4" />
                            Voir le profil
                          </DropdownMenuItem>
                          <DropdownMenuItem className="gap-2">
                            <Edit className="h-4 w-4" />
                            Modifier
                          </DropdownMenuItem>
                          <DropdownMenuItem className="gap-2">
                            <Mail className="h-4 w-4" />
                            Envoyer un email
                          </DropdownMenuItem>
                          <DropdownMenuItem className="gap-2 text-red-600">
                            <Trash2 className="h-4 w-4" />
                            Supprimer
                          </DropdownMenuItem>
                        </DropdownMenuContent>
                      </DropdownMenu>
                    </TableCell>
                  </TableRow>
                ))
              )}
            </TableBody>
          </Table>
        </CardContent>
      </Card>
    </div>
  );
}
// END OF FILE: app/(marketing)/(main)/admin/experts/page.tsx

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/app/(marketing)/(main)/admin/layout.tsx

"use client";

import { AdminSidebar } from "@/components/admin-sidebar";

type Props = {
  children: React.ReactNode;
};

const AdminLayout = ({ children }: Props) => {
  return (
    <div className="min-h-screen bg-gray-50">
      <AdminSidebar />
      <main className="pl-64">
        <div className="p-8">
          {children}
        </div>
      </main>
    </div>
  );
};

export default AdminLayout;
// END OF FILE: app/(marketing)/(main)/admin/layout.tsx

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/app/(marketing)/(main)/admin/page.tsx

import { redirect } from "next/navigation";

export default function AdminPage() {
  redirect("/admin/dashboard");
}
// END OF FILE: app/(marketing)/(main)/admin/page.tsx

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/app/(marketing)/(main)/chat/page.tsx

"use client";

import { useState, useEffect } from "react";
import { useRouter } from "next/navigation";
import { Button } from "@/components/ui/button";
import { Card, CardContent } from "@/components/ui/card";
import { Badge } from "@/components/ui/badge";
import {
  MessageSquare,
  Clock,
  ArrowRight,
  Plus,
  Loader2,
  Calendar
} from "lucide-react";
import { useAuth } from "@/hooks/useAuth";
import { getStudentSessions, type StudentSession } from "@/lib/api"; 

export default function ChatListPage() {
  const router = useRouter();
  const { user, isLoading: isAuthLoading } = useAuth();
  const [sessions, setSessions] = useState<StudentSession[]>([]);
  const [isLoading, setIsLoading] = useState(true);

  useEffect(() => {
    const loadSessions = async () => {
        try {
            const data = await getStudentSessions();
            setSessions(data);
        } catch (e) {
            console.error("Failed to load sessions", e);
        } finally {
            setIsLoading(false);
        }
    };
    
    if (user) {
        loadSessions();
    } else if (!isAuthLoading) {
        setIsLoading(false); // No user, stop loading
    }
  }, [user, isAuthLoading]);

  const handleResumeSession = (sessionId: string, domain: string) => {
    // Redirection vers la page de leçon existante
    const courseId = domain.toLowerCase().replace(/\s+/g, '-'); 
    router.push(`/learn/${courseId}/lesson/${sessionId}`);
  };

  const handleStartNewSession = () => {
    router.push(`/learn/new`);
  };

  if (isAuthLoading || isLoading) {
    return (
      <div className="flex h-screen w-full items-center justify-center bg-gray-50">
        <Loader2 className="h-8 w-8 animate-spin text-blue-600" />
      </div>
    );
  }

  return (
    <div className="min-h-screen bg-gray-50/50 p-6 lg:p-8">
      <div className="max-w-5xl mx-auto space-y-8">
        
        <div className="flex items-center justify-between">
          <div>
            <h1 className="text-3xl font-bold text-gray-900 tracking-tight">Vos Conversations</h1>
            <p className="text-gray-500 mt-2">
              Retrouvez l&apos;historique de vos cas cliniques et continuez votre apprentissage.
            </p>
          </div>
          <Button onClick={handleStartNewSession} className="bg-blue-600 hover:bg-blue-700 shadow-lg shadow-blue-600/20 transition-all">
            <Plus className="mr-2 h-4 w-4" /> Nouveau Cas
          </Button>
        </div>

        <div className="space-y-4">
            {sessions.length === 0 ? (
                <div className="text-center py-16 bg-white rounded-2xl border border-gray-100 shadow-sm">
                    <MessageSquare className="h-12 w-12 text-gray-300 mx-auto mb-4" />
                    <h3 className="text-lg font-medium text-gray-900">Aucune conversation</h3>
                    <p className="text-gray-500 mt-1 max-w-sm mx-auto">Commencez une nouvelle consultation pour voir votre historique apparaître ici.</p>
                </div>
            ) : (
                sessions.map((session) => (
                    <Card key={session.id} className="hover:shadow-md transition-shadow border-gray-100 overflow-hidden group">
                    <CardContent className="p-0">
                        <div className="flex flex-col sm:flex-row sm:items-center">
                        <div className="p-6 flex-1 space-y-4 sm:space-y-0 sm:flex sm:items-center sm:gap-6">
                            <div className="flex-shrink-0">
                                <div className={`w-12 h-12 rounded-xl flex items-center justify-center ${
                                    session.status === 'Terminée' 
                                    ? 'bg-green-100 text-green-600' 
                                    : 'bg-blue-100 text-blue-600'
                                }`}>
                                    <MessageSquare className="h-6 w-6" />
                                </div>
                            </div>
                            
                            <div className="min-w-0 flex-1">
                                <div className="flex items-center gap-3 mb-1">
                                    <Badge variant="outline" className="bg-indigo-50 text-indigo-700 border-indigo-100">
                                        {session.domaine}
                                    </Badge>
                                    <span className="flex items-center text-xs text-gray-500">
                                        <Calendar className="h-3 w-3 mr-1" />
                                        {new Date(session.date).toLocaleDateString('fr-FR', { day: 'numeric', month: 'short', year: 'numeric' })}
                                    </span>
                                </div>
                                <h3 className="text-lg font-semibold text-gray-900 group-hover:text-blue-600 transition-colors">
                                    {session.cas_titre}
                                </h3>
                                <p className="text-sm text-gray-500 mt-0.5 flex items-center gap-4">
                                    <span className="flex items-center">
                                        <Clock className="w-3.5 h-3.5 mr-1" />
                                        {new Date(session.date).toLocaleTimeString('fr-FR', { hour: '2-digit', minute: '2-digit' })}
                                    </span>
                                    {session.score > 0 && (
                                        <span className={`font-medium ${session.score >= 50 ? 'text-green-600' : 'text-orange-600'}`}>
                                            Score: {session.score}%
                                        </span>
                                    )}
                                </p>
                            </div>
                        </div>

                        <div className="p-6 pt-0 sm:pt-6 sm:pl-0 sm:border-l border-gray-100 flex items-center">
                            <Button 
                                onClick={() => handleResumeSession(session.id, session.domaine)}
                                variant="ghost" 
                                className="w-full sm:w-auto text-blue-600 hover:text-blue-700 hover:bg-blue-50 group/btn"
                            >
                                {session.status === 'Terminée' ? 'Revoir' : 'Continuer'}
                                <ArrowRight className="ml-2 h-4 w-4 transition-transform group-hover/btn:translate-x-1" />
                            </Button>
                        </div>
                        </div>
                    </CardContent>
                    </Card>
                ))
            )}
        </div>
      </div>
    </div>
  );
}

// END OF FILE: app/(marketing)/(main)/chat/page.tsx

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/app/(marketing)/(main)/expert/[caseId]/page.tsx

"use client";

import { useState, useEffect } from "react";
import { useParams } from "next/navigation";
import Link from "next/link";
import { Button } from "@/components/ui/button";
import { Textarea } from "@/components/ui/textarea";
import { Card, CardContent, CardHeader, CardTitle, CardDescription } from "@/components/ui/card";
import { Badge } from "@/components/ui/badge";
import { Separator } from "@/components/ui/separator";
import { Skeleton } from "@/components/ui/skeleton";
import { Tabs, TabsContent, TabsList, TabsTrigger } from "@/components/ui/tabs";
import {
  ArrowLeft,
  Loader2,
  User,
  Stethoscope,
  FlaskConical,
  Pill,
  Sparkles,
  BrainCircuit,
  Hash,
  Calendar,
  AlertCircle,
  CheckCircle2,
  Eye,
  EyeOff,
  Check,
  X
} from "lucide-react";
import { getCaseById, updateCaseStatus, type CaseStatus } from "@/lib/api";

type CasClinique = Awaited<ReturnType<typeof getCaseById>>;

const DetailSection = ({
  title,
  icon,
  children,
  className,
}: {
  title: string;
  icon: React.ReactNode;
  children: React.ReactNode;
  className?: string;
}) => (
  <Card className={className}>
    <CardHeader className="pb-3">
      <CardTitle className="text-lg flex items-center gap-2">
        {icon}
        {title}
      </CardTitle>
    </CardHeader>
    <CardContent>
      <div className="grid grid-cols-1 md:grid-cols-2 gap-3">{children}</div>
    </CardContent>
  </Card>
);

const DetailItem = ({
  label,
  value,
}: {
  label: string;
  value: string | number | boolean | undefined | null;
}) => {
  if (value === undefined || value === null || value === "") return null;
  return (
    <div className="bg-muted/50 p-3 rounded-lg border">
      <p className="text-xs font-medium text-muted-foreground uppercase tracking-wide">
        {label}
      </p>
      <p className="text-sm font-medium mt-1">{String(value)}</p>
    </div>
  );
};

const CaseDetailPage = () => {
  const params = useParams();
  const caseId = params.caseId as string;

  const [cas, setCas] = useState<CasClinique | null>(null);
  const [isLoading, setIsLoading] = useState(true);
  const [isUpdating, setIsUpdating] = useState(false);
  const [error, setError] = useState<string | null>(null);

  const [isChallengeMode, setIsChallengeMode] = useState(false);
  const [userHypothesis, setUserHypothesis] = useState("");
  const [userExams, setUserExams] = useState("");
  const [showResults, setShowResults] = useState(false);

  useEffect(() => {
    if (!caseId) return;
    const fetchCaseDetails = async () => {
      setIsLoading(true);
      setError(null);
      try {
        const data = await getCaseById(caseId);
        setCas(data);
      } catch (e) {
        const message = e instanceof Error ? e.message : "Impossible de charger les details du cas.";
        setError(message);
        console.error(e);
      } finally {
        setIsLoading(false);
      }
    };
    fetchCaseDetails();
  }, [caseId]);

  const startChallenge = () => {
    setIsChallengeMode(true);
    setShowResults(false);
    setUserHypothesis("");
    setUserExams("");
  };

  const exitChallenge = () => {
    setIsChallengeMode(false);
    setShowResults(false);
  };

  const handleStatusChange = async (newStatus: CaseStatus) => {
    if (!cas) return;
    setIsUpdating(true);
    try {
      await updateCaseStatus(cas.id_unique, newStatus);
      const updatedCas = await getCaseById(cas.id_unique);
      setCas(updatedCas);
    } catch (e) {
      console.error("Failed to update status", e);
      const message = e instanceof Error ? e.message : "Erreur inconnue";
      alert("Erreur lors de la mise à jour du statut: " + message);
    } finally {
      setIsUpdating(false);
    }
  };

  if (isLoading) {
    return (
      <div className="min-h-screen bg-gradient-to-br from-slate-50 to-slate-100">
        <div className="p-4 sm:p-6 lg:p-8 max-w-5xl mx-auto">
          <Skeleton className="h-8 w-48 mb-6" />
          <Skeleton className="h-12 w-3/4 mb-2" />
          <Skeleton className="h-4 w-1/2 mb-8" />
          <div className="space-y-4">
            <Skeleton className="h-40 w-full" />
            <Skeleton className="h-40 w-full" />
          </div>
        </div>
      </div>
    );
  }

  if (error) {
    return (
      <div className="min-h-screen bg-gradient-to-br from-slate-50 to-slate-100">
        <div className="p-4 sm:p-6 lg:p-8 max-w-5xl mx-auto">
          <Card className="border-destructive">
            <CardContent className="p-6">
              <div className="flex items-center gap-3 justify-center text-destructive">
                <AlertCircle className="h-5 w-5" />
                <p>{error}</p>
              </div>
            </CardContent>
          </Card>
        </div>
      </div>
    );
  }

  if (!cas) {
    return (
      <div className="min-h-screen bg-gradient-to-br from-slate-50 to-slate-100">
        <div className="p-4 sm:p-6 lg:p-8 max-w-5xl mx-auto">
          <Card>
            <CardContent className="p-12 text-center">
              <p className="text-muted-foreground">Aucun cas a afficher.</p>
            </CardContent>
          </Card>
        </div>
      </div>
    );
  }

  return (
    <div className="min-h-screen bg-gradient-to-br from-slate-50 to-slate-100">
      <div className="p-4 sm:p-6 lg:p-8 max-w-5xl mx-auto">
        {/* Back Link */}
        <Link
          href="/expert"
          className="inline-flex items-center gap-2 text-sm text-muted-foreground hover:text-foreground mb-6 transition-colors"
        >
          <ArrowLeft className="h-4 w-4" />
          Retour a l&apos;explorateur
        </Link>

        {/* Header */}
        <div className="mb-8">
          <div className="flex flex-wrap items-start justify-between gap-4">
            <div>
              <h1 className="text-3xl font-bold tracking-tight text-primary">
                {cas.motif_consultation}
              </h1>
              <div className="flex flex-wrap items-center gap-3 mt-2">
                <Badge variant="outline" className="font-mono text-xs flex items-center gap-1">
                  <Hash className="h-3 w-3" />
                  {cas.id_unique}
                </Badge>
                <Badge variant="secondary" className="text-xs">
                  Hash: {cas.hash_authentification ? cas.hash_authentification.substring(0, 12) + "..." : "N/A"}
                </Badge>
              </div>
            </div>
            {!isChallengeMode && (
              <div className="flex gap-2">
                <Button 
                    variant="outline" 
                    className="gap-2 text-green-600 border-green-200 hover:bg-green-50"
                    onClick={() => handleStatusChange("validé")}
                    disabled={isUpdating || cas.statut === "PUBLIE"}
                >
                  <Check className="h-4 w-4" />
                  Valider
                </Button>
                <Button 
                    variant="outline" 
                    className="gap-2 text-red-600 border-red-200 hover:bg-red-50"
                    onClick={() => handleStatusChange("rejeté")}
                    disabled={isUpdating || cas.statut === "REJETE"}
                >
                  <X className="h-4 w-4" />
                  Rejeter
                </Button>
                <Button onClick={startChallenge} className="gap-2">
                  <Sparkles className="h-4 w-4" />
                  Lancer le Defi Expert
                </Button>
              </div>
            )}
          </div>
        </div>

        {/* Patient Info - Always visible */}
        <DetailSection
          title="Informations Patient"
          icon={<User className="h-5 w-5 text-primary" />}
          className="mb-4"
        >
          <DetailItem label="Age" value={`${cas.donnees_patient.age} ans`} />
          <DetailItem label="Sexe" value={cas.donnees_patient.sexe} />
        </DetailSection>

        {/* Symptoms - Always visible */}
        <DetailSection
          title="Symptomes declares"
          icon={<Stethoscope className="h-5 w-5 text-primary" />}
          className="mb-4"
        >
          {cas.symptomes?.map((s, i) => (
            <DetailItem
              key={i}
              label={s.nom}
              value={`${s.degre || "Non precise"} - Duree: ${s.duree || "N/A"}`}
            />
          ))}
        </DetailSection>

        {/* Normal Mode: Show all info */}
        {!isChallengeMode && (
          <>
            <DetailSection
              title="Diagnostic Physique"
              icon={<Stethoscope className="h-5 w-5 text-primary" />}
              className="mb-4"
            >
              {cas.diagnostics_physiques?.map((d, i) => (
                <DetailItem key={i} label={d.nom} value={d.resultat} />
              ))}
            </DetailSection>

            <DetailSection
              title="Examens Complementaires"
              icon={<FlaskConical className="h-5 w-5 text-primary" />}
              className="mb-4"
            >
              {cas.examens_complementaires?.map((e, i) => (
                <DetailItem key={i} label={e.nom} value={e.resultat} />
              ))}
            </DetailSection>
          </>
        )}

        {/* Challenge Mode */}
        {isChallengeMode && (
          <Card className="border-2 border-primary/50 bg-primary/5 mb-4">
            <CardHeader>
              <div className="flex items-center justify-between">
                <div className="flex items-center gap-3">
                  <div className="rounded-full bg-primary/10 p-2">
                    <BrainCircuit className="h-6 w-6 text-primary" />
                  </div>
                  <div>
                    <CardTitle className="text-xl text-primary">Mode Defi Expert</CardTitle>
                    <CardDescription>
                      Les sections &quot;Diagnostic&quot; et &quot;Examens&quot; sont masquees
                    </CardDescription>
                  </div>
                </div>
                <Button variant="ghost" size="sm" onClick={exitChallenge}>
                  Quitter le defi
                </Button>
              </div>
            </CardHeader>
            <CardContent className="space-y-6">
              <div className="space-y-2">
                <label className="text-sm font-medium flex items-center gap-2">
                  <span className="bg-primary text-primary-foreground rounded-full w-6 h-6 flex items-center justify-center text-xs">
                    1
                  </span>
                  Quelles sont vos hypotheses de diagnostic ?
                </label>
                <Textarea
                  value={userHypothesis}
                  onChange={(e) => setUserHypothesis(e.target.value)}
                  placeholder="Ex: Paludisme simple, crise de tetanie, infection urinaire..."
                  className="bg-background"
                  rows={3}
                />
              </div>

              <div className="space-y-2">
                <label className="text-sm font-medium flex items-center gap-2">
                  <span className="bg-primary text-primary-foreground rounded-full w-6 h-6 flex items-center justify-center text-xs">
                    2
                  </span>
                  Quels examens complementaires prescrivez-vous ?
                </label>
                <Textarea
                  value={userExams}
                  onChange={(e) => setUserExams(e.target.value)}
                  placeholder="Ex: Goutte epaisse, NFS, ionogramme sanguin..."
                  className="bg-background"
                  rows={3}
                />
              </div>

              <div className="flex justify-center pt-4">
                <Button
                  onClick={() => setShowResults(true)}
                  disabled={showResults || (!userHypothesis && !userExams)}
                  size="lg"
                  className="gap-2"
                >
                  {showResults ? (
                    <Eye className="h-4 w-4" />
                  ) : (
                    <EyeOff className="h-4 w-4" />
                  )}
                  {showResults ? "Resultats affiches" : "Comparer avec le cas reel"}
                </Button>
              </div>

              {showResults && (
                <div className="mt-8 pt-6 border-t-2 border-primary/30 space-y-4 animate-in fade-in-50 slide-in-from-bottom-4">
                  <div className="text-center mb-6">
                    <Badge className="bg-primary text-primary-foreground px-4 py-1">
                      <CheckCircle2 className="h-4 w-4 mr-2" />
                      Resultats du Cas Reel
                    </Badge>
                  </div>

                  <DetailSection
                    title="Diagnostic Physique"
                    icon={<Stethoscope className="h-5 w-5 text-primary" />}
                  >
                    {cas.diagnostics_physiques.map((d, i) => (
                      <DetailItem key={i} label={d.nom} value={d.resultat} />
                    ))}
                  </DetailSection>

                  <DetailSection
                    title="Examens Complementaires"
                    icon={<FlaskConical className="h-5 w-5 text-primary" />}
                  >
                    {cas.examens_complementaires.map((e, i) => (
                      <DetailItem key={i} label={e.nom} value={e.resultat} />
                    ))}
                  </DetailSection>
                </div>
              )}
            </CardContent>
          </Card>
        )}
      </div>
    </div>
  );
};

export default CaseDetailPage;
// END OF FILE: app/(marketing)/(main)/expert/[caseId]/page.tsx

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/app/(marketing)/(main)/expert/dashboard/DashboardClient.tsx

"use client";

import { useState, useEffect } from "react";
import { useRouter } from "next/navigation";
import { DashboardStatCard } from "@/components/expert/dashboard-stat-card";
import { ClinicalCasesTable } from "@/components/expert/clinical-cases-table";
import { getExpertDashboardData, type DashboardData } from "@/lib/api";
import { ExpertSidebar } from "@/components/expert-sidebar";
//import { ExpertOnboarding } from "@/components/expert/expert-onboarding";
import { ExpertTour } from "@/components/expert/expert-tour";
import {
  FileText,
  Clock,
  CheckCircle2,
  Bell,
  HelpCircle,
  XCircle,
  Loader2 
} from "lucide-react";

export const DashboardClient = () => {
  const [data, setData] = useState<DashboardData | null>(null);
  const [isLoading, setIsLoading] = useState(true);
  const router = useRouter();

  // Load data on mount
  useEffect(() => {
    const loadData = async () => {
        try {
            const dashboardData = await getExpertDashboardData();
            setData(dashboardData);
        } catch (error) {
            console.error("Failed to load dashboard data", error);
        } finally {
            setIsLoading(false);
        }
    };
    loadData();
  }, []);

  const handleReview = (caseId: string) => {
    router.push(`/expert/editor/${caseId}`);
  };

  const handleViewDetails = (caseId: string) => {
    router.push(`/expert/editor/${caseId}`);
  };

  if (isLoading) {
      return (
          <div className="flex min-h-screen bg-gray-50 items-center justify-center">
              <Loader2 className="h-8 w-8 animate-spin text-blue-600" />
          </div>
      );
  }

  if (!data) return null;

  return (
    <div className="flex min-h-screen bg-gray-50">
      {/* ONBOARDING UX (Pour le point du jury) */}
        <ExpertTour />

      {/* Sidebar */}
      <ExpertSidebar />

      {/* Main Content */}
      <div className="flex-1 ml-64">
        {/* Header */}
        <header className="bg-white shadow-[0_1px_3px_rgb(0,0,0,0.06)]">
          <div className="px-6 py-5">
            <div className="flex items-center justify-between">
              <div>
                <h1 className="text-2xl font-bold text-gray-900">Tableau de bord de gestion des cas</h1>
                <p className="text-sm text-gray-500 mt-1">Examiner et valider les cas cliniques extraits</p>
              </div>
              <div className="flex items-center gap-3">
                <button className="p-2 hover:bg-gray-100 rounded-lg transition-colors">
                  <Bell className="h-5 w-5 text-gray-600" />
                </button>
                <button className="p-2 hover:bg-gray-100 rounded-lg transition-colors">
                  <HelpCircle className="h-5 w-5 text-gray-600" />
                </button>
              </div>
            </div>
          </div>
        </header>

        {/* Content */}
        <div className="px-6 py-6">
          {/* Stats Cards */}
          <div className="grid gap-6 md:grid-cols-3 mb-6">
            <DashboardStatCard
              title="Total des cas traités"
              value={data.kpis.totalCases.toLocaleString()}
              icon={FileText}
              iconColor="text-blue-600"
              iconBgColor="bg-blue-100"
              trend={data.kpis.trendTotal}
            />
            <DashboardStatCard
              title="En attente d'examen"
              value={data.kpis.pendingCases}
              icon={Clock}
              iconColor="text-orange-600"
              iconBgColor="bg-orange-100"
              trend={data.kpis.trendPending}
            />
            <DashboardStatCard
              title="Cas validés"
              value={data.kpis.validatedCases.toLocaleString()}
              icon={CheckCircle2}
              iconColor="text-green-600"
              iconBgColor="bg-green-100"
              trend={data.kpis.trendValidated}
            />
            <DashboardStatCard
              title="Cas rejetés"
              value={data.kpis.rejectedCases.toLocaleString()}
              icon={XCircle}
              iconColor="text-red-600"
              iconBgColor="bg-red-100"
            />
          </div>

          {/* Cases Table */}
          <ClinicalCasesTable 
            cases={data.cases}
            onReview={handleReview}
            onViewDetails={handleViewDetails}
          />
        </div>
      </div>
    </div>
  );
};
// END OF FILE: app/(marketing)/(main)/expert/dashboard/DashboardClient.tsx

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/app/(marketing)/(main)/expert/dashboard/page.tsx

import { DashboardClient } from "./DashboardClient";

const ExpertDashboardPage = () => {
  return <DashboardClient />;
};

export default ExpertDashboardPage;
// END OF FILE: app/(marketing)/(main)/expert/dashboard/page.tsx

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/app/(marketing)/(main)/expert/editor/[id]/CaseReviewClient.tsx

"use client";

import { useState, useEffect } from "react";
import { useRouter } from "next/navigation";
import { Button } from "@/components/ui/button";
import { Badge } from "@/components/ui/badge";
import { Card, CardContent, CardHeader, CardTitle } from "@/components/ui/card";
import {
  Table,
  TableBody,
  TableCell,
  TableHead,
  TableHeader,
  TableRow,
} from "@/components/ui/table";
import { validateCase, rejectCase, setEnCours, getCaseForReview, type CaseReviewData } from "@/lib/api";
import { 
  User, Activity, Shield, Droplets, Plane, 
  MapPin, Loader2, Clock, Calendar, Stethoscope, Pill, AlertTriangle, Download
} from "lucide-react";
import { ExpertSidebar } from "@/components/expert-sidebar";
import { Label } from "@/components/ui/label";
import { RadioGroup, RadioGroupItem } from "@/components/ui/radio-group";

type Props = {
  caseId: string;
};

type DecisionType = 'validate' | 'en_cours' | 'reject' | null;

const getStatusBadge = (status: string) => {
  switch (status) {
    case "attente":
      return <Badge className="bg-orange-100 text-orange-600 border-0 font-medium">⭐ En attente</Badge>;
    case "validé":
      return <Badge className="bg-green-100 text-green-600 border-0 font-medium">✓ Validé</Badge>;
    case "rejeté":
      return <Badge className="bg-red-100 text-red-600 border-0 font-medium">✕ Rejeté</Badge>;
    default: return null;
  }
};

const getLabStatusBadge = (status: string) => {
  switch (status) {
    case "High": return <Badge className="bg-red-100 text-red-600 border-0">Critique</Badge>;
    case "Elevated": return <Badge className="bg-yellow-100 text-yellow-600 border-0">Élevé</Badge>;
    case "Normal": return <Badge className="bg-green-100 text-green-600 border-0">Normal</Badge>;
    default: return null;
  }
};



export const CaseReviewClient = ({ caseId }: Props) => {
  const [caseData, setCaseData] = useState<CaseReviewData | null>(null);
  const [isLoading, setIsLoading] = useState(true);
  const [isValidating, setIsValidating] = useState(false);
  const [isRejecting, setIsRejecting] = useState(false);
  const [decision, setDecision] = useState<DecisionType>(null);
  const [notes, setNotes] = useState("");
  const router = useRouter();
  const [selectedParts, setSelectedParts] = useState<string[]>([]);
const [notifEmail, setNotifEmail] = useState("");

const rejectionParts = [
  "Anamnèse", "Examen Physique", "Paraclinique", "Diagnostic", "Ordonnance"
];

const togglePart = (part: string) => {
  setSelectedParts(prev => 
    prev.includes(part) ? prev.filter(p => p !== part) : [...prev, part]
  );
};




  useEffect(() => {
    const loadCase = async () => {
        try {
            const data = await getCaseForReview(caseId);
            setCaseData(data);
        } catch (error) {
            console.error("Erreur chargement cas:", error);
            // Gérer l'erreur (ex: redirect ou message)
        } finally {
            setIsLoading(false);
        }
    };
    loadCase();
  }, [caseId]);

 const handleSubmit = async () => {
  if (!caseData) return;
  if (!decision) {
    alert("Veuillez sélectionner une décision");
    return;
  }

  if (decision === 'validate') {
    if (!confirm("Valider ce cas ?")) return;
    setIsValidating(true);
    try { 
      await validateCase(caseData.id, notes); 
      router.push("/expert/dashboard"); 
    } catch (e) { alert(e); } 
    finally { setIsValidating(false); }
  } 
  
  else if (decision === 'en_cours') {
    setIsValidating(true); // Utilise un état de chargement
    try { 
      await setEnCours(caseData.id, notes); 
      router.push("/expert/dashboard"); 
    } catch (e) { alert(e); } 
    finally { setIsValidating(false); }
  }

  else if (decision === 'reject') {
  if (!notes || !notifEmail) {
    alert("La raison et l'email de notification sont obligatoires pour un rejet.");
    return;
  }
  setIsRejecting(true);
  try { 
    // On envoie toutes les infos demandées par le PDF
    await rejectCase(caseData.id, notes, selectedParts, notifEmail); 
    router.push("/expert/dashboard"); 
  } catch (e) { alert(e); } 
  finally { setIsRejecting(false); }
}
};

  const handleDownload = () => {
      if (!caseData) return;
      const jsonString = JSON.stringify(caseData, null, 2);
      const blob = new Blob([jsonString], { type: "application/json" });
      const url = URL.createObjectURL(blob);
      const link = document.createElement('a');
      link.href = url;
      link.download = `case-${caseData.id}.json`;
      document.body.appendChild(link);
      link.click();
      document.body.removeChild(link);
  };

  if (isLoading) {
      return (
          <div className="flex h-screen items-center justify-center bg-gray-50">
              <Loader2 className="h-8 w-8 animate-spin text-blue-600" />
          </div>
      );
  }

  if (!caseData) return <div>Erreur de chargement du cas.</div>;

  return (
    <div className="flex min-h-screen bg-gray-50">
      <ExpertSidebar />

      <div className="flex-1 ml-64">
        {/* Header */}
        <header className="bg-white shadow-sm sticky top-0 z-10">
          <div className="px-6 py-4 flex justify-between items-center">
            <div>
              <h1 className="text-2xl font-bold text-gray-900">Révision de Cas Clinique</h1>
              <div className="flex items-center gap-2 text-sm text-gray-500 mt-1">
                <span className="font-mono bg-gray-100 px-2 py-0.5 rounded text-xs">ID: {caseData.id}</span>
                <span>•</span>
                <span>Généré le {new Date(caseData.createdDate).toLocaleDateString()}</span>
              </div>
            </div>
            <div className="flex gap-2">
               <Button onClick={handleDownload} variant="outline" size="sm" className="hidden sm:flex">
                  <Download className="h-4 w-4 mr-2" /> Exporter JSON
               </Button>
               {getStatusBadge(caseData.status)}
            </div>
          </div>
        </header>

        <div className="px-6 py-6">
          <div className="grid grid-cols-1 lg:grid-cols-3 gap-6">
            
            {/* COLONNE GAUCHE : DONNÉES CLINIQUES */}
            <div className="lg:col-span-2 space-y-6">
              
              {/* 1. INFORMATIONS PATIENT */}
              <Card className="border-l-4 border-l-blue-500 shadow-sm">
                <CardHeader className="pb-2">
                  <CardTitle className="text-lg flex items-center gap-2">
                    <User className="h-5 w-5 text-blue-500" />
                    Identité & Socio-démographie
                  </CardTitle>
                </CardHeader>
                <CardContent>
                  <div className="grid grid-cols-2 md:grid-cols-4 gap-4">
                    <div>
                        <p className="text-xs text-gray-500 uppercase">Age / Sexe</p>
                        <p className="font-semibold text-gray-900">{caseData.patientInfo.age} ans / {caseData.patientInfo.gender === "Male" ? "H" : "F"}</p>
                    </div>
                    <div>
                        <p className="text-xs text-gray-500 uppercase">Profession</p>
                        <p className="font-medium text-gray-900">{caseData.patientInfo.profession || "Non renseigné"}</p>
                    </div>
                    <div>
                        <p className="text-xs text-gray-500 uppercase">Région</p>
                        <p className="font-medium text-gray-900 flex items-center gap-1">
                           <MapPin className="h-3 w-3" /> {caseData.patientInfo.region || "N/A"}
                        </p>
                    </div>
                    <div>
                        <p className="text-xs text-gray-500 uppercase">Groupe Sanguin</p>
                        <Badge variant="outline">{caseData.patientInfo.groupeSanguin || "?"}</Badge>
                    </div>
                  </div>
                </CardContent>
              </Card>

              {/* 2. MODE DE VIE & RISQUES (NOUVEAU ET CRUCIAL) */}
              <Card className="shadow-sm">
                <CardHeader className="pb-2">
                  <CardTitle className="text-lg flex items-center gap-2">
                    <Activity className="h-5 w-5 text-green-600" />
                    Mode de Vie & Facteurs de Risque
                  </CardTitle>
                </CardHeader>
                <CardContent>
                  <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div className="bg-green-50 p-3 rounded-lg border border-green-100">
                        <div className="flex items-center justify-between mb-2">
                            <span className="text-sm text-green-800 font-medium flex gap-2">
                                <Droplets className="h-4 w-4"/> Eau de boisson
                            </span>
                            <span className="text-sm font-bold text-gray-900">{caseData.modeDeVie.qualiteEau || "N/A"}</span>
                        </div>
                        <div className="flex items-center justify-between">
                            <span className="text-sm text-green-800 font-medium flex gap-2">
                                <Shield className="h-4 w-4"/> Moustiquaire
                            </span>
                            <span className={caseData.modeDeVie.moustiquaire ? "text-green-600 font-bold text-sm" : "text-red-600 font-bold text-sm"}>
                                {caseData.modeDeVie.moustiquaire ? "OUI" : "NON"}
                            </span>
                        </div>
                    </div>
                    
                    <div className="bg-gray-50 p-3 rounded-lg border border-gray-100">
                        <p className="text-xs text-gray-500 uppercase mb-2">Voyages & Addictions</p>
                        {caseData.modeDeVie.voyages.length > 0 ? (
                            caseData.modeDeVie.voyages.map((v, i) => (
                                <div key={i} className="flex gap-2 text-sm text-gray-800 mb-1">
                                    <Plane className="h-4 w-4 text-gray-400"/> {v}
                                </div>
                            ))
                        ) : <p className="text-sm text-gray-400 italic">Aucun voyage récent</p>}
                        
                        {caseData.modeDeVie.addictions.length > 0 && (
                             <div className="mt-2 pt-2 border-t border-gray-200">
                                {caseData.modeDeVie.addictions.map((a, i) => (
                                    <Badge key={i} variant="secondary" className="mr-1">{a}</Badge>
                                ))}
                             </div>
                        )}
                    </div>
                  </div>
                </CardContent>
              </Card>

              {/* 3. HISTOIRE & ANTÉCÉDENTS */}
              <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                  <Card className="shadow-sm">
                    <CardHeader className="pb-2">
                      <CardTitle className="text-base flex items-center gap-2">
                        <Clock className="h-4 w-4 text-gray-600"/> Histoire de la maladie
                      </CardTitle>
                    </CardHeader>
                    <CardContent>
                      <p className="text-sm text-gray-700 leading-relaxed whitespace-pre-line font-medium">
                        &quot;{caseData.title}&quot;
                      </p>
                      <p className="text-sm text-gray-600 mt-2">
                        {caseData.patientHistory}
                      </p>
                    </CardContent>
                  </Card>

                  <Card className="shadow-sm">
                    <CardHeader className="pb-2">
                      <CardTitle className="text-base flex items-center gap-2">
                        <Calendar className="h-4 w-4 text-gray-600"/> Antécédents
                      </CardTitle>
                    </CardHeader>
                    <CardContent>
                      {caseData.pastMedicalHistory.length > 0 ? (
                          <ul className="space-y-1">
                            {caseData.pastMedicalHistory.map((item, index) => (
                              <li key={index} className="flex items-start gap-2 text-sm text-gray-700">
                                <span className="text-blue-500 mt-1">•</span> {item}
                              </li>
                            ))}
                          </ul>
                      ) : <p className="text-sm text-gray-400 italic">Aucun antécédent notable</p>}
                    </CardContent>
                  </Card>
              </div>

              {/* 4. EXAMEN PHYSIQUE (NOUVEAU) */}
              <Card className="shadow-sm border-t-4 border-t-purple-500">
                <CardHeader>
                  <CardTitle className="text-lg flex items-center gap-2">
                    <Stethoscope className="h-5 w-5 text-purple-600" />
                    Examen Physique
                  </CardTitle>
                </CardHeader>
                <CardContent>
                  <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                    {caseData.diagnosticPhysique.length > 0 ? (
                        caseData.diagnosticPhysique.map((diag, idx) => (
                            <div key={idx} className="bg-purple-50 p-3 rounded border border-purple-100">
                                <p className="text-xs font-bold text-purple-700 uppercase">{diag.nom}</p>
                                <p className="text-sm font-medium text-gray-900">{diag.resultat}</p>
                            </div>
                        ))
                    ) : <p className="text-gray-500 italic">Données non disponibles</p>}
                  </div>
                </CardContent>
              </Card>

              {/* 5. PARACLINIQUE (LABO) */}
              <Card className="shadow-sm">
                <CardHeader>
                  <CardTitle className="text-lg">Résultats Paracliniques</CardTitle>
                </CardHeader>
                <CardContent>
                  <Table>
                    <TableHeader>
                      <TableRow className="bg-gray-50">
                        <TableHead>Examen</TableHead>
                        <TableHead>Résultat</TableHead>
                        <TableHead>Normale</TableHead>
                        <TableHead>Interprétation</TableHead>
                      </TableRow>
                    </TableHeader>
                    <TableBody>
                      {caseData.laboratoryResults.map((res, idx) => (
                        <TableRow key={idx}>
                          <TableCell className="font-medium">{res.testName}</TableCell>
                          <TableCell className={res.status === "High" ? "text-red-600 font-bold" : ""}>
                            {res.result}
                          </TableCell>
                          <TableCell className="text-gray-500 text-xs">{res.referenceRange}</TableCell>
                          <TableCell>{getLabStatusBadge(res.status)}</TableCell>
                        </TableRow>
                      ))}
                    </TableBody>
                  </Table>
                </CardContent>
              </Card>

              {/* 6. TRAITEMENT EN COURS (NOUVEAU) */}
              {caseData.traitementEnCours.length > 0 && (
                  <Card className="shadow-sm bg-slate-50">
                    <CardHeader className="pb-2">
                        <CardTitle className="text-base flex items-center gap-2">
                            <Pill className="h-4 w-4 text-slate-600"/> Traitements en cours
                        </CardTitle>
                    </CardHeader>
                    <CardContent>
                        <div className="space-y-2">
                            {caseData.traitementEnCours.map((t, i) => (
                                <div key={i} className="flex justify-between items-center bg-white p-2 rounded border">
                                    <span className="font-medium text-sm">{t.nom}</span>
                                    <span className="text-xs text-gray-500">{t.posologie || "Posologie non précisée"}</span>
                                </div>
                            ))}
                        </div>
                    </CardContent>
                  </Card>
              )}

            </div>

            {/* COLONNE DROITE : VALIDATION */}
            <div className="lg:col-span-1">
              <div className="sticky top-24 space-y-6">
                
                {/* BLOC PEDAGOGIQUE (VISIBLE POUR L'EXPERT) */}
                <Card className="bg-indigo-50 border-indigo-100 border">
                    <CardHeader className="pb-2">
                        <CardTitle className="text-sm font-bold text-indigo-800 uppercase flex items-center gap-2">
                            <AlertTriangle className="h-4 w-4"/> Données Cachées (Solution)
                        </CardTitle>
                    </CardHeader>
                    <CardContent className="space-y-3 text-sm">
                        <div>
                            <span className="font-semibold text-indigo-900">Diagnostic Final :</span>
                            <p className="text-indigo-700">{caseData.diagnosticFinal || "Non défini"}</p>
                        </div>
                        <div>
                            <span className="font-semibold text-indigo-900">Niveau :</span>
                            <Badge variant="outline" className="ml-2 bg-white text-indigo-700">{caseData.niveauDifficulte}</Badge>
                        </div>
                        <div>
                            <span className="font-semibold text-indigo-900">Objectifs :</span>
                            <ul className="list-disc list-inside text-indigo-700 text-xs mt-1">
                                {caseData.objectifsPedagogiques.map((o, i) => <li key={i}>{o}</li>)}
                            </ul>
                        </div>

                         {/* NOUVEAU : Indices Cliniques */}
                        {caseData.indicesCliniques && caseData.indicesCliniques.length > 0 && (
                            <div>
                                <span className="font-semibold text-indigo-900 flex items-center gap-1">
                                    💡 Indices Clés :
                                </span>
                                <ul className="list-disc list-inside text-indigo-700 mt-1 pl-1 space-y-0.5">
                                    {caseData.indicesCliniques.map((item, i) => <li key={i}>{item}</li>)}
                                </ul>
                            </div>
                        )}

                        {/* NOUVEAU : Erreurs à éviter */}
                        {caseData.erreursCourantes && caseData.erreursCourantes.length > 0 && (
                            <div>
                                <span className="font-semibold text-red-800 flex items-center gap-1">
                                    ⚠️ Pièges à éviter :
                                </span>
                                <ul className="list-disc list-inside text-red-700 mt-1 pl-1 space-y-0.5">
                                    {caseData.erreursCourantes.map((item, i) => <li key={i}>{item}</li>)}
                                </ul>
                            </div>
                        )}
                              {/* DANS LA BARRE LATÉRALE DROITE (SOLUTION) */}
{caseData.ordonnanceIdeale && caseData.ordonnanceIdeale.length > 0 && (
<div className="mt-4">
  <span className="font-semibold text-green-800 flex items-center gap-1 mb-2">
      Ordonnance Type :
  </span>
  <div className="bg-white rounded border border-green-200 overflow-hidden">
    <table className="w-full text-xs text-left">
      <thead className="bg-green-50 text-green-900">
        <tr>
          <th className="p-2">Médicament</th>
          <th className="p-2">Posologie</th>
          <th className="p-2">Durée</th>
        </tr>
      </thead>
      <tbody className="divide-y divide-gray-100">
        {caseData.ordonnanceIdeale.map((ligne, idx) => (
          <tr key={idx}>
            <td className="p-2 font-medium">{ligne.nom_medicament}</td>
            <td className="p-2 text-gray-600">
              {ligne.dosage}, {ligne.forme}<br/>
              <span className="italic">{ligne.frequence}</span>
            </td>
            <td className="p-2">{ligne.duree}</td>
          </tr>
        ))}
      </tbody>
    </table>
  </div>
</div>
)}

                    </CardContent>
                </Card>

                {/* BLOC VALIDATION */}
                <Card className="shadow-md border-0 ring-1 ring-gray-200">
                  <CardHeader>
                    <CardTitle className="text-base font-semibold">Validation Expert</CardTitle>
                  </CardHeader>
                  <CardContent className="space-y-5">
                    <RadioGroup value={decision || ""} onValueChange={(v) => setDecision(v as DecisionType)}>
                      
                      {/* OPTION VALIDER */}
  <div className={`flex items-start space-x-3 p-3 rounded-lg border transition-all ${decision === 'validate' ? 'bg-green-50 border-green-200' : 'hover:bg-gray-50 border-transparent'}`}>
    <RadioGroupItem value="validate" id="validate" className="mt-1" />
    <Label htmlFor="validate" className="cursor-pointer">
      <span className="font-semibold text-gray-900 block">Valider le cas</span>
      <span className="text-xs text-gray-500">Prêt pour publication.</span>
    </Label>
  </div>

  {/* NOUVELLE OPTION : EN COURS */}
  <div className={`flex items-start space-x-3 p-3 rounded-lg border transition-all ${decision === 'en_cours' ? 'bg-amber-50 border-amber-200' : 'hover:bg-gray-50 border-transparent'}`}>
    <RadioGroupItem value="en_cours" id="en_cours" className="mt-1" />
    <Label htmlFor="en_cours" className="cursor-pointer">
      <span className="font-semibold text-amber-900 block">Mettre en cours</span>
      <span className="text-xs text-amber-600">Besoin de temps pour vérifier certaines données.</span>
    </Label>
  </div>

  {/* OPTION REJETER */}
  <div className={`flex items-start space-x-3 p-3 rounded-lg border transition-all ${decision === 'reject' ? 'bg-red-50 border-red-200' : 'hover:bg-gray-50 border-transparent'}`}>
    <RadioGroupItem value="reject" id="reject" className="mt-1" />
    <Label htmlFor="reject" className="cursor-pointer">
      <span className="font-semibold text-gray-900 block">Rejeter le cas</span>
      <span className="text-xs text-gray-500">Incohérences médicales majeures.</span>
    </Label>
  </div>

                    </RadioGroup>
                     {/* ================== AJOUT ICI : FORMULAIRE DE REJET CONDITIONNEL ================== */}
  {decision === 'reject' && (
    <div className="space-y-4 p-4 bg-red-50 rounded-lg border border-red-100 animate-in fade-in slide-in-from-top-2">
      <Label className="text-red-800 font-bold text-sm">Précisions pour le rejet (Requis)</Label>
      
      <p className="text-xs text-red-600 font-medium">Parties du cas posant problème :</p>
      <div className="grid grid-cols-2 gap-2">
        {rejectionParts.map(part => (
          <label key={part} className="flex items-center gap-2 text-xs cursor-pointer hover:bg-red-100 p-1 rounded">
            <input 
              type="checkbox" 
              checked={selectedParts.includes(part)}
              onChange={() => togglePart(part)}
              className="rounded border-red-300 text-red-600"
            />
            {part}
          </label>
        ))}
      </div>

      <div className="space-y-1">
        <Label className="text-xs text-red-800">Email de notification (Fultang/Admin)</Label>
        <input
          type="email"
          value={notifEmail}
          onChange={(e) => setNotifEmail(e.target.value)}
          placeholder="ex: controle@hospital.cm"
          className="w-full p-2 text-sm border border-red-200 rounded shadow-sm focus:ring-red-500 outline-none"
        />
      </div>
    </div>
  )}
  {/* ================================================================================= */}
                  <div>
    <Label className="text-sm font-medium mb-2 block">Commentaire (Raison du rejet ou note)</Label>
    <textarea
      value={notes}
      onChange={(e) => setNotes(e.target.value)}
      className="w-full p-2 border rounded-md text-sm focus:ring-2 focus:ring-blue-500 outline-none"
      rows={3}
      placeholder={decision === 'reject' ? "Expliquez précisément pourquoi le cas est rejeté..." : "Note optionnelle..."}
    />
  </div>

                    <Button
                      onClick={handleSubmit}
                      disabled={!decision || isValidating || isRejecting}
                      className={`w-full ${decision === 'reject' ? 'bg-red-600 hover:bg-red-700' : 'bg-blue-600 hover:bg-blue-700'}`}
                    >
                      {isValidating || isRejecting ? "Traitement..." : "Confirmer la décision"}
                    </Button>
                  </CardContent>
                </Card>
              </div>
            </div>

          </div>
        </div>
      </div>
    </div>
  );
};

export default CaseReviewClient;// END OF FILE: app/(marketing)/(main)/expert/editor/[id]/CaseReviewClient.tsx

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/app/(marketing)/(main)/expert/editor/[id]/EditorClient.tsx

"use client";

import { useState } from "react";
import { useRouter } from "next/navigation";
import { RawDataViewer } from "@/components/expert/raw-data-viewer";
import { CaseEditorForm, type CaseFormData } from "@/components/expert/case-editor-form";
import { ValidationActions } from "@/components/expert/validation-actions";
import { updateCase, publishCase, rejectCase, setEnCours, validateCase } from "@/lib/api";
import { Tabs, TabsContent, TabsList, TabsTrigger } from "@/components/ui/tabs";
import { Card, CardContent } from "@/components/ui/card";
import { Badge } from "@/components/ui/badge";
import { Database, FileEdit, Eye } from "lucide-react";

type Props = {
  caseId: string;
  initialRawData: object;
  initialFormData: CaseFormData;
};

export const EditorClient = ({ caseId, initialRawData, initialFormData }: Props) => {
  const [formData, setFormData] = useState(initialFormData);
  const [isLoading, setIsLoading] = useState(false);
  const router = useRouter();

  const handleSave = (data: CaseFormData) => {
    setFormData(data);
    console.log("Form data updated in state", data);
  };

  // Rejet avec formulaire détaillé (selon PDF)
  const handleReject = async (raison: string, partiesConcernees: string[], emailNotification: string) => {
    setIsLoading(true);
    try {
      await rejectCase(caseId, raison, partiesConcernees, emailNotification);
      alert("Cas rejeté avec succès. Un email a été envoyé si une adresse était fournie.");
      router.push("/expert/dashboard");
    } catch (error) {
      alert(`Erreur lors du rejet : ${error}`);
    } finally {
      setIsLoading(false);
    }
  };

  const handleSaveDraft = async () => {
    setIsLoading(true);
    try {
      await updateCase(caseId, formData);
      alert("Brouillon sauvegardé avec succès.");
    } catch (error) {
      alert(`Erreur lors de la sauvegarde : ${error}`);
    } finally {
      setIsLoading(false);
    }
  };

  const handlePublish = async () => {
    setIsLoading(true);
    try {
      await validateCase(caseId, "Validé et publié par l'expert");
      alert("Cas validé et publié avec succès.");
      router.push("/expert/validated");
    } catch (error) {
      alert(`Erreur lors de la validation : ${error}`);
    } finally {
      setIsLoading(false);
    }
  };

  // Nouveau: mettre en cours
  const handleSetEnCours = async () => {
    setIsLoading(true);
    try {
      await setEnCours(caseId, "Cas en cours de révision");
      alert("Cas marqué comme 'en cours' avec succès.");
      router.push("/expert/pending");
    } catch (error) {
      alert(`Erreur : ${error}`);
    } finally {
      setIsLoading(false);
    }
  };

  return (
    <div className="space-y-6">
      {/* Desktop: Side by side */}
      <div className="hidden lg:grid lg:grid-cols-2 gap-6">
        <RawDataViewer data={initialRawData} />
        <CaseEditorForm initialData={formData} onSave={handleSave} />
      </div>

      {/* Mobile/Tablet: Tabs */}
      <div className="lg:hidden">
        <Tabs defaultValue="editor" className="w-full">
          <TabsList className="grid w-full grid-cols-2">
            <TabsTrigger value="editor" className="gap-2">
              <FileEdit className="h-4 w-4" />
              Editeur
            </TabsTrigger>
            <TabsTrigger value="raw" className="gap-2">
              <Database className="h-4 w-4" />
              Donnees brutes
            </TabsTrigger>
          </TabsList>
          <TabsContent value="editor" className="mt-4">
            <CaseEditorForm initialData={formData} onSave={handleSave} />
          </TabsContent>
          <TabsContent value="raw" className="mt-4">
            <RawDataViewer data={initialRawData} />
          </TabsContent>
        </Tabs>
      </div>

      {/* Preview Section */}
      <Card>
        <CardContent className="p-6">
          <div className="flex items-center gap-2 mb-4">
            <Eye className="h-5 w-5 text-muted-foreground" />
            <h3 className="font-semibold">Apercu du cas</h3>
            <Badge variant="secondary" className="ml-auto">
              {formData.difficulty}
            </Badge>
          </div>
          <div className="prose prose-sm max-w-none">
            <h4 className="text-lg font-medium text-primary">{formData.title}</h4>
            <p className="text-muted-foreground">{formData.introduction}</p>
          </div>
        </CardContent>
      </Card>

      <ValidationActions
        onReject={handleReject}
        onSaveDraft={handleSaveDraft}
        onPublish={handlePublish}
        onSetEnCours={handleSetEnCours}
        isLoading={isLoading}
      />
    </div>
  );
};
// END OF FILE: app/(marketing)/(main)/expert/editor/[id]/EditorClient.tsx

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/app/(marketing)/(main)/expert/editor/[id]/page.tsx

import CaseReviewClient from "./CaseReviewClient";

// 1. Note le changement de type ici : params est une Promise
const CaseReviewPage = async ({ params }: { params: Promise<{ id: string }> }) => {
  
  // 2. IMPORTANT : On doit attendre (await) la résolution des paramètres
  const { id } = await params;

  return <CaseReviewClient caseId={id} />;
};

export default CaseReviewPage;// END OF FILE: app/(marketing)/(main)/expert/editor/[id]/page.tsx

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/app/(marketing)/(main)/expert/layout.tsx

type Props = {
  children: React.ReactNode;
};

const ExpertLayout = ({ children }: Props) => {
  return <>{children}</>;
};

export default ExpertLayout;
// END OF FILE: app/(marketing)/(main)/expert/layout.tsx

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/app/(marketing)/(main)/expert/library/page.tsx

"use client";

import { useState, useEffect } from "react";
import { Button } from "@/components/ui/button";
import { Card, CardContent, CardHeader, CardTitle, CardDescription } from "@/components/ui/card";
import { Input } from "@/components/ui/input";
import { Label } from "@/components/ui/label";
import { Badge } from "@/components/ui/badge";
import { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from "@/components/ui/table";
import { getCases, getDomaines } from "@/lib/api";
import { 
  Library, Download, FileJson, FileSpreadsheet, 
  Search, Filter, User, Stethoscope, AlertCircle, Loader2, Eye 
} from "lucide-react";
import Link from "next/link";
import { toast } from "sonner";

export default function ExpertLibraryPage() {
  const [cases, setCases] = useState<any[]>([]);
  const [domaines, setDomaines] = useState<any[]>([]);
  const [isLoading, setIsLoading] = useState(true);
  
  // États pour les filtres (Requis par le PDF)
  const [filters, setFilters] = useState({
    min_age: "",
    max_age: "",
    symptom: "",
    pathologie: "",
    specialite: "all"
  });

  // Charger les cas et les domaines au montage
  useEffect(() => {
    fetchData();
    loadDomaines();
  }, []);

  const fetchData = async () => {
    setIsLoading(true);
    try {
      // On utilise les filtres dans l'appel API
      const data = await getCases({
        min_age: filters.min_age ? parseInt(filters.min_age) : undefined,
        max_age: filters.max_age ? parseInt(filters.max_age) : undefined,
        symptom: filters.symptom,
        pathologie: filters.pathologie,
        // Pour le téléchargement, on ne filtre pas par la spécialité de l'expert par défaut
      });
      setCases(data);
    } catch (error) {
      toast.error("Erreur de chargement des cas");
    } finally {
      setIsLoading(false);
    }
  };

  const loadDomaines = async () => {
    const data = await getDomaines();
    setDomaines(data);
  };

  // Fonction de téléchargement (JSON ou CSV)
  const handleExport = (format: 'json' | 'csv') => {
    const token = localStorage.getItem('authToken');
    const params = new URLSearchParams();
    if (filters.min_age) params.append('min_age', filters.min_age);
    if (filters.max_age) params.append('max_age', filters.max_age);
    if (filters.symptom) params.append('symptom', filters.symptom);
    if (filters.pathologie) params.append('pathologie', filters.pathologie);
    
    // On appelle l'URL d'extraction du backend
    const url = `http://localhost:8000/api/v1/extraction/export/${format}/?${params.toString()}`;

    fetch(url, { headers: { 'Authorization': `Token ${token}` } })
      .then(res => res.blob())
      .then(blob => {
        const link = document.createElement('a');
        link.href = window.URL.createObjectURL(blob);
        link.download = `export_cas_${new Date().getTime()}.${format}`;
        link.click();
        toast.success(`Export ${format.toUpperCase()} lancé`);
      })
      .catch(() => toast.error("Erreur lors de l'export"));
  };

  return (
    <div className="min-h-screen bg-slate-50/50 p-4 sm:p-8">
      <div className="max-w-7xl mx-auto space-y-6">
        
        {/* Header avec Titre PDF */}
        <div className="flex flex-col md:flex-row md:items-center justify-between gap-4">
          <div>
            <h1 className="text-3xl font-bold text-slate-900 flex items-center gap-3">
              <Library className="h-8 w-8 text-blue-600" />
              Téléchargement des cas
            </h1>
            <p className="text-slate-500 mt-1">Accédez à l'ensemble du dataset clinique multi-spécialités</p>
          </div>
          
          <div className="flex gap-3">
            <Button onClick={() => handleExport('json')} variant="outline" className="gap-2 border-blue-200 hover:bg-blue-50">
              <FileJson className="h-4 w-4 text-blue-600" /> JSON
            </Button>
            <Button onClick={() => handleExport('csv')} variant="outline" className="gap-2 border-green-200 hover:bg-green-50">
              <FileSpreadsheet className="h-4 w-4 text-green-600" /> CSV
            </Button>
          </div>
        </div>

        {/* Section Filtres Obligatoires (PDF) */}
        <Card className="border-0 shadow-sm ring-1 ring-slate-200">
          <CardHeader className="pb-3">
            <CardTitle className="text-sm font-semibold uppercase tracking-wider text-slate-500 flex items-center gap-2">
              <Filter className="h-4 w-4" /> Filtres de recherche & export
            </CardTitle>
          </CardHeader>
          <CardContent>
            <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4">
              <div className="space-y-2">
                <Label>Âge (Min - Max)</Label>
                <div className="flex gap-2">
                  <Input 
                    placeholder="Min" 
                    type="number" 
                    value={filters.min_age}
                    onChange={(e) => setFilters({...filters, min_age: e.target.value})}
                  />
                  <Input 
                    placeholder="Max" 
                    type="number" 
                    value={filters.max_age}
                    onChange={(e) => setFilters({...filters, max_age: e.target.value})}
                  />
                </div>
              </div>
              
              <div className="space-y-2">
                <Label>Symptôme</Label>
                <div className="relative">
                  <Search className="absolute left-2.5 top-2.5 h-4 w-4 text-slate-400" />
                  <Input 
                    className="pl-9" 
                    placeholder="ex: Fièvre" 
                    value={filters.symptom}
                    onChange={(e) => setFilters({...filters, symptom: e.target.value})}
                  />
                </div>
              </div>

              <div className="space-y-2">
                <Label>Maladie / Pathologie</Label>
                <Input 
                  placeholder="ex: Paludisme" 
                  value={filters.pathologie}
                  onChange={(e) => setFilters({...filters, pathologie: e.target.value})}
                />
              </div>

              <div className="flex items-end">
                <Button onClick={fetchData} className="w-full bg-blue-600 hover:bg-blue-700 gap-2">
                  Appliquer les filtres
                </Button>
              </div>
            </div>
          </CardContent>
        </Card>

        {/* Tableau de prévisualisation */}
        <Card className="border-0 shadow-sm ring-1 ring-slate-200 overflow-hidden">
          <CardContent className="p-0">
            {isLoading ? (
              <div className="flex flex-col items-center justify-center py-20 text-slate-400">
                <Loader2 className="h-8 w-8 animate-spin mb-2" />
                Chargement du dataset...
              </div>
            ) : (
              <Table>
                <TableHeader className="bg-slate-50">
                  <TableRow>
                    <TableHead className="font-bold">Cas Clinique</TableHead>
                    <TableHead className="font-bold">Patient</TableHead>
                    <TableHead className="font-bold">Spécialité</TableHead>
                    <TableHead className="font-bold">Difficulté</TableHead>
                    <TableHead className="text-right">Action</TableHead>
                  </TableRow>
                </TableHeader>
                <TableBody>
                  {cases.length === 0 ? (
                    <TableRow>
                      <TableCell colSpan={5} className="text-center py-10 text-slate-500">
                        Aucun cas ne correspond à vos filtres.
                      </TableCell>
                    </TableRow>
                  ) : (
                    cases.map((c) => (
                      <TableRow key={c.id_unique} className="hover:bg-slate-50/50 transition-colors">
                        <TableCell>
                          <div className="font-medium text-slate-900">{c.pathologie || c.motif_consultation}</div>
                          <div className="text-xs text-slate-400 font-mono">ID: {c.id_unique}</div>
                        </TableCell>
                        <TableCell>
                          <div className="flex items-center gap-2 text-slate-600">
                            <User className="h-4 w-4" />
                            {c.donnees_patient?.age} ans, {c.donnees_patient?.sexe}
                          </div>
                        </TableCell>
                        <TableCell>
                          <Badge variant="secondary" className="bg-slate-100 text-slate-700 hover:bg-slate-200 border-0">
                            {c.specialite_medicale || "Médecine générale"}
                          </Badge>
                        </TableCell>
                        <TableCell>
                          <Badge className="bg-blue-50 text-blue-700 border-blue-100 hover:bg-blue-100">
                            {c.difficulte || "Intermédiaire"}
                          </Badge>
                        </TableCell>
                        <TableCell className="text-right">
                          <Link href={`/expert/editor/${c.id_unique}`}>
                            <Button variant="ghost" size="sm" className="text-blue-600 hover:text-blue-700 hover:bg-blue-50">
                              <Eye className="h-4 w-4 mr-2" /> Consulter
                            </Button>
                          </Link>
                        </TableCell>
                      </TableRow>
                    ))
                  )}
                </TableBody>
              </Table>
            )}
          </CardContent>
        </Card>
      </div>
    </div>
  );
}// END OF FILE: app/(marketing)/(main)/expert/library/page.tsx

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/app/(marketing)/(main)/expert/page.tsx

"use client";

import { useState, useEffect, useCallback } from "react";
import Link from "next/link";
import { Input } from "@/components/ui/input";
import { Button, buttonVariants } from "@/components/ui/button";
import { Card, CardContent, CardHeader, CardTitle, CardDescription } from "@/components/ui/card";
import { Badge } from "@/components/ui/badge";
import { Separator } from "@/components/ui/separator";
import { Skeleton } from "@/components/ui/skeleton";
import { cn } from "@/lib/utils";
import {
  Select,
  SelectContent,
  SelectItem,
  SelectTrigger,
  SelectValue,
} from "@/components/ui/select";
import {
  Search,
  Loader2,
  Filter,
  User,
  Stethoscope,
  ChevronRight,
  FileSearch,
  X,
  SlidersHorizontal
} from "lucide-react";
import { getCases, getFilters } from "@/lib/api";

type ClinicalCase = Awaited<ReturnType<typeof getCases>>[number];

type FiltersState = {
  genders: string[];
  professions: string[];
  symptoms: string[];
};

const ExpertPage = () => {
  const [results, setResults] = useState<ClinicalCase[]>([]);
  const [isLoading, setIsLoading] = useState(true);
  const [error, setError] = useState<string | null>(null);

  const [keyword, setKeyword] = useState("");
  const [minAge, setMinAge] = useState("");
  const [maxAge, setMaxAge] = useState("");
  const [gender, setGender] = useState("");
  const [profession, setProfession] = useState("");
  const [symptom, setSymptom] = useState("");

  const [filtersOptions, setFiltersOptions] = useState<FiltersState>({
    genders: [],
    professions: [],
    symptoms: [],
  });

  const [showFilters, setShowFilters] = useState(true);

  useEffect(() => {
    const fetchFilters = async () => {
      try {
        const data = await getFilters();
        setFiltersOptions(data);
      } catch (e) {
        console.error("Impossible de charger les options de filtres:", e);
      }
    };
    fetchFilters();
  }, []);

  const handleSearch = useCallback(async () => {
    setIsLoading(true);
    setError(null);

    try {
      const data = await getCases({
        keyword: keyword,
        min_age: minAge ? parseInt(minAge) : undefined,
        max_age: maxAge ? parseInt(maxAge) : undefined,
        gender: gender,
        profession: profession,
        symptom: symptom,
      });
      setResults(data);
    } catch (e: any) {
      console.error("Erreur lors de la recuperation des donnees:", e);
      setError(e.message || "Une erreur est survenue. Le backend est-il demarre ?");
    } finally {
      setIsLoading(false);
    }
  }, [keyword, minAge, maxAge, gender, profession, symptom]);

  useEffect(() => {
    handleSearch();
  }, [handleSearch]);

  const clearFilters = () => {
    setKeyword("");
    setMinAge("");
    setMaxAge("");
    setGender("");
    setProfession("");
    setSymptom("");
  };

  const hasActiveFilters = keyword || minAge || maxAge || gender || profession || symptom;

  return (
    <div className="min-h-screen bg-gradient-to-br from-slate-50 to-slate-100">
      <div className="p-4 sm:p-6 lg:p-8 max-w-7xl mx-auto">
        {/* Header */}
        <div className="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6">
          <div>
            <h1 className="text-3xl font-bold tracking-tight flex items-center gap-3">
              <FileSearch className="h-8 w-8 text-primary" />
              Explorateur de Cas
            </h1>
            <p className="text-muted-foreground mt-1">
              Recherchez et consultez les cas cliniques disponibles
            </p>
          </div>
          <div className="flex items-center gap-2">
            <Badge variant="secondary" className="text-sm">
              {results.length} cas trouves
            </Badge>
            <Button
              variant="outline"
              size="sm"
              onClick={() => setShowFilters(!showFilters)}
              className="gap-2"
            >
              <SlidersHorizontal className="h-4 w-4" />
              {showFilters ? "Masquer filtres" : "Afficher filtres"}
            </Button>
          </div>
        </div>

        {/* Filters Card */}
        {showFilters && (
          <Card className="mb-6">
            <CardHeader className="pb-4">
              <div className="flex items-center justify-between">
                <div className="flex items-center gap-2">
                  <Filter className="h-5 w-5 text-primary" />
                  <CardTitle className="text-lg">Filtres de recherche</CardTitle>
                </div>
                {hasActiveFilters && (
                  <Button variant="ghost" size="sm" onClick={clearFilters} className="gap-1 text-muted-foreground">
                    <X className="h-4 w-4" />
                    Effacer
                  </Button>
                )}
              </div>
            </CardHeader>
            <CardContent>
              <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                {/* Keyword Search */}
                <div className="md:col-span-2 relative">
                  <Search className="absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground" />
                  <Input
                    placeholder="Rechercher par mot-cle (ex: Paludisme, Fievre...)"
                    value={keyword}
                    onChange={(e) => setKeyword(e.target.value)}
                    className="pl-10"
                    onKeyDown={(e) => e.key === "Enter" && handleSearch()}
                  />
                </div>

                {/* Age Range */}
                <Input
                  type="number"
                  placeholder="Age minimum"
                  value={minAge}
                  onChange={(e) => setMinAge(e.target.value)}
                  onKeyDown={(e) => e.key === "Enter" && handleSearch()}
                />
                <Input
                  type="number"
                  placeholder="Age maximum"
                  value={maxAge}
                  onChange={(e) => setMaxAge(e.target.value)}
                  onKeyDown={(e) => e.key === "Enter" && handleSearch()}
                />

                {/* Selects */}
                <Select value={gender} onValueChange={setGender}>
                  <SelectTrigger>
                    <SelectValue placeholder="Tous les sexes" />
                  </SelectTrigger>
                  <SelectContent>
                    <SelectItem value="all">Tous les sexes</SelectItem>
                    {filtersOptions.genders.map((g) => (
                      <SelectItem key={g} value={g}>{g}</SelectItem>
                    ))}
                  </SelectContent>
                </Select>

                <Select value={profession} onValueChange={setProfession}>
                  <SelectTrigger className="lg:col-span-2">
                    <SelectValue placeholder="Toutes les professions" />
                  </SelectTrigger>
                  <SelectContent>
                    <SelectItem value="all">Toutes les professions</SelectItem>
                    {filtersOptions.professions.map((p) => (
                      <SelectItem key={p} value={p}>{p}</SelectItem>
                    ))}
                  </SelectContent>
                </Select>

                <Select value={symptom} onValueChange={setSymptom}>
                  <SelectTrigger>
                    <SelectValue placeholder="Tous les symptomes" />
                  </SelectTrigger>
                  <SelectContent>
                    <SelectItem value="all">Tous les symptomes</SelectItem>
                    {filtersOptions.symptoms.map((s) => (
                      <SelectItem key={s} value={s}>{s}</SelectItem>
                    ))}
                  </SelectContent>
                </Select>
              </div>

              <div className="flex justify-end mt-4">
                <Button onClick={handleSearch} disabled={isLoading} className="gap-2">
                  {isLoading ? (
                    <Loader2 className="h-4 w-4 animate-spin" />
                  ) : (
                    <Search className="h-4 w-4" />
                  )}
                  {isLoading ? "Recherche..." : "Rechercher"}
                </Button>
              </div>
            </CardContent>
          </Card>
        )}

        {/* Results */}
        <div className="space-y-4">
          {error && (
            <Card className="border-destructive">
              <CardContent className="p-6">
                <p className="text-destructive text-center">{error}</p>
              </CardContent>
            </Card>
          )}

          {isLoading && (
            <div className="space-y-4">
              {[1, 2, 3].map((i) => (
                <Card key={i}>
                  <CardContent className="p-6">
                    <div className="space-y-3">
                      <Skeleton className="h-6 w-3/4" />
                      <Skeleton className="h-4 w-1/2" />
                      <div className="flex gap-2">
                        <Skeleton className="h-6 w-20 rounded-full" />
                        <Skeleton className="h-6 w-20 rounded-full" />
                        <Skeleton className="h-6 w-20 rounded-full" />
                      </div>
                    </div>
                  </CardContent>
                </Card>
              ))}
            </div>
          )}

          {!isLoading && !error && results.length === 0 && (
            <Card>
              <CardContent className="p-12">
                <div className="flex flex-col items-center justify-center text-center">
                  <div className="rounded-full bg-muted p-4 mb-4">
                    <FileSearch className="h-8 w-8 text-muted-foreground" />
                  </div>
                  <p className="text-lg font-medium text-muted-foreground">
                    Aucun cas ne correspond a votre recherche
                  </p>
                  <p className="text-sm text-muted-foreground mt-1">
                    Essayez de modifier vos criteres de recherche
                  </p>
                </div>
              </CardContent>
            </Card>
          )}

          {!isLoading && results.length > 0 && results.map((cas) => (
            <Link href={`/expert/${cas.id_unique}`} key={cas.id_unique}>
              <Card className="hover:shadow-md hover:border-primary/50 transition-all cursor-pointer group">
                <CardContent className="p-6">
                  <div className="flex items-start justify-between">
                    <div className="space-y-3 flex-1">
                      <div>
                        <h3 className="text-lg font-semibold text-primary group-hover:underline">
                          {cas.motif_consultation}
                        </h3>
                        <div className="flex items-center gap-4 mt-1 text-sm text-muted-foreground">
                          <span className="flex items-center gap-1">
                            <User className="h-4 w-4" />
                            {cas.donnees_patient.age} ans, {cas.donnees_patient.sexe}
                          </span>
                          <span className="text-xs font-mono bg-muted px-2 py-0.5 rounded">
                            ID: {cas.id_unique}
                          </span>
                        </div>
                      </div>

                      <div className="flex flex-wrap gap-2">
                        {cas.symptomes.slice(0, 4).map((s) => (
                          <Badge
                            key={s.nom}
                            variant="secondary"
                            className="flex items-center gap-1"
                          >
                            <Stethoscope className="h-3 w-3" />
                            {s.nom}
                          </Badge>
                        ))}
                        {cas.symptomes.length > 4 && (
                          <Badge variant="outline">
                            +{cas.symptomes.length - 4} autres
                          </Badge>
                        )}
                      </div>
                    </div>

                    <div className={cn(buttonVariants({ variant: "default", size: "sm" }), "opacity-0 group-hover:opacity-100 transition-all duration-300 transform translate-x-2 group-hover:translate-x-0")}>
                      Voir détails
                      <ChevronRight className="h-4 w-4 ml-1" />
                    </div>
                  </div>
                </CardContent>
              </Card>
            </Link>
          ))}
        </div>
      </div>
    </div>
  );
};

export default ExpertPage;
// END OF FILE: app/(marketing)/(main)/expert/page.tsx

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/app/(marketing)/(main)/expert/pending/page.tsx

import { PendingCasesClient } from "./PendingCasesClient";

const PendingCasesPage = () => {
  return <PendingCasesClient />;
};

export default PendingCasesPage;
// END OF FILE: app/(marketing)/(main)/expert/pending/page.tsx

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/app/(marketing)/(main)/expert/pending/PendingCasesClient.tsx

"use client";

import { useState, useEffect } from "react";
import { useRouter } from "next/navigation";
import { ExpertSidebar } from "@/components/expert-sidebar";
import { ClinicalCasesTable } from "@/components/expert/clinical-cases-table";
import { Bell, HelpCircle, Loader2 } from "lucide-react";
import { getExpertDashboardData, type ExpertCaseData } from "@/lib/api";

export const PendingCasesClient = () => {
  const [cases, setCases] = useState<ExpertCaseData[]>([]);
  const [isLoading, setIsLoading] = useState(true);
  const router = useRouter();

  useEffect(() => {
    const loadCases = async () => {
        try {
            const data = await getExpertDashboardData();
            setCases(data.cases.filter(c => c.status === "attente"));
        } catch (error) {
            console.error(error);
        } finally {
            setIsLoading(false);
        }
    };
    loadCases();
  }, []);

  const handleReview = (caseId: string) => {
    router.push(`/expert/editor/${caseId}`);
  };

  const handleViewDetails = (caseId: string) => {
    router.push(`/expert/editor/${caseId}`);
  };

  if (isLoading) {
      return (
          <div className="flex min-h-screen bg-gray-50 items-center justify-center">
              <Loader2 className="h-8 w-8 animate-spin text-blue-600" />
          </div>
      );
  }

  return (
    <div className="flex min-h-screen bg-gray-50">
      {/* Sidebar */}
      <ExpertSidebar />

      {/* Main Content */}
      <div className="flex-1 ml-64">
        {/* Header */}
        <header className="bg-white">
          <div className="px-4 py-4">
            <div className="flex items-center justify-between">
              <div>
                <h1 className="text-2xl font-bold text-gray-900">Cas en attente d&apos;examen</h1>
                <p className="text-sm text-gray-500 mt-1">Examiner et valider les cas cliniques en attente</p>
              </div>
              <div className="flex items-center gap-3">
                <button className="p-2 hover:bg-gray-100 rounded-lg transition-colors">
                  <Bell className="h-5 w-5 text-gray-600" />
                </button>
                <button className="p-2 hover:bg-gray-100 rounded-lg transition-colors">
                  <HelpCircle className="h-5 w-5 text-gray-600" />
                </button>
              </div>
            </div>
          </div>
        </header>

        {/* Content */}
        <div className="px-6 py-6">
          <div className="mb-4">
            <p className="text-sm text-gray-600">
              <span className="font-semibold text-gray-900">{cases.length}</span> cas en attente d&apos;examen
            </p>
          </div>

          {/* Cases Table */}
          <ClinicalCasesTable 
            cases={cases}
            onReview={handleReview}
            onViewDetails={handleViewDetails}
          />
        </div>
      </div>
    </div>
  );
};
// END OF FILE: app/(marketing)/(main)/expert/pending/PendingCasesClient.tsx

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/app/(marketing)/(main)/expert/profile/page.tsx

"use client";

import { useState, useEffect } from "react";
import { Button } from "@/components/ui/button";
import { Input } from "@/components/ui/input";
import { Textarea } from "@/components/ui/textarea";
import { Label } from "@/components/ui/label";
import { Card, CardContent, CardHeader, CardTitle, CardDescription } from "@/components/ui/card";
import { Avatar, AvatarFallback, AvatarImage } from "@/components/ui/avatar";
import { Separator } from "@/components/ui/separator";
import { Skeleton } from "@/components/ui/skeleton";
import { Badge } from "@/components/ui/badge";
import { getExpertProfile, updateExpertProfile } from "@/lib/api";
import {
  Save,
  User,
  Stethoscope,
  FileText,
  Loader2,
  CheckCircle,
  AlertCircle
} from "lucide-react";

type ExpertProfileData = {
  specialty: string;
  bio: string;
};

const ExpertProfilePage = () => {
  const [profile, setProfile] = useState<ExpertProfileData>({ specialty: "", bio: "" });
  const [isLoading, setIsLoading] = useState(true);
  const [isSaving, setIsSaving] = useState(false);
  const [saveStatus, setSaveStatus] = useState<"idle" | "success" | "error">("idle");

  useEffect(() => {
    const loadProfile = async () => {
      setIsLoading(true);
      try {
        const data = await getExpertProfile();
        setProfile(data);
      } catch (error) {
        console.error("Erreur lors du chargement du profil", error);
      } finally {
        setIsLoading(false);
      }
    };
    loadProfile();
  }, []);

  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => {
    const { name, value } = e.target;
    setProfile((prev) => ({ ...prev, [name]: value }));
    setSaveStatus("idle");
  };

  const handleSubmit = async (e: React.FormEvent) => {
    e.preventDefault();
    setIsSaving(true);
    setSaveStatus("idle");
    try {
      await updateExpertProfile(profile);
      setSaveStatus("success");
      setTimeout(() => setSaveStatus("idle"), 3000);
    } catch (error) {
      console.error("Erreur lors de la sauvegarde du profil", error);
      setSaveStatus("error");
    } finally {
      setIsSaving(false);
    }
  };

  if (isLoading) {
    return (
      <div className="min-h-screen bg-gradient-to-br from-slate-50 to-slate-100">
        <div className="p-4 sm:p-6 lg:p-8 max-w-3xl mx-auto">
          <Card>
            <CardHeader>
              <Skeleton className="h-8 w-48" />
              <Skeleton className="h-4 w-72 mt-2" />
            </CardHeader>
            <CardContent className="space-y-6">
              <div className="flex items-center gap-4">
                <Skeleton className="h-20 w-20 rounded-full" />
                <div className="space-y-2">
                  <Skeleton className="h-6 w-32" />
                  <Skeleton className="h-4 w-24" />
                </div>
              </div>
              <Skeleton className="h-10 w-full" />
              <Skeleton className="h-32 w-full" />
            </CardContent>
          </Card>
        </div>
      </div>
    );
  }

  return (
    <div className="min-h-screen bg-gradient-to-br from-slate-50 to-slate-100">
      <div className="p-4 sm:p-6 lg:p-8 max-w-3xl mx-auto">
        {/* Header */}
        <div className="mb-6">
          <h1 className="text-3xl font-bold tracking-tight flex items-center gap-3">
            <User className="h-8 w-8 text-primary" />
            Mon Profil Expert
          </h1>
          <p className="text-muted-foreground mt-1">
            Gerez vos informations professionnelles
          </p>
        </div>

        <Card>
          <CardHeader>
            <div className="flex items-center gap-4">
              <Avatar className="h-20 w-20">
                <AvatarImage src="" />
                <AvatarFallback className="bg-primary/10 text-primary text-2xl">
                  {profile.specialty ? profile.specialty.charAt(0).toUpperCase() : "E"}
                </AvatarFallback>
              </Avatar>
              <div>
                <CardTitle className="text-xl">Expert Medical</CardTitle>
                <CardDescription className="flex items-center gap-2 mt-1">
                  <Badge variant="secondary" className="flex items-center gap-1">
                    <Stethoscope className="h-3 w-3" />
                    {profile.specialty || "Specialite non definie"}
                  </Badge>
                </CardDescription>
              </div>
            </div>
          </CardHeader>

          <Separator />

          <CardContent className="pt-6">
            <form onSubmit={handleSubmit} className="space-y-6">
              <div className="space-y-2">
                <Label htmlFor="specialty" className="flex items-center gap-2">
                  <Stethoscope className="h-4 w-4 text-muted-foreground" />
                  Specialite medicale
                </Label>
                <Input
                  id="specialty"
                  name="specialty"
                  value={profile.specialty}
                  onChange={handleChange}
                  placeholder="Ex: Cardiologie, Pediatrie, Medecine Generale..."
                  disabled={isSaving}
                  className="text-base"
                />
                <p className="text-xs text-muted-foreground">
                  Votre domaine d'expertise principal
                </p>
              </div>

              <div className="space-y-2">
                <Label htmlFor="bio" className="flex items-center gap-2">
                  <FileText className="h-4 w-4 text-muted-foreground" />
                  Biographie professionnelle
                </Label>
                <Textarea
                  id="bio"
                  name="bio"
                  value={profile.bio}
                  onChange={handleChange}
                  placeholder="Decrivez votre parcours, votre expertise et votre experience professionnelle..."
                  rows={6}
                  disabled={isSaving}
                  className="resize-none"
                />
                <p className="text-xs text-muted-foreground">
                  Cette description sera visible par les autres membres de la plateforme
                </p>
              </div>

              <Separator />

              <div className="flex items-center justify-between">
                <div className="flex items-center gap-2">
                  {saveStatus === "success" && (
                    <div className="flex items-center gap-2 text-green-600 text-sm">
                      <CheckCircle className="h-4 w-4" />
                      Profil sauvegarde avec succes
                    </div>
                  )}
                  {saveStatus === "error" && (
                    <div className="flex items-center gap-2 text-destructive text-sm">
                      <AlertCircle className="h-4 w-4" />
                      Erreur lors de la sauvegarde
                    </div>
                  )}
                </div>

                <Button type="submit" disabled={isSaving} className="gap-2">
                  {isSaving ? (
                    <Loader2 className="h-4 w-4 animate-spin" />
                  ) : (
                    <Save className="h-4 w-4" />
                  )}
                  {isSaving ? "Sauvegarde en cours..." : "Sauvegarder"}
                </Button>
              </div>
            </form>
          </CardContent>
        </Card>
      </div>
    </div>
  );
};

export default ExpertProfilePage;
// END OF FILE: app/(marketing)/(main)/expert/profile/page.tsx

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/app/(marketing)/(main)/expert/rejected/page.tsx

import { RejectedCasesClient } from "./RejectedCasesClient";

const RejectedCasesPage = () => {
  return <RejectedCasesClient />;
};

export default RejectedCasesPage;
// END OF FILE: app/(marketing)/(main)/expert/rejected/page.tsx

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/app/(marketing)/(main)/expert/rejected/RejectedCasesClient.tsx

"use client";

import { useState, useEffect } from "react";
import { useRouter } from "next/navigation";
import { ExpertSidebar } from "@/components/expert-sidebar";
import { ClinicalCasesTable } from "@/components/expert/clinical-cases-table";
import { Bell, HelpCircle, Loader2 } from "lucide-react";
import { getExpertDashboardData, type ExpertCaseData } from "@/lib/api";

export const RejectedCasesClient = () => {
  const [cases, setCases] = useState<ExpertCaseData[]>([]);
  const [isLoading, setIsLoading] = useState(true);
  const router = useRouter();

  useEffect(() => {
    const loadCases = async () => {
        try {
            const data = await getExpertDashboardData();
            setCases(data.cases.filter(c => c.status === "rejeté"));
        } catch (error) {
            console.error(error);
        } finally {
            setIsLoading(false);
        }
    };
    loadCases();
  }, []);

  const handleReview = (caseId: string) => {
    router.push(`/expert/editor/${caseId}`);
  };

  const handleViewDetails = (caseId: string) => {
    router.push(`/expert/editor/${caseId}`);
  };

  if (isLoading) {
      return (
          <div className="flex min-h-screen bg-gray-50 items-center justify-center">
              <Loader2 className="h-8 w-8 animate-spin text-blue-600" />
          </div>
      );
  }

  return (
    <div className="flex min-h-screen bg-gray-50">
      {/* Sidebar */}
      <ExpertSidebar />

      {/* Main Content */}
      <div className="flex-1 ml-64">
        {/* Header */}
        <header className="bg-white">
          <div className="px-4 py-4">
            <div className="flex items-center justify-between">
              <div>
                <h1 className="text-2xl font-bold text-gray-900">Cas rejetés</h1>
                <p className="text-sm text-gray-500 mt-1">Consulter les cas cliniques rejetés</p>
              </div>
              <div className="flex items-center gap-3">
                <button className="p-2 hover:bg-gray-100 rounded-lg transition-colors">
                  <Bell className="h-5 w-5 text-gray-600" />
                </button>
                <button className="p-2 hover:bg-gray-100 rounded-lg transition-colors">
                  <HelpCircle className="h-5 w-5 text-gray-600" />
                </button>
              </div>
            </div>
          </div>
        </header>

        {/* Content */}
        <div className="px-6 py-6">
          <div className="mb-4">
            <p className="text-sm text-gray-600">
              <span className="font-semibold text-gray-900">{cases.length}</span> cas rejetés
            </p>
          </div>

          {/* Cases Table */}
          <ClinicalCasesTable 
            cases={cases}
            onReview={handleReview}
            onViewDetails={handleViewDetails}
          />
        </div>
      </div>
    </div>
  );
};
// END OF FILE: app/(marketing)/(main)/expert/rejected/RejectedCasesClient.tsx

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/app/(marketing)/(main)/expert/settings/page.tsx

import { SettingsClient } from "./SettingsClient";

const SettingsPage = async () => {
  return <SettingsClient />;
};

export default SettingsPage;
// END OF FILE: app/(marketing)/(main)/expert/settings/page.tsx

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/app/(marketing)/(main)/expert/settings/SettingsClient.tsx

"use client";

import { ExpertSidebar } from "@/components/expert-sidebar";
import { Bell, HelpCircle } from "lucide-react";
import { Card, CardContent, CardHeader, CardTitle } from "@/components/ui/card";

export const SettingsClient = () => {
  return (
    <div className="flex min-h-screen bg-gray-50">
      {/* Sidebar */}
      <ExpertSidebar />

      {/* Main Content */}
      <div className="flex-1 ml-64">
        {/* Header */}
        <header className="bg-white">
          <div className="px-4 py-4">
            <div className="flex items-center justify-between">
              <div>
                <h1 className="text-2xl font-bold text-gray-900">Paramètres</h1>
                <p className="text-sm text-gray-500 mt-1">Gérer vos préférences et paramètres</p>
              </div>
              <div className="flex items-center gap-3">
                <button className="p-2 hover:bg-gray-100 rounded-lg transition-colors">
                  <Bell className="h-5 w-5 text-gray-600" />
                </button>
                <button className="p-2 hover:bg-gray-100 rounded-lg transition-colors">
                  <HelpCircle className="h-5 w-5 text-gray-600" />
                </button>
              </div>
            </div>
          </div>
        </header>

        {/* Content */}
        <div className="px-6 py-6">
          <Card className="border-0 shadow-sm">
            <CardHeader>
              <CardTitle className="text-base font-semibold text-gray-900">Paramètres du compte</CardTitle>
            </CardHeader>
            <CardContent>
              <p className="text-sm text-gray-600">
                Les paramètres seront disponibles prochainement.
              </p>
            </CardContent>
          </Card>
        </div>
      </div>
    </div>
  );
};
// END OF FILE: app/(marketing)/(main)/expert/settings/SettingsClient.tsx

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/app/(marketing)/(main)/expert/validated/page.tsx

import { ValidatedCasesClient } from "./ValidatedCasesClient";

const ValidatedCasesPage = () => {
  return <ValidatedCasesClient />;
};

export default ValidatedCasesPage;
// END OF FILE: app/(marketing)/(main)/expert/validated/page.tsx

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/app/(marketing)/(main)/expert/validated/ValidatedCasesClient.tsx

"use client";

import { useState, useEffect } from "react";
import { useRouter } from "next/navigation";
import { ExpertSidebar } from "@/components/expert-sidebar";
import { ClinicalCasesTable } from "@/components/expert/clinical-cases-table";
import { Bell, HelpCircle, Loader2 } from "lucide-react";
import { getExpertDashboardData, type ExpertCaseData } from "@/lib/api";

export const ValidatedCasesClient = () => {
  const [cases, setCases] = useState<ExpertCaseData[]>([]);
  const [isLoading, setIsLoading] = useState(true);
  const router = useRouter();

  useEffect(() => {
    const loadCases = async () => {
        try {
            const data = await getExpertDashboardData();
            setCases(data.cases.filter(c => c.status === "validé"));
        } catch (error) {
            console.error(error);
        } finally {
            setIsLoading(false);
        }
    };
    loadCases();
  }, []);

  const handleReview = (caseId: string) => {
    router.push(`/expert/editor/${caseId}`);
  };

  const handleViewDetails = (caseId: string) => {
    router.push(`/expert/editor/${caseId}`);
  };

  if (isLoading) {
      return (
          <div className="flex min-h-screen bg-gray-50 items-center justify-center">
              <Loader2 className="h-8 w-8 animate-spin text-blue-600" />
          </div>
      );
  }

  return (
    <div className="flex min-h-screen bg-gray-50">
      {/* Sidebar */}
      <ExpertSidebar />

      {/* Main Content */}
      <div className="flex-1 ml-64">
        {/* Header */}
        <header className="bg-white">
          <div className="px-4 py-4">
            <div className="flex items-center justify-between">
              <div>
                <h1 className="text-2xl font-bold text-gray-900">Cas validés</h1>
                <p className="text-sm text-gray-500 mt-1">Consulter les cas cliniques validés</p>
              </div>
              <div className="flex items-center gap-3">
                <button className="p-2 hover:bg-gray-100 rounded-lg transition-colors">
                  <Bell className="h-5 w-5 text-gray-600" />
                </button>
                <button className="p-2 hover:bg-gray-100 rounded-lg transition-colors">
                  <HelpCircle className="h-5 w-5 text-gray-600" />
                </button>
              </div>
            </div>
          </div>
        </header>

        {/* Content */}
        <div className="px-6 py-6">
          <div className="mb-4">
            <p className="text-sm text-gray-600">
              <span className="font-semibold text-gray-900">{cases.length}</span> cas validés
            </p>
          </div>

          {/* Cases Table */}
          <ClinicalCasesTable 
            cases={cases}
            onReview={handleReview}
            onViewDetails={handleViewDetails}
          />
        </div>
      </div>
    </div>
  );
};
// END OF FILE: app/(marketing)/(main)/expert/validated/ValidatedCasesClient.tsx

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/app/(marketing)/(main)/layout.tsx

"use client";

import { MobileHeader } from "@/components/mobile-header";
import { Sidebar } from "@/components/sidebar";
import { usePathname } from "next/navigation";

type Props = {
    children: React.ReactNode;
};


const MainLayout = ({
    children
}: Props) => {
    const pathname = usePathname();
    const isExpertRoute = pathname?.startsWith('/expert');
    const isAdminRoute = pathname?.startsWith('/admin');
    const isLearnRoute = pathname?.startsWith('/learn');
    const isProfilingRoute = pathname?.startsWith('/profiling');

    // Pour les routes expert, on ne rend que les children (pas de sidebar Tuteur5GI)
    if (isExpertRoute) {
        return <>{children}</>;
    }

    // Pour les routes admin, on ne rend que les children (AdminLayout gere la sidebar)
    if (isAdminRoute) {
        return <>{children}</>;
    }

    // Pour les routes profiling, on ne rend que les children (page autonome)
    if (isProfilingRoute) {
        return <>{children}</>;
    }

    // Pour les routes learn, on ne rend que les children (LearnLayout gère la sidebar)
    if (isLearnRoute) {
        return <>{children}</>;
    }

    return (
        <>
            <MobileHeader />
            <Sidebar className="hidden lg:flex" />
            <main className="lg:pl-64 h-full pt-[50px] lg:pt-0 flex-1">
                <div className="max-w-[1056px] mx-auto pt-6 h-full">
                { children}
                </div>
            </main>
        </>
    );
};

export default MainLayout;// END OF FILE: app/(marketing)/(main)/layout.tsx

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/app/(marketing)/(main)/learn/[courseId]/lesson/[sessionId]/page.tsx

"use client";

import { useEffect, useState, useRef } from "react";
import { useParams, useSearchParams, useRouter } from "next/navigation";
import { useAuth } from "@/hooks/useAuth";
import { startTutorSession, sendTutorMessage, getTutorSessionState, endTutorSession, type TutorInteractionResponse, type EvaluationData, type SummativeData } from "@/lib/api";
import { Button } from "@/components/ui/button";
import { Input } from "@/components/ui/input";
import { Avatar, AvatarFallback } from "@/components/ui/avatar"; 
import { Card } from "@/components/ui/card"; // Using Card for container
import { Send, Loader2, Info, ChevronRight, Stethoscope, LogOut } from "lucide-react"; // Only used icons
import Link from "next/link";
import { cn } from "@/lib/utils";
import { EvaluationModal } from "@/components/evaluation-modal";
import { SummativeModal } from "@/components/summative-modal";


interface Message {
  id: string;
  role: "doctor" | "patient" | "system";
  content: string;
  timestamp: Date;
}

// Types
interface MessageHistory {
  person: string;
  message: string;
}

export default function LessonPage() {
  const params = useParams();
  const searchParams = useSearchParams();
  const router = useRouter();
  const { user, isLoading: authLoading } = useAuth();
  
  const courseId = params.courseId as string;
  const initialSessionId = params.sessionId as string;
  const domainName = searchParams.get("domain") || courseId; 

  const [sessionId, setSessionId] = useState(initialSessionId);
  const [messages, setMessages] = useState<Message[]>([]);
  const [input, setInput] = useState("");
  const [loading, setLoading] = useState(false);
  const [sessionInitializing, setSessionInitializing] = useState(true);
  const [evaluationData, setEvaluationData] = useState<EvaluationData | null>(null);
  const [isEvaluationOpen, setIsEvaluationOpen] = useState(false);
  
  const [summativeData, setSummativeData] = useState<SummativeData | null>(null);
  const [isSummativeOpen, setIsSummativeOpen] = useState(false);
  
  const scrollRef = useRef<HTMLDivElement>(null);

  // Auto-scroll
  useEffect(() => {
    if (scrollRef.current) {
        scrollRef.current.scrollTop = scrollRef.current.scrollHeight;
    }
  }, [messages]);

  // Init
  useEffect(() => {
    if (authLoading) return;
    if (!user) return;

    const initSession = async () => {
      if (initialSessionId.startsWith("SESSION-")) {
        try {
          const decodedDomain = decodeURIComponent(domainName);
          console.log(`Starting session for ${user.email} in domain ${decodedDomain}`);
          const response = await startTutorSession(user.email, decodedDomain);
          
          setSessionId(response.session_id);
          setMessages([
            {
              id: "init-msg",
              role: "patient",
              content: response.message,
              timestamp: new Date()
            }
          ]);
          
          const newUrl = `/learn/${courseId}/lesson/${response.session_id}?domain=${encodeURIComponent(decodedDomain)}`;
          window.history.replaceState({ ...window.history.state, as: newUrl, url: newUrl }, "", newUrl);
          
        } catch (error: unknown) {
          const errMsg = (error instanceof Error) ? error.message : "Impossible de démarrer la session.";
          setMessages([
              {
                  id: "error-init",
                  role: "system",
                  content: `Erreur d'initialisation: ${errMsg}`,
                  timestamp: new Date()
              }
          ])
        } finally {
          setSessionInitializing(false);
        }
      } else {
         try {
             // Retrieve existing history...
             const state = await getTutorSessionState(initialSessionId);
             if (state.chat_history && Array.isArray(state.chat_history)) {
                // Map history
                const mapped = state.chat_history.map((m: MessageHistory, i: number) => ({
                    id: `restored-${i}`,
                    role: m.person === 'doctor' ? 'doctor' : 'patient',
                    content: m.message,
                    timestamp: new Date()
                }));
                // If no history, we might be in trouble, but let's assume empty
                setMessages(mapped);
             }
        } catch (e) {
             console.error(e);
        } finally {
             setSessionInitializing(false);
        }
      }
    };

    initSession();
  }, [user, authLoading, initialSessionId, courseId, domainName]);

  const handleSendMessage = async () => {
    if (!input.trim() || loading) return;

    const userMsg: Message = {
      id: Date.now().toString(),
      role: "doctor",
      content: input,
      timestamp: new Date(),
    };

    setMessages((prev) => [...prev, userMsg]);
    setInput("");
    setLoading(true);

    try {
      const response: TutorInteractionResponse = await sendTutorMessage(sessionId, userMsg.content);
      
      if (response.latest_exchange.patient) {
        const patientMsg: Message = {
          id: (Date.now() + 1).toString(),
          role: "patient",
          content: response.latest_exchange.patient,
          timestamp: new Date(),
        };
        setMessages((prev) => [...prev, patientMsg]);
      }

      // Check for Evaluation
      if (response.formative_evaluation) {
        setEvaluationData(response.formative_evaluation);
        setIsEvaluationOpen(true);
      }
    } catch (error) {
       console.error("Error sending message:", error);
    } finally {
      setLoading(false);
    }
  };

  const handleEndSession = async () => {
    if (loading) return;
    setLoading(true);
    try {
        const data = await endTutorSession(sessionId);
        // Si data contient directement les clés, on l'utilise.
        // Sinon, si les clés sont dans data.bilan, on fait l'adaptation.
        // Vérification de sécurité pour éviter le crash client side
        if (data && typeof data === 'object') {
             // Type guard for bilan property
             const hasBilan = (obj: unknown): obj is { bilan: SummativeData } => typeof obj === 'object' && obj !== null && 'bilan' in obj;
             const finalData = hasBilan(data) ? data.bilan : data;
             setSummativeData(finalData);
             setIsSummativeOpen(true);
        } else {
             console.error("Format de réponse inattendu pour le bilan:", data);
        }
    } catch (error) {
        console.error("Failed to end session:", error);
    } finally {
        setLoading(false);
    }
  };

  if (sessionInitializing || authLoading) {
    return (
        <div className="flex h-full items-center justify-center p-12">
            <Loader2 className="h-8 w-8 animate-spin text-blue-600" />
            <span className="ml-3 text-gray-500">Chargement du patient...</span>
        </div>
    );
  }

  return (
    <div className="flex flex-col h-[calc(100vh-80px)] lg:h-[calc(100vh-40px)] gap-4 pb-4">
      {/* Breadcrumb / Header */}
      <div className="flex items-center gap-2 text-sm text-gray-500 px-1">
         <Link href="/learn" className="hover:text-blue-600 transition-colors">
            Tableau de bord
         </Link>
         <ChevronRight className="h-4 w-4" />
         <span className="font-medium text-gray-900 capitalize">{decodeURIComponent(domainName)}</span>
      </div>

      {/* Main Card Container */}
      <Card className="flex-1 flex flex-col overflow-hidden shadow-sm border-gray-200">
        {/* Chat Header inside Card */}
        <div className="p-4 border-b bg-gray-50/50 flex items-center justify-between">
            <div className="flex items-center gap-3">
                <div className="h-10 w-10 bg-emerald-100 rounded-full flex items-center justify-center">
                    <Stethoscope className="h-5 w-5 text-emerald-600" />
                </div>
                <div>
                     <h2 className="font-semibold text-gray-800">Consultation en cours</h2>
                     <p className="text-xs text-green-600 flex items-center gap-1">
                        <span className="block h-1.5 w-1.5 rounded-full bg-green-500 animate-pulse" />
                        Patient en ligne
                     </p>
                </div>
            </div>
            <Button variant="ghost" size="sm" onClick={handleEndSession} className="text-red-600 hover:text-red-700 hover:bg-red-50">
                <LogOut className="h-4 w-4 mr-2" />
                Terminer
            </Button>
        </div>

        {/* Messages List - Scrollable */}
        <div className="flex-1 overflow-y-auto p-4 space-y-6 bg-white" ref={scrollRef}>
             {messages.length === 0 && (
                <div className="h-full flex flex-col items-center justify-center text-gray-400">
                     <Info className="h-12 w-12 mb-2 opacity-20" />
                     <p>La conversation démarre...</p>
                </div>
             )}

             {messages.map((msg) => (
                <div key={msg.id} className={cn("flex w-full gap-3", msg.role === "doctor" ? "justify-end" : "justify-start")}>
                    {/* Patient Avatar */}
                    {msg.role === "patient" && (
                        <Avatar className="h-8 w-8 mt-1 border border-gray-100">
                            <AvatarFallback className="bg-emerald-50 text-emerald-600 text-xs">P</AvatarFallback>
                        </Avatar>
                    )}

                     {/* System Message */}
                     {msg.role === "system" ? (
                         <div className="w-full flex justify-center">
                              <span className="bg-red-50 text-red-500 text-xs px-3 py-1 rounded-full">{msg.content}</span>
                         </div>
                     ) : (
                         <div className={cn(
                             "max-w-[75%] px-4 py-3 text-sm shadow-sm",
                             msg.role === "doctor" 
                               ? "bg-blue-600 text-white rounded-2xl rounded-tr-sm" 
                               : "bg-gray-100 text-gray-800 rounded-2xl rounded-tl-sm"
                         )}>
                             {msg.content}
                         </div>
                     )}

                     {/* Doctor Avatar */}
                     {msg.role === "doctor" && (
                        <Avatar className="h-8 w-8 mt-1 border border-blue-100">
                            <AvatarFallback className="bg-blue-50 text-blue-600 text-xs">VM</AvatarFallback>
                        </Avatar>
                     )}
                </div>
             ))}

             {loading && (
                 <div className="flex w-full justify-start gap-3 animate-pulse">
                     <div className="h-8 w-8 bg-gray-200 rounded-full" />
                     <div className="bg-gray-100 h-10 w-24 rounded-2xl" />
                 </div>
             )}
        </div>

        {/* Input Footer */}
        <div className="p-4 bg-gray-50 border-t">
           <div className="flex gap-2">
              <Input 
                value={input}
                onChange={(e) => setInput(e.target.value)}
                onKeyDown={(e) => e.key === 'Enter' && handleSendMessage()}
                placeholder="Interrogez le patient..."
                className="bg-white border-gray-200 focus-visible:ring-blue-500"
                disabled={loading}
              />
              <Button onClick={handleSendMessage} disabled={!input.trim() || loading} className="bg-blue-600 hover:bg-blue-700">
                  <Send className="h-4 w-4" />
              </Button>
           </div>
        </div>
      </Card>

      <EvaluationModal 
        isOpen={isEvaluationOpen}
        onClose={() => setIsEvaluationOpen(false)}
        data={evaluationData}
      />

      <SummativeModal 
        isOpen={isSummativeOpen}
        onClose={() => {
            setIsSummativeOpen(false);
            router.push('/learn');
        }}
        data={summativeData}
      />
    </div>
  );
}
// END OF FILE: app/(marketing)/(main)/learn/[courseId]/lesson/[sessionId]/page.tsx

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/app/(marketing)/(main)/learn/[courseId]/lesson/test

// END OF FILE: app/(marketing)/(main)/learn/[courseId]/lesson/test

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/app/(marketing)/(main)/learn/[courseId]/page.tsx

"use client";

import { useState, useEffect } from "react";
import { useParams, useRouter } from "next/navigation";
import Link from "next/link";
import Image from "next/image";
import { useAuth } from "@/hooks/useAuth";
import { Card, CardContent } from "@/components/ui/card";
import { Loader2, PlusCircle, MessageSquare, Clock, CheckCircle, Activity } from "lucide-react";
import { Button } from "@/components/ui/button";
import { toast } from "sonner";

// Structure de données pour les cours (pour l'image)
const COURSES_DATA: Record<string, { image: string }> = {
  "paludisme": { image: "/paludisme.png" },
  "diabète": { image: "/diabete.png" },
  "avc": { image: "/avc.png" },
  "cancer du col": { image: "/cervical_cancer.png" },
};

// Type pour les données de session enrichies
interface SessionData {
    id: string;
    date_debut: string;
    date_fin: string | null; // Pour savoir si la session est terminée
    interaction_count: number;
    score_session: number;
    cas_clinique: {
        titre: string;
    };
}

export default function CourseSessionsPage() {
    const router = useRouter();
    const params = useParams();
    const { user, token, isLoading: isAuthLoading } = useAuth();
    
    const courseId = params.courseId as string;
    const domaineNom = courseId.charAt(0).toUpperCase() + courseId.slice(1);
    const courseImage = COURSES_DATA[courseId.toLowerCase()]?.image || "/learn.png";

    const [sessions, setSessions] = useState<SessionData[]>([]);
    const [isLoading, setIsLoading] = useState(true);
    const [isCreating, setIsCreating] = useState(false);

    useEffect(() => {
        // Attendre que l'authentification soit chargée
        if (isAuthLoading) {
            return;
        }

        // Si pas d'utilisateur après le chargement, on ne fait rien ici
        // Le rendu conditionnel plus bas gèrera l'affichage
        if (!user) {
            setIsLoading(false);
            return;
        }

        setIsLoading(true);
        const mockSessions: SessionData[] = [
            {
                id: 'SESSION-1',
                date_debut: new Date().toISOString(),
                date_fin: null,
                interaction_count: 5,
                score_session: 0,
                cas_clinique: {
                    titre: 'Cas de Paludisme Simple',
                },
            },
            {
                id: 'SESSION-2',
                date_debut: new Date(Date.now() - 2 * 24 * 60 * 60 * 1000).toISOString(),
                date_fin: new Date(Date.now() - 2 * 24 * 60 * 60 * 1000 + 30 * 60 * 1000).toISOString(),
                interaction_count: 15,
                score_session: 85,
                cas_clinique: {
                    titre: 'Cas de Paludisme Sévère',
                },
            },
        ];
        setSessions(mockSessions);
        setIsLoading(false);
    }, [courseId, isAuthLoading, user, router]);

    const handleStartNewSession = async () => {
        if (!user) {
            toast.error("Vous devez être connecté pour démarrer une session.");
            return;
        }
        setIsCreating(true);
        toast.info("Création d'un nouveau cas clinique simulé...");

        // Simulation d'un appel API
        await new Promise(resolve => setTimeout(resolve, 1500));

        const newSessionId = `SESSION-${Math.random().toString(36).substr(2, 9).toUpperCase()}`;
        
        setIsCreating(false);
        router.push(`/learn/${courseId}/lesson/${newSessionId}`);
    };

    if (isLoading || isAuthLoading) {
        return (
            <div className="flex items-center justify-center h-full">
                <Loader2 className="h-10 w-10 animate-spin text-primary" />
            </div>
        );
    }
    
    // Si l'utilisateur n'est pas authentifié après le chargement, on peut afficher un message
    if (!user) {
        return (
            <div className="flex flex-col items-center justify-center h-full gap-4">
                <p className="text-slate-600">Vous devez être connecté pour voir cette page.</p>
                <Link href="/">
                    <Button>Se connecter</Button>
                </Link>
            </div>
        )
    }

    return (
        <div className="max-w-4xl mx-auto px-4 py-8">
            {/* --- En-tête amélioré --- */}
            <div className="flex items-center gap-6 mb-8">
                <div className="bg-white p-3 rounded-2xl border-2 shadow-sm">
                    <Image src={courseImage} alt={domaineNom} width={60} height={60} />
                </div>
                <div>
                    <h1 className="text-4xl font-bold text-slate-800 tracking-tight">{domaineNom}</h1>
                    <p className="text-slate-500 mt-1">Reprenez une conversation ou démarrez un nouveau cas clinique.</p>
                </div>
            </div>

            {/* --- Bouton d'action principal --- */}
            <Button onClick={handleStartNewSession} disabled={isCreating} size="lg" className="w-full h-16 text-lg mb-12 gap-3 bg-gradient-to-r from-green-500 to-emerald-600 text-white shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1">
                {isCreating ? <Loader2 className="h-6 w-6 animate-spin" /> : <PlusCircle className="h-6 w-6" />}
                {isCreating ? "Génération du cas..." : "Démarrer une Nouvelle Session"}
            </Button>

            {/* --- Section Historique --- */}
            <div className="space-y-6">
                <h2 className="text-2xl font-semibold text-neutral-700 border-b-2 pb-3">Historique des Sessions</h2>

                {sessions.length === 0 ? (
                    <div className="text-center py-16 bg-slate-50 rounded-2xl border-2 border-dashed">
                        <MessageSquare className="mx-auto h-12 w-12 text-slate-300" />
                        <h3 className="mt-4 text-lg font-medium text-slate-700">Aucun historique</h3>
                        <p className="mt-1 text-sm text-slate-500">Votre première session pour ce domaine apparaîtra ici.</p>
                    </div>
                ) : (
                    <div className="space-y-4">
                        {sessions.map((session) => (
                           <Card key={session.id} className="group transition-shadow duration-300 hover:shadow-lg">
                               <CardContent className="p-4 flex items-center justify-between gap-4">
                                    <Link href={`/learn/${courseId}/lesson/${session.id}`} className="flex-1 flex items-center gap-4">
                                        <div className={`p-3 rounded-lg ${session.date_fin ? 'bg-green-100' : 'bg-blue-100'}`}>
                                            {session.date_fin ? <CheckCircle className="h-6 w-6 text-green-600"/> : <Activity className="h-6 w-6 text-blue-600"/>}
                                        </div>
                                        <div className="flex-1">
                                            <p className="font-bold text-slate-800 group-hover:text-primary transition-colors">
                                                {session.cas_clinique?.titre || `Session #${session.id.substring(0, 8)}`}
                                            </p>
                                            <div className="flex items-center gap-4 text-xs text-slate-500 mt-1">
                                                <span className="flex items-center gap-1.5"><Clock className="h-3 w-3" />
                                                    {new Date(session.date_debut).toLocaleString('fr-FR', { day: '2-digit', month: 'short', year: 'numeric', hour: '2-digit', minute: '2-digit' })}
                                                </span>
                                                <span className="flex items-center gap-1.5"><MessageSquare className="h-3 w-3" />
                                                    {session.interaction_count} messages
                                                </span>
                                            </div>
                                        </div>
                                    </Link>
                               </CardContent>
                           </Card>
                        ))}
                    </div>
                )}
            </div>
        </div>
    );
}// END OF FILE: app/(marketing)/(main)/learn/[courseId]/page.tsx

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/app/(marketing)/(main)/learn/layout.tsx

"use client";

import { MobileHeader } from "@/components/mobile-header";
import { Sidebar } from "@/components/sidebar";

type Props = {
    children: React.ReactNode;
};

const LearnLayout = ({ children }: Props) => {
    return (
        <div className="min-h-screen bg-gray-50">
            <MobileHeader />
            <Sidebar className="hidden lg:flex" />
            <main className="lg:pl-64 min-h-screen pt-[50px] lg:pt-0">
                {children}
            </main>
        </div>
    );
};

export default LearnLayout;
// END OF FILE: app/(marketing)/(main)/learn/layout.tsx

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/app/(marketing)/(main)/learn/new/page.tsx

"use client";

import { useEffect, useState } from "react";
import { useRouter } from "next/navigation";
import { useAuth } from "@/hooks/useAuth";
import { getStudentFullProfile, type CompetenceLevel } from "@/lib/api";
import { Card, CardContent, CardHeader, CardTitle, CardDescription } from "@/components/ui/card";
import { Button } from "@/components/ui/button";
import { Loader2, Stethoscope, ArrowRight, Activity, Zap, Brain, Thermometer, Shield } from "lucide-react";
import { Badge } from "@/components/ui/badge";

const DomainIcon = ({ name }: { name: string }) => {
  const n = name.toLowerCase();
  if (n.includes("paludisme")) return <Shield className="h-6 w-6 text-emerald-600" />;
  if (n.includes("cardiologie")) return <Activity className="h-6 w-6 text-red-600" />;
  if (n.includes("pneumologie")) return <Thermometer className="h-6 w-6 text-blue-600" />;
  if (n.includes("urgence")) return <Zap className="h-6 w-6 text-amber-600" />;
  if (n.includes("interne")) return <Brain className="h-6 w-6 text-purple-600" />;
  return <Stethoscope className="h-6 w-6 text-slate-600" />;
};

export default function NewConsultationPage() {
  const router = useRouter();
  const { user } = useAuth();
  const [competences, setCompetences] = useState<CompetenceLevel[]>([]);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState("");

  useEffect(() => {
    const fetchData = async () => {
      try {
        const data = await getStudentFullProfile();
        setCompetences(data.competences);
      } catch (err) {
        console.error(err);
        setError("Impossible de charger les domaines disponibles.");
      } finally {
        setLoading(false);
      }
    };
    if (user) fetchData();
  }, [user]);

  const handleSelectDomain = (domainName: string) => {
    // Normalisation simple du slug pour l'URL
    const slug = domainName
      .toLowerCase()
      .normalize("NFD")
      .replace(/[\u0300-\u036f]/g, "") // Enlever les accents
      .replace(/\s+/g, '-'); // Remplacer les espaces par des tirets
    
    // Générer un ID de session temporaire
    const newSessionId = `SESSION-${Date.now()}`;
    // Passer le nom réel du domaine en paramètre pour l'initialisation backend
    const encodedDomain = encodeURIComponent(domainName);
    router.push(`/learn/${slug}/lesson/${newSessionId}?domain=${encodedDomain}`);
  };

  if (loading) {
    return (
      <div className="flex h-screen items-center justify-center bg-gray-50">
        <Loader2 className="h-8 w-8 animate-spin text-blue-600" />
      </div>
    );
  }

  return (
    <div className="min-h-screen bg-gray-50/50 p-6 lg:p-10">
      <div className="max-w-5xl mx-auto space-y-8">
        
        <div className="text-center space-y-2">
          <h1 className="text-3xl font-bold text-gray-900">Nouvelle Consultation</h1>
          <p className="text-gray-500">Choisissez un domaine médical pour commencer un cas clinique.</p>
        </div>

        {error && (
            <div className="bg-red-50 text-red-600 p-4 rounded-lg text-center">
                {error}
            </div>
        )}

        {competences.length === 0 && !loading && !error ? (
             <div className="text-center py-12">
                <p className="text-gray-500">Aucun domaine de compétence trouvé.</p>
             </div>
        ) : (
            <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            {competences.map((domaine) => (
                <Card 
                    key={domaine.id} 
                    className="hover:shadow-lg transition-all duration-200 cursor-pointer border-l-4 border-l-transparent hover:border-l-blue-500 group"
                    onClick={() => handleSelectDomain(domaine.domaine_nom)}
                >
                <CardHeader className="flex flex-row items-center gap-4 pb-2">
                    <div className="h-12 w-12 rounded-xl bg-gray-100 flex items-center justify-center group-hover:bg-blue-50 transition-colors">
                        <DomainIcon name={domaine.domaine_nom} />
                    </div>
                    <div>
                        <CardTitle className="text-lg text-gray-900 group-hover:text-blue-700 transition-colors">
                            {domaine.domaine_nom}
                        </CardTitle>
                        <Badge variant="secondary" className="mt-1 text-xs font-normal">
                            {domaine.niveau_actuel}
                        </Badge>
                    </div>
                </CardHeader>
                <CardContent>
                    <div className="space-y-3 mt-2">
                        <div className="flex justify-between text-xs text-gray-500">
                            <span>Progression globale</span>
                            <span className="font-medium text-gray-900">{Math.round(domaine.progression_globale)}%</span>
                        </div>
                        <div className="w-full bg-gray-100 rounded-full h-1.5 overflow-hidden">
                            <div 
                                className="bg-blue-600 h-1.5 rounded-full" 
                                style={{ width: `${domaine.progression_globale}%` }}
                            />
                        </div>
                        <div className="pt-2 flex justify-end">
                            <Button variant="ghost" size="sm" className="text-blue-600 hover:text-blue-700 hover:bg-blue-50 p-0 h-auto font-medium">
                                Commencer <ArrowRight className="ml-1 h-3 w-3" />
                            </Button>
                        </div>
                    </div>
                </CardContent>
                </Card>
            ))}
            </div>
        )}
      </div>
    </div>
  );
}
// END OF FILE: app/(marketing)/(main)/learn/new/page.tsx

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/app/(marketing)/(main)/learn/page.tsx

"use client";

import { useState, useEffect } from "react";
import { useRouter } from "next/navigation";
import Link from "next/link";
import { useAuth } from "@/hooks/useAuth";
import { Button } from "@/components/ui/button";
import { Card, CardContent, CardHeader, CardTitle } from "@/components/ui/card";
import {
  Plus,
  Loader2,
  TrendingUp,
  Clock,
  Target,
  Zap,
  MessageSquare,
} from "lucide-react";
import { getStudentDashboardStats, type StudentDashboardData } from "@/lib/api";

const ProficiencyBar = ({
  label,
  value,
  color,
  bgColor,
  description
}: {
  label: string;
  value: number;
  color: string;
  bgColor: string;
  description: string;
}) => (
  <div className={`${bgColor} rounded-xl sm:rounded-2xl p-4 sm:p-5 space-y-2 sm:space-y-3`}>
    <div className="flex items-center justify-between">
      <span className="text-sm sm:text-base font-semibold text-gray-800">{label}</span>
      <span className={`text-sm sm:text-base font-bold ${
        value >= 80 ? 'text-green-600' : value >= 60 ? 'text-amber-600' : 'text-red-600'
      }`}>
        {value}%
      </span>
    </div>
    <div className="h-2 sm:h-3 bg-white/60 rounded-full overflow-hidden shadow-inner">
      <div
        className={`h-full bg-gradient-to-r ${color} rounded-full transition-all duration-700 ease-out`}
        style={{ width: `${value}%` }}
      />
    </div>
    <p className="text-xs sm:text-sm text-gray-600">{description}</p>
  </div>
);

export default function LearnDashboardPage() {
  const router = useRouter();
  const { user, isLoading: isAuthLoading } = useAuth();
  const [isStarting, setIsStarting] = useState(false);
  const [dashboardData, setDashboardData] = useState<StudentDashboardData | null>(null);

  useEffect(() => {
    const loadStats = async () => {
        try {
            const data = await getStudentDashboardStats();
            setDashboardData(data);
        } catch (e) {
            console.error(e);
        }
    };
    if (user) loadStats();
  }, [user]);

  // Démarrer une nouvelle consultation - va directement au chat
  const handleStartConsultation = () => {
    router.push(`/learn/new`);
  };

  if (isAuthLoading) {
    return (
      <div className="flex h-screen w-full items-center justify-center bg-gray-50">
        <div className="flex flex-col items-center gap-4">
          <Loader2 className="h-10 w-10 sm:h-12 sm:w-12 animate-spin text-blue-600" />
          <p className="text-sm sm:text-base text-gray-500">Chargement...</p>
        </div>
      </div>
    );
  }

  // Si l'utilisateur n'est pas connecté
  if (!user) {
    return (
      <div className="flex flex-col items-center justify-center min-h-screen gap-6 sm:gap-8 bg-gradient-to-br from-slate-50 via-white to-blue-50 p-4 sm:p-8">
        <div className="text-center space-y-3 sm:space-y-4">
          <h1 className="text-2xl sm:text-4xl font-bold text-gray-900">Bienvenue sur FultangMed</h1>
          <p className="text-base sm:text-lg text-gray-600 max-w-md px-4">
            Connectez-vous pour accéder à votre tableau de bord et commencer votre apprentissage médical.
          </p>
        </div>
        <Link href="/">
          <Button className="bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white px-8 sm:px-10 py-3 sm:py-4 rounded-xl text-base sm:text-lg font-medium shadow-lg">
            Se connecter
          </Button>
        </Link>
      </div>
    );
  }

  return (
    <div className="min-h-screen w-full bg-gradient-to-br from-slate-50 via-white to-blue-50">
      {/* Header */}
      <header className="bg-white/80 backdrop-blur-sm border-b border-gray-100 sticky top-0 z-10">
        <div className="w-full px-4 sm:px-6 lg:px-8 py-4 sm:py-6">
          <div className="flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between">
            <div className="min-w-0 flex-1">
              <h1 className="text-2xl sm:text-3xl font-bold text-gray-900">Tableau de Bord</h1>
              <p className="text-sm sm:text-base text-gray-500 mt-1 sm:mt-2 truncate">
                Bienvenue, <span className="font-medium text-gray-700">{user?.nom || 'Apprenant'}</span>
              </p>
            </div>
            <div className="flex gap-3">
                <Button
                onClick={() => router.push('/chat')}
                className="bg-white hover:bg-gray-50 text-gray-700 border border-gray-200 shadow-sm"
                >
                <MessageSquare className="h-5 w-5 mr-2" />
                Mes Discussions
                </Button>
                <Button
                onClick={handleStartConsultation}
                disabled={isStarting}
                className="bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 text-white shadow-lg"
                >
                {isStarting ? (
                    <Loader2 className="h-5 w-5 mr-2 animate-spin" />
                ) : (
                    <Plus className="h-5 w-5 mr-2" />
                )}
                Nouvelle Consultation
                </Button>
            </div>
          </div>
        </div>
      </header>

      {/* Content */}
      <div className="w-full px-4 sm:px-6 lg:px-8 py-4 sm:py-6 lg:py-8 space-y-4 sm:space-y-6 lg:space-y-8">
        {/* Quick Stats */}
        <div className="grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 lg:gap-5">
          <div className="bg-white rounded-xl sm:rounded-2xl p-4 sm:p-6 shadow-sm border border-gray-100 hover:shadow-md transition-shadow">
            <div className="flex items-center gap-3 sm:gap-4">
              <div className="w-10 h-10 sm:w-12 sm:h-12 rounded-lg sm:rounded-xl bg-blue-100 flex items-center justify-center flex-shrink-0">
                <Target className="w-5 h-5 sm:w-6 sm:h-6 text-blue-600" />
              </div>
              <div className="min-w-0">
                <p className="text-2xl sm:text-3xl font-bold text-gray-900">{dashboardData?.global_stats.cas_completes || 0}</p>
                <p className="text-xs sm:text-sm text-gray-500 truncate">Cas Complétés</p>
              </div>
            </div>
          </div>
          <div className="bg-white rounded-xl sm:rounded-2xl p-4 sm:p-6 shadow-sm border border-gray-100 hover:shadow-md transition-shadow">
            <div className="flex items-center gap-3 sm:gap-4">
              <div className="w-10 h-10 sm:w-12 sm:h-12 rounded-lg sm:rounded-xl bg-green-100 flex items-center justify-center flex-shrink-0">
                <TrendingUp className="w-5 h-5 sm:w-6 sm:h-6 text-green-600" />
              </div>
              <div className="min-w-0">
                <p className="text-2xl sm:text-3xl font-bold text-gray-900">{dashboardData?.global_stats.score_moyen || 0}%</p>
                <p className="text-xs sm:text-sm text-gray-500 truncate">Score Moyen</p>
              </div>
            </div>
          </div>
          <div className="bg-white rounded-xl sm:rounded-2xl p-4 sm:p-6 shadow-sm border border-gray-100 hover:shadow-md transition-shadow">
            <div className="flex items-center gap-3 sm:gap-4">
              <div className="w-10 h-10 sm:w-12 sm:h-12 rounded-lg sm:rounded-xl bg-amber-100 flex items-center justify-center flex-shrink-0">
                <Clock className="w-5 h-5 sm:w-6 sm:h-6 text-amber-600" />
              </div>
              <div className="min-w-0">
                <p className="text-2xl sm:text-3xl font-bold text-gray-900">{dashboardData?.global_stats.temps_etude || 0}h</p>
                <p className="text-xs sm:text-sm text-gray-500 truncate">Temps d&apos;Étude</p>
              </div>
            </div>
          </div>
          <div className="bg-white rounded-xl sm:rounded-2xl p-4 sm:p-6 shadow-sm border border-gray-100 hover:shadow-md transition-shadow">
            <div className="flex items-center gap-3 sm:gap-4">
              <div className="w-10 h-10 sm:w-12 sm:h-12 rounded-lg sm:rounded-xl bg-purple-100 flex items-center justify-center flex-shrink-0">
                <Zap className="w-5 h-5 sm:w-6 sm:h-6 text-purple-600" />
              </div>
              <div className="min-w-0">
                <p className="text-2xl sm:text-3xl font-bold text-gray-900">{dashboardData?.global_stats.jours_consecutifs || 0}</p>
                <p className="text-xs sm:text-sm text-gray-500 truncate">Jours Consécutifs</p>
              </div>
            </div>
          </div>
        </div>

        <div className="grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 lg:gap-8">
            {/* Proficiency Profile */}
            <Card className="border-0 shadow-sm bg-white h-full">
            <CardHeader className="px-4 sm:px-6 pb-3 sm:pb-4">
                <CardTitle className="text-lg sm:text-xl font-semibold text-gray-900 flex items-center gap-2 sm:gap-3">
                <div className="w-1 sm:w-1.5 h-6 sm:h-7 bg-gradient-to-b from-green-500 to-emerald-600 rounded-full" />
                Profil de Compétences
                </CardTitle>
            </CardHeader>
            <CardContent className="px-4 sm:px-6">
                <div className="space-y-4">
                {dashboardData?.proficiency_data.map((item) => (
                    <ProficiencyBar
                    key={item.id}
                    label={item.label}
                    value={item.value}
                    color={item.color}
                    bgColor={item.bgColor}
                    description={item.description}
                    />
                ))}
                {!dashboardData && (
                    <div className="text-center text-gray-500 py-10">Chargement des données...</div>
                )}
                </div>
            </CardContent>
            </Card>

            {/* Difficulties */}
             <Card className="border-0 shadow-sm bg-white h-full">
                <CardHeader className="px-4 sm:px-6 pb-3 sm:pb-4">
                    <CardTitle className="text-lg sm:text-xl font-semibold text-gray-900 flex items-center gap-2 sm:gap-3">
                    <div className="w-1 sm:w-1.5 h-6 sm:h-7 bg-gradient-to-b from-orange-500 to-red-600 rounded-full" />
                    Difficultés Récemment Identifiées
                    </CardTitle>
                </CardHeader>
                <CardContent className="px-4 sm:px-6">
                    {dashboardData?.difficulties && dashboardData.difficulties.length > 0 ? (
                        <div className="flex flex-wrap gap-2">
                             {dashboardData.difficulties.map((diff, i) => (
                                <div key={i} className="flex items-start gap-2 bg-red-50 text-red-700 px-3 py-2 rounded-lg text-sm border border-red-100">
                                   <div className="mt-0.5 shrink-0 w-2 h-2 rounded-full bg-red-400" />
                                   {diff}
                                </div>
                             ))}
                        </div>
                    ) : (
                        <div className="flex flex-col items-center justify-center py-12 text-gray-400">
                            <Target className="w-12 h-12 mb-3 opacity-20" />
                            <p>Aucune difficulté majeure récente.</p>
                        </div>
                    )}
                </CardContent>
            </Card>
        </div>
      </div>
    </div>
  );
}
// END OF FILE: app/(marketing)/(main)/learn/page.tsx

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/app/(marketing)/(main)/library/page.tsx

"use client";

import { useState } from "react";
import { Input } from "@/components/ui/input";
import { Button } from "@/components/ui/button";
import { Badge } from "@/components/ui/badge";
import { Card, CardContent, CardDescription, CardFooter, CardHeader, CardTitle } from "@/components/ui/card";
import { Tabs, TabsList, TabsTrigger } from "@/components/ui/tabs";
import { Search, BookOpen, FileText, Video, Download, Bookmark } from "lucide-react";

// Données simulées pour la bibliothèque
const RESOURCES = [
  {
    id: 1,
    title: "Guide de prise en charge du Paludisme Grave",
    type: "PDF",
    category: "Infectiologie",
    author: "OMS / MinSanté",
    date: "2024",
    readTime: "15 min",
    description: "Protocole national standardisé pour le traitement du paludisme sévère chez l'enfant et l'adulte.",
    downloadUrl: "#",
    tags: ["Urgence", "Pédiatrie", "Parasitologie"]
  },
  {
    id: 2,
    title: "Sémiologie Cardiaque : Les Souffles",
    type: "Vidéo",
    category: "Cardiologie",
    author: "Dr. Fultang",
    date: "2023",
    readTime: "12 min",
    description: "Vidéo interactive expliquant comment distinguer les différents souffles systoliques et diastoliques.",
    downloadUrl: "#",
    tags: ["Examen Clinique", "Auscultation"]
  },
  {
    id: 3,
    title: "Antibiothérapie en pratique courante",
    type: "Article",
    category: "Thérapeutique",
    author: "Revue Médicale",
    date: "2025",
    readTime: "8 min",
    description: "Synthèse sur les nouvelles recommandations de prescription d'antibiotiques pour les infections respiratoires.",
    downloadUrl: "#",
    tags: ["Pharmacologie", "Pneumologie"]
  },
  {
    id: 4,
    title: "Score de Glasgow et évaluation neurologique",
    type: "Outil",
    category: "Neurologie",
    author: "Urgences 2.0",
    date: "2023",
    readTime: "5 min",
    description: "Fiche mémo pratique pour l'évaluation rapide de l'état de conscience aux urgences.",
    downloadUrl: "#",
    tags: ["Urgence", "Traumatologie"]
  },
  {
    id: 5,
    title: "Diabète de Type 2 : Nouveaux traitements",
    type: "PDF",
    category: "Endocrinologie",
    author: "Société Francophone du Diabète",
    date: "2024",
    readTime: "20 min",
    description: "Analyse des inhibiteurs SGLT2 et agonistes GLP-1 dans la prise en charge moderne.",
    downloadUrl: "#",
    tags: ["Métabolisme", "Chronique"]
  }
];

const CATEGORIES = ["Tout", "Infectiologie", "Cardiologie", "Thérapeutique", "Neurologie", "Endocrinologie", "Pédiatrie"];

export default function LibraryPage() {
  const [searchQuery, setSearchQuery] = useState("");
  const [selectedCategory, setSelectedCategory] = useState("Tout");

  // Filtrage
  const filteredResources = RESOURCES.filter(resource => {
    const matchesSearch = resource.title.toLowerCase().includes(searchQuery.toLowerCase()) || 
                          resource.description.toLowerCase().includes(searchQuery.toLowerCase());
    const matchesCategory = selectedCategory === "Tout" || resource.category === selectedCategory;
    return matchesSearch && matchesCategory;
  });

  return (
    <div className="min-h-screen bg-gray-50/50 p-6 lg:p-8 space-y-8">
      {/* Header */}
      <div className="flex flex-col md:flex-row md:items-center justify-between gap-4">
        <div>
          <h1 className="text-3xl font-bold text-gray-900 tracking-tight flex items-center gap-3">
            <BookOpen className="h-8 w-8 text-blue-600" />
            Bibliothèque Médicale
          </h1>
          <p className="text-gray-500 mt-2">
            Ressources, guides cliniques et cours pour approfondir vos connaissances.
          </p>
        </div>
        <div className="relative w-full md:w-96">
          <Search className="absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400" />
          <Input 
            placeholder="Rechercher un document, un cours..." 
            className="pl-10 bg-white"
            value={searchQuery}
            onChange={(e) => setSearchQuery(e.target.value)}
          />
        </div>
      </div>

      {/* Categories Tabs */}
      <Tabs defaultValue="Tout" className="w-full" onValueChange={setSelectedCategory}>
        <TabsList className="w-full justify-start overflow-x-auto bg-transparent p-0 h-auto gap-2 mb-6">
          {CATEGORIES.map(cat => (
            <TabsTrigger 
              key={cat} 
              value={cat}
              className="px-4 py-2 rounded-full border border-gray-200 bg-white data-[state=active]:bg-blue-600 data-[state=active]:text-white data-[state=active]:border-blue-600 transition-all font-medium text-gray-600"
            >
              {cat}
            </TabsTrigger>
          ))}
        </TabsList>
        
        {/* Results Grid */}
        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
          {filteredResources.length > 0 ? (
            filteredResources.map((resource) => (
              <ResourceCard key={resource.id} resource={resource} />
            ))
          ) : (
            <div className="col-span-full py-12 text-center text-gray-500">
              <BookOpen className="h-12 w-12 mx-auto mb-3 opacity-20" />
              <p>Aucune ressource trouvée pour &quot;{searchQuery}&quot;.</p>
            </div>
          )}
        </div>
      </Tabs>
    </div>
  );
}

function ResourceCard({ resource }: { resource: typeof RESOURCES[0] }) {
  const getIcon = (type: string) => {
    switch(type) {
      case 'PDF': return <FileText className="h-5 w-5 text-red-500" />;
      case 'Vidéo': return <Video className="h-5 w-5 text-purple-500" />;
      default: return <BookOpen className="h-5 w-5 text-blue-500" />;
    }
  };

  return (
    <Card className="hover:shadow-lg transition-all duration-300 group border-gray-100">
      <CardHeader className="pb-3">
        <div className="flex justify-between items-start mb-2">
            <Badge variant="secondary" className="bg-blue-50 text-blue-700 hover:bg-blue-100">
                {resource.category}
            </Badge>
            {getIcon(resource.type)}
        </div>
        <CardTitle className="text-lg leading-tight group-hover:text-blue-600 transition-colors">
            {resource.title}
        </CardTitle>
        <CardDescription className="flex items-center gap-2 text-xs mt-1">
            <span>{resource.author}</span>
            <span>•</span>
            <span>{resource.date}</span>
        </CardDescription>
      </CardHeader>
      
      <CardContent className="pb-3">
        <p className="text-sm text-gray-600 line-clamp-2 mb-4">
            {resource.description}
        </p>
        <div className="flex flex-wrap gap-2">
            {resource.tags.map(tag => (
                <span key={tag} className="text-[10px] sm:text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded">
                    #{tag}
                </span>
            ))}
        </div>
      </CardContent>

      <CardFooter className="pt-3 border-t bg-gray-50/50 flex justify-between items-center">
        <span className="text-xs text-slate-500 font-medium">{resource.readTime} de lecture</span>
        <div className="flex gap-2">
            <Button size="icon" variant="ghost" className="h-8 w-8 text-gray-400 hover:text-blue-600">
                <Bookmark className="h-4 w-4" />
            </Button>
            <Button size="sm" variant="outline" className="h-8 gap-2 hover:bg-blue-50 hover:text-blue-600 hover:border-blue-200">
                <Download className="h-3.5 w-3.5" />
                <span className="sr-only sm:not-sr-only sm:text-xs">Accéder</span>
            </Button>
        </div>
      </CardFooter>
    </Card>
  );
}
// END OF FILE: app/(marketing)/(main)/library/page.tsx

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/app/(marketing)/(main)/profile/page.tsx

"use client";

import { useEffect, useState } from "react";
import { getStudentFullProfile, type FullProfileData, type CompetenceLevel, type Badge as BadgeType } from "@/lib/api";
import { Loader2, Trophy, Medal, AlertTriangle, TrendingUp, BookOpen, Star, Mail, Calendar } from "lucide-react";
import { Card, CardContent, CardHeader, CardTitle, CardDescription } from "@/components/ui/card";
import { Progress } from "@/components/ui/progress";
import { Avatar, AvatarFallback } from "@/components/ui/avatar";

export default function ProfilePage() {
  const [data, setData] = useState<FullProfileData | null>(null);
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    getStudentFullProfile()
      .then(setData)
      .catch((err) => console.error("Erreur profil", err))
      .finally(() => setLoading(false));
  }, []);

  if (loading) {
    return (
      <div className="flex h-screen items-center justify-center bg-gray-50">
        <Loader2 className="h-8 w-8 animate-spin text-blue-600" />
      </div>
    );
  }

  if (!data) return <div className="p-8 text-center text-red-500">Impossible de charger le profil.</div>;

  const { apprenant, profil, competences } = data;

  return (
    <div className="min-h-screen bg-gray-50/50 p-6 lg:p-8 space-y-8">
      {/* 1. HEADER & IDENTITY */}
      <div className="bg-white rounded-2xl p-6 shadow-sm border border-gray-100 flex flex-col md:flex-row items-center md:items-start gap-6">
        <Avatar className="h-24 w-24 ring-4 ring-blue-50">
           <AvatarFallback className="bg-gradient-to-br from-blue-600 to-indigo-600 text-white text-3xl font-bold">
            {apprenant.nom.charAt(0)}
           </AvatarFallback>
        </Avatar>
        
        <div className="flex-1 text-center md:text-left space-y-2">
            <div>
                <h1 className="text-2xl font-bold text-gray-900">{apprenant.nom}</h1>
                <div className="flex flex-wrap items-center justify-center md:justify-start gap-3 mt-1 text-gray-500 text-sm">
                    <span className="flex items-center gap-1"><Mail className="h-3 w-3" /> {apprenant.email}</span>
                    <span className="flex items-center gap-1"><Calendar className="h-3 w-3" /> Inscrit le {new Date(apprenant.date_inscription).toLocaleDateString()}</span>
                </div>
            </div>
            
            <div className="flex flex-wrap items-center justify-center md:justify-start gap-4 pt-2">
                <div className="bg-amber-50 text-amber-700 px-4 py-2 rounded-xl flex items-center gap-2 font-medium">
                    <Trophy className="h-5 w-5 text-amber-500" />
                    {profil.xp_total} XP
                </div>
                <div className="bg-blue-50 text-blue-700 px-4 py-2 rounded-xl flex items-center gap-2 font-medium">
                    <Star className="h-5 w-5 text-blue-500" />
                    Niveau Global: {competences.length > 0 ? "Intermédiaire" : "Novice"}
                </div>
            </div>
        </div>
      </div>

      <div className="grid grid-cols-1 lg:grid-cols-3 gap-8">
        
        {/* 2. MAIN COLUMN - COMPETENCES DETAILED */}
        <div className="lg:col-span-2 space-y-8">
            <h2 className="text-xl font-bold text-gray-900 flex items-center gap-2">
                <TrendingUp className="h-5 w-5 text-blue-600" />
                Performance par Domaine
            </h2>

            {competences.length === 0 ? (
                <Card className="bg-white border-dashed">
                    <CardContent className="py-12 text-center text-gray-500">
                        Aucune donnée de compétence pour le moment. Complétez des cas cliniques !
                    </CardContent>
                </Card>
            ) : (
                competences.map((comp) => (
                    <CompetenceCard key={comp.id} data={comp} />
                ))
            )}
        </div>

        {/* 3. RIGHT COLUMN - BADGES & WEAKNESSES */}
        <div className="space-y-8">
            
            {/* BADGES */}
            <Card>
                <CardHeader>
                    <CardTitle className="flex items-center gap-2 text-lg">
                        <Medal className="h-5 w-5 text-yellow-500" /> Badges & Trophées
                    </CardTitle>
                </CardHeader>
                <CardContent>
                    {profil.badges && profil.badges.length > 0 ? (
                        <div className="grid grid-cols-3 gap-4">
                            {profil.badges.map((badge: BadgeType) => (
                                <div key={badge.id} className="flex flex-col items-center text-center gap-2 p-2">
                                    <div className="h-12 w-12 rounded-full bg-yellow-100 flex items-center justify-center">
                                        <Trophy className="h-6 w-6 text-yellow-600" />
                                    </div>
                                    <span className="text-xs font-medium text-gray-700">{badge.nom}</span>
                                </div>
                            ))}
                        </div>
                    ) : (
                        <div className="text-sm text-gray-500 text-center py-4">
                            Aucun badge débloqué pour l&apos;instant.
                        </div>
                    )}
                </CardContent>
            </Card>

            {/* LACUNES / FOCUS POINTS */}
            <Card className="border-l-4 border-l-red-500">
                <CardHeader>
                    <CardTitle className="flex items-center gap-2 text-lg">
                        <AlertTriangle className="h-5 w-5 text-red-500" /> Points d&apos;Amélioration
                    </CardTitle>
                    <CardDescription>Basé sur vos erreurs récurrentes</CardDescription>
                </CardHeader>
                <CardContent>
                    <ul className="space-y-3">
                        {profil.lacunes_identifiees && profil.lacunes_identifiees.length > 0 ? (
                            profil.lacunes_identifiees.map((lacune, idx) => (
                                <li key={idx} className="flex gap-2 text-sm text-gray-700 bg-red-50 p-2 rounded-md">
                                    <span className="text-red-500 font-bold">•</span>
                                    {typeof lacune === 'string' ? lacune : (
                                        <span className="flex flex-col">
                                            <span className="font-semibold text-xs text-red-700 uppercase">{lacune.competence}</span>
                                            <span>{lacune.feedback}</span>
                                        </span>
                                    )}
                                </li>
                            ))
                        ) : (
                            <li className="text-sm text-gray-500 italic">Aucune lacune majeure détectée.</li>
                        )}
                    </ul>
                </CardContent>
            </Card>

        </div>
      </div>
    </div>
  );
}

const CompetenceCard = ({ data }: { data: CompetenceLevel }) => {
    return (
        <Card className="overflow-hidden">
            <div className="bg-gray-50 px-6 py-4 border-b flex justify-between items-center">
                <div className="flex items-center gap-3">
                    <div className="h-10 w-10 bg-white rounded-lg border shadow-sm flex items-center justify-center text-blue-600">
                        <BookOpen className="h-5 w-5" />
                    </div>
                    <div>
                        <h3 className="font-bold text-gray-900">{data.domaine_nom}</h3>
                        <p className="text-xs text-gray-500">Niveau actuel: <span className="font-medium text-blue-600 bg-blue-50 px-2 py-0.5 rounded">{data.niveau_actuel}</span></p>
                    </div>
                </div>
                <div className="text-right">
                    <span className="text-2xl font-bold text-gray-900">{Math.round(data.progression_globale)}%</span>
                    <span className="text-xs text-gray-500 block">Maîtrise</span>
                </div>
            </div>
            <CardContent className="p-6 grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-4">
                <SkillBar label="Anamnèse & Interrogatoire" value={data.score_anamnese} color="bg-blue-500" />
                <SkillBar label="Raisonnement Diagnostique" value={data.score_diagnostic} color="bg-purple-500" />
                <SkillBar label="Traitement & Prise en charge" value={data.score_traitement} color="bg-green-500" />
                <SkillBar label="Communication & Relationnel" value={data.score_relationnel} color="bg-amber-500" />
            </CardContent>
        </Card>
    );
};

const SkillBar = ({ label, value, color }: { label: string, value: number, color: string }) => (
    <div className="space-y-1">
        <div className="flex justify-between text-sm">
            <span className="text-gray-600">{label}</span>
            <span className="font-medium text-gray-900">{Math.round(value)}%</span>
        </div>
        <Progress value={value} className="h-2" indicatorClassName={color} />
    </div>
);
// END OF FILE: app/(marketing)/(main)/profile/page.tsx

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/app/(marketing)/(main)/profiling/page.tsx

"use client";

import { useState, useEffect } from "react";
import { useRouter } from "next/navigation";
import { useAuth } from "@/hooks/useAuth";
import * as api from "@/lib/api";
import { Button } from "@/components/ui/button";
import { Card, CardContent } from "@/components/ui/card";
import { Progress } from "@/components/ui/progress";
import { Badge } from "@/components/ui/badge";
import {
  ArrowRight,
  ArrowLeft,
  CheckCircle2,
  AlertCircle,
  Loader2,
  Stethoscope,
  Activity,
  Brain,
  Heart
} from "lucide-react";
import { ProfilingQuestion } from "@/lib/api";

// Types
interface ProfilingScores {
  anamnese: number;
  diagnostic: number;
  traitement: number;
  relationnel: number;
}

interface ProfilingResults {
  scores: ProfilingScores;
}

export default function ProfilingPage() {
  const router = useRouter();
  const { token } = useAuth();
  
  const [questions, setQuestions] = useState<ProfilingQuestion[]>([]);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState<string | null>(null);
  
  // State for quiz execution
  const [currentQuestionIndex, setCurrentQuestionIndex] = useState(0);
  const [answers, setAnswers] = useState<{ [qId: number]: number }>({}); // qId -> optionIndex
  const [isSubmitting, setIsSubmitting] = useState(false);
  const [results, setResults] = useState<ProfilingResults | null>(null);

  useEffect(() => {
    async function loadQuestions() {
      if (!token) return;
      try {
        const data = await api.getProfilingQuestions(token);
        // Ensure data is array
        if (Array.isArray(data)) {
            setQuestions(data);
        } else {
            console.error("Data received is not an array", data);
            setError("Format de données invalide reçu du serveur.");
        }
        setLoading(false);
      } catch (err: unknown) {
        console.error(err);
        setError("Impossible de charger les questions de profiling.");
        setLoading(false);
      }
    }
    loadQuestions();
  }, [token]);

  const handleOptionSelect = (optionIndex: number) => {
    if (!questions.length) return;
    const currentQ = questions[currentQuestionIndex];
    setAnswers(prev => ({
      ...prev,
      [currentQ.id]: optionIndex
    }));
  };

  const handleNext = () => {
    if (currentQuestionIndex < questions.length - 1) {
      setCurrentQuestionIndex(prev => prev + 1);
    } else {
      submitQuiz();
    }
  };

  const handlePrevious = () => {
    if (currentQuestionIndex > 0) {
      setCurrentQuestionIndex(prev => prev - 1);
    }
  };

  const submitQuiz = async () => {
    if (!token) return;
    setIsSubmitting(true);
    try {
      const response = await api.submitProfiling(answers, token);
      setResults(response);
    } catch (err: unknown) {
      console.error(err);
      setError("Erreur lors de la soumission des réponses.");
    } finally {
      setIsSubmitting(false);
    }
  };
  
  const handleContinue = () => {
      // Update local storage to reflect the change immediately without re-login
      const storedUser = localStorage.getItem('authUser');
      if (storedUser) {
          const newUser = { ...JSON.parse(storedUser), est_profile: true };
          localStorage.setItem('authUser', JSON.stringify(newUser));
      }
      window.location.href = '/learn'; 
  };
  
  const handleSkip = async () => {
      if (!token) return;
      if (!window.confirm("Voulez-vous vraiment passer ce test ? Votre niveau sera initialisé à 'Débutant' partout.")) return;
      
      setIsSubmitting(true);
      try {
        // Send empty answers to initialize with 0/Beginner
        const response = await api.submitProfiling({}, token);
        setResults(response);
      } catch (err: unknown) {
        console.error(err);
        setError("Erreur lors de l'initialisation du profil.");
      } finally {
        setIsSubmitting(false);
      }
  };

  if (loading) {
    return (
      <div className="min-h-screen flex items-center justify-center bg-gray-50">
        <div className="text-center space-y-4">
            <Loader2 className="w-12 h-12 animate-spin text-blue-600 mx-auto" />
            <p className="text-gray-500 font-medium">Chargement du test de positionnement...</p>
        </div>
      </div>
    );
  }

  if (error) {
    return (
        <div className="min-h-screen flex items-center justify-center bg-gray-50 p-4">
            <Card className="w-full max-w-md border-red-200 shadow-lg">
                <CardContent className="pt-6 text-center space-y-4">
                    <div className="bg-red-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto">
                        <AlertCircle className="w-8 h-8 text-red-600" />
                    </div>
                    <h2 className="text-xl font-bold text-gray-900">Une erreur est survenue</h2>
                    <p className="text-gray-600">{error}</p>
                    <Button onClick={() => window.location.reload()} variant="outline" className="w-full">
                        Réessayer
                    </Button>
                </CardContent>
            </Card>
        </div>
    );
  }

  // --- RESULT VIEW ---
  if (results) {
    return (
      <div className="min-h-screen bg-slate-50 flex items-center justify-center p-4">
        <Card className="w-full max-w-2xl border-none shadow-xl overflow-hidden">
          <div className="bg-green-600 p-8 text-center text-white">
            <div className="bg-white/20 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-4 backdrop-blur-sm">
                <CheckCircle2 className="w-10 h-10 text-white" />
            </div>
            <h1 className="text-3xl font-bold mb-2">Profil Initialisé !</h1>
            <p className="text-green-50">Merci docteur, nous avons calibré votre parcours.</p>
          </div>
          
          <CardContent className="p-8 space-y-8">
            <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                <ScoreCard 
                    label="Anamnèse" 
                    score={results.scores.anamnese} 
                    icon={<Brain className="w-5 h-5 text-purple-600" />} 
                    color="bg-purple-100" 
                    barColor="bg-purple-600"
                />
                <ScoreCard 
                    label="Diagnostic" 
                    score={results.scores.diagnostic} 
                    icon={<Stethoscope className="w-5 h-5 text-blue-600" />} 
                    color="bg-blue-100" 
                    barColor="bg-blue-600"
                />
                <ScoreCard 
                    label="Traitement" 
                    score={results.scores.traitement} 
                    icon={<Activity className="w-5 h-5 text-emerald-600" />} 
                    color="bg-emerald-100" 
                    barColor="bg-emerald-600"
                />
                <ScoreCard 
                    label="Relationnel" 
                    score={results.scores.relationnel} 
                    icon={<Heart className="w-5 h-5 text-rose-600" />} 
                    color="bg-rose-100" 
                    barColor="bg-rose-600"
                />
            </div>
            
            <div className="pt-4">
                <Button onClick={handleContinue} className="w-full h-12 text-lg font-medium shadow-md transition-all hover:scale-[1.02]">
                    Accéder à mon tableau de bord <ArrowRight className="ml-2 w-5 h-5" />
                </Button>
            </div>
          </CardContent>
        </Card>
      </div>
    );
  }

  // --- QUIZ VIEW ---
  const currentQ = questions[currentQuestionIndex];
  // Guard clause if questions array is empty but loading is false (edge case)
  if (!currentQ) return <div className="p-10 text-center">Aucune question disponible.</div>;

  const progress = ((currentQuestionIndex + 1) / questions.length) * 100;
  const isLastQuestion = currentQuestionIndex === questions.length - 1;
  const hasSelectedOption = answers[currentQ.id] !== undefined;

  return (
    <div className="min-h-screen bg-slate-50 flex flex-col items-center py-10 px-4">
      {/* Header */}
      <div className="w-full max-w-4xl mb-8 flex items-center justify-between">
        <div>
            <h1 className="text-2xl font-bold text-slate-900">Évaluation Initiale</h1>
            <p className="text-slate-500">Calibrage de votre niveau de compétence</p>
        </div>
        <div className="text-right flex flex-col items-end gap-1">
            <Button 
                variant="ghost" 
                size="sm" 
                onClick={handleSkip} 
                className="text-slate-400 hover:text-slate-600 mb-1 h-auto py-1 px-2"
            >
                Passer l&apos;évaluation
            </Button>
            <div>
                <span className="text-sm font-semibold text-slate-900">Question {currentQuestionIndex + 1}</span>
                <span className="text-sm text-slate-400"> / {questions.length}</span>
            </div>
        </div>
      </div>

      <div className="w-full max-w-4xl space-y-6">
        {/* Progress Bar */}
        <div className="w-full bg-slate-200 rounded-full h-2.5 overflow-hidden">
            <div 
                className="bg-blue-600 h-2.5 rounded-full transition-all duration-500 ease-out" 
                style={{ width: `${progress}%` }}
            ></div>
        </div>

        <Card className="border-none shadow-lg overflow-hidden">
            <div className="bg-slate-900 p-6 text-white">
                <div className="flex items-center gap-3 mb-4">
                    <Badge variant="secondary" className="bg-blue-500/20 text-blue-200 hover:bg-blue-500/30 border-none">
                        {currentQ.competence}
                    </Badge>
                </div>
                <h3 className="text-lg font-medium leading-relaxed italic text-slate-300 mb-2">
                    &quot;{currentQ.situation}&quot;
                </h3>
                <h2 className="text-xl md:text-2xl font-bold mt-4 leading-tight">
                    {currentQ.question_text}
                </h2>
            </div>
            
            <CardContent className="p-6 md:p-8 bg-white">
                <div className="space-y-4">
                    {currentQ.options.map((option: { texte: string; score: number; feedback: string }, idx: number) => (
                        <button
                            key={idx}
                            onClick={() => handleOptionSelect(idx)}
                            className={`w-full flex items-center gap-4 p-4 rounded-xl border-2 transition-all duration-200 text-left group
                                ${answers[currentQ.id] === idx 
                                    ? 'border-blue-600 bg-blue-50 ring-2 ring-blue-100' 
                                    : 'border-slate-100 hover:border-blue-200 hover:bg-slate-50'
                                }
                            `}
                        >
                            <div className={`
                                w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold border-2 transition-colors
                                ${answers[currentQ.id] === idx 
                                    ? 'bg-blue-600 border-blue-600 text-white' 
                                    : 'bg-white border-slate-200 text-slate-400 group-hover:border-blue-400 group-hover:text-blue-500'
                                }
                            `}>
                                {String.fromCharCode(65 + idx)}
                            </div>
                            <span className={`text-lg ${answers[currentQ.id] === idx ? 'text-blue-900 font-medium' : 'text-slate-700'}`}>
                                {option.texte}
                            </span>
                        </button>
                    ))}
                </div>

                <div className="flex items-center justify-between mt-8 pt-6 border-t border-slate-100">
                    <Button 
                        variant="ghost" 
                        onClick={handlePrevious}
                        disabled={currentQuestionIndex === 0}
                        className="text-slate-400 hover:text-slate-600"
                    >
                        <ArrowLeft className="mr-2 h-4 w-4" /> Précédent
                    </Button>

                    <Button 
                        onClick={handleNext} 
                        disabled={!hasSelectedOption || isSubmitting}
                        className={`px-8 h-12 text-lg shadow-md transition-all ${
                            hasSelectedOption 
                                ? 'bg-blue-600 hover:bg-blue-700 hover:shadow-lg hover:-translate-y-0.5' 
                                : 'bg-slate-200 text-slate-400'
                        }`}
                    >
                        {isSubmitting ? (
                            <Loader2 className="h-5 w-5 animate-spin" />
                        ) : isLastQuestion ? (
                            <>Terminer l&apos;évaluation <CheckCircle2 className="ml-2 h-5 w-5" /></>
                        ) : (
                            <>Question suivante <ArrowRight className="ml-2 h-5 w-5" /></>
                        )}
                    </Button>
                </div>
            </CardContent>
        </Card>
      </div>
    </div>
  );
}

function ScoreCard({ label, score, icon, color, barColor }: { label: string; score: number; icon: React.ReactNode; color: string; barColor: string }) {
    return (
        <div className="bg-slate-50 rounded-xl p-5 border border-slate-100">
            <div className="flex items-center justify-between mb-3">
                <div className="flex items-center gap-3">
                    <div className={`p-2 rounded-lg ${color}`}>
                        {icon}
                    </div>
                    <span className="font-semibold text-slate-700">{label}</span>
                </div>
                <span className="font-bold text-slate-900">{Math.round(score)}%</span>
            </div>
            <Progress value={score} className="h-2" indicatorClassName={barColor} />
            {/* Note: indicatorClassName might need to be supported by the Progress component or use style prop if not supported */}
        </div>
    )
}
// END OF FILE: app/(marketing)/(main)/profiling/page.tsx

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/app/(marketing)/page.tsx

"use client";

import { useState, useEffect } from "react";
import { useRouter } from "next/navigation";
import { Input } from "@/components/ui/input";
import { Label } from "@/components/ui/label";
import { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from "@/components/ui/select";
import { getDomaines } from "@/lib/api";
import { useAuth } from "@/hooks/useAuth";
import { Loader2, Stethoscope, Brain, BookOpen, Award, Shield, Users } from "lucide-react";
import { toast } from "sonner";

export default function MarketingPage() {
    const { login, register, user, role } = useAuth();
    const router = useRouter();

    const [authMode, setAuthMode] = useState<'login' | 'register'>('login');
    const [userRole, setUserRole] = useState<'apprenant' | 'expert'>('apprenant');

    const [email, setEmail] = useState("");
    const [password, setPassword] = useState("");
    const [nom, setNom] = useState("");
    const [matricule, setMatricule] = useState("");
    const [domaineId, setDomaineId] = useState("");

    const [domaines, setDomaines] = useState<{ id: string, nom: string }[]>([]);
    const [hasLoadedDomaines, setHasLoadedDomaines] = useState(false);
    const [isLoading, setIsLoading] = useState(false);
    const [error, setError] = useState<string | null>(null);

    useEffect(() => {
        if (user) {
            if (role === 'expert') {
                router.push('/expert/dashboard');
            } else {
                // Si c'est un apprenant, on vérifie s'il doit passer le profiling
                if (user.est_profile === false) {
                    router.push('/profiling');
                } else {
                    router.push('/learn');
                }
            }
        }
    }, [user, role, router]);

    useEffect(() => {
        if (userRole === 'expert' && authMode === 'register' && !hasLoadedDomaines) {
            setIsLoading(true);
            getDomaines()
                .then((data) => {
                    setDomaines(data);
                    setHasLoadedDomaines(true);
                })
                .catch(() => setError("Impossible de charger les domaines."))
                .finally(() => setIsLoading(false));
        }
    }, [userRole, authMode, hasLoadedDomaines]);

    const handleSubmit = async (e: React.FormEvent) => {
        e.preventDefault();
        setIsLoading(true);
        setError(null);

        try {
            if (authMode === 'login') {
                await login(email, password, userRole);
                toast.success("Connexion réussie !");
            } else {
                if (userRole === 'apprenant') {
                    await register({ nom, email, password }, 'apprenant');
                } else {
                    if (!domaineId) throw new Error("Veuillez sélectionner un domaine d'expertise.");
                    await register({ nom, email, password, matricule, domaine_expertise_id: domaineId }, 'expert');
                }
                toast.success("Inscription réussie !", { description: "Vous pouvez maintenant vous connecter." });
                setAuthMode('login');
            }
        } catch (err: unknown) {
            setError(err instanceof Error ? err.message : "Une erreur est survenue.");
        } finally {
            setIsLoading(false);
        }
    };

    const toggleMode = (mode: 'login' | 'register') => {
        setAuthMode(mode);
        setError(null);
    };

    const toggleRole = (role: 'apprenant' | 'expert') => {
        setUserRole(role);
        setError(null);
    }

    if (user) return null;

    const features = [
        { icon: Brain, title: "IA Avancée", description: "Apprentissage personnalisé par intelligence artificielle" },
        { icon: BookOpen, title: "Cas Cliniques", description: "Bibliothèque riche en études de cas réels" },
        { icon: Award, title: "Certifications", description: "Validez vos compétences avec des certificats reconnus" },
    ];

    return (
        <div className="min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-indigo-900 relative overflow-hidden">
            {/* Background decorative elements */}
            <div className="absolute inset-0 overflow-hidden pointer-events-none">
                <div className="absolute -top-40 -right-40 w-80 h-80 bg-blue-500/20 rounded-full blur-3xl"></div>
                <div className="absolute top-1/2 -left-40 w-96 h-96 bg-indigo-500/20 rounded-full blur-3xl"></div>
                <div className="absolute bottom-0 right-1/4 w-72 h-72 bg-cyan-500/10 rounded-full blur-3xl"></div>
                {/* Grid pattern */}
                <div className="absolute inset-0 bg-[linear-gradient(rgba(255,255,255,0.02)_1px,transparent_1px),linear-gradient(90deg,rgba(255,255,255,0.02)_1px,transparent_1px)] bg-[size:50px_50px]"></div>
            </div>

            <div className="relative z-10 min-h-screen flex items-center justify-center p-6">
                <div className="max-w-7xl w-full flex flex-col lg:flex-row items-center justify-between gap-16">

                    {/* Left Side - Hero Section */}
                    <div className="flex-1 flex flex-col items-center text-center lg:items-start lg:text-left space-y-8">
                        {/* Logo and Brand */}
                        <div className="flex items-center gap-4">
                            <div className="w-16 h-16 rounded-2xl bg-gradient-to-br from-blue-400 to-indigo-600 flex items-center justify-center shadow-2xl shadow-blue-500/40">
                                <Stethoscope className="w-8 h-8 text-white" />
                            </div>
                            <span className="text-3xl font-bold text-white">FultangMed</span>
                        </div>

                        {/* Main Headline */}
                        <div className="space-y-6">
                            <h1 className="text-4xl lg:text-6xl font-extrabold text-white leading-tight">
                                Maîtrisez les
                                <span className="bg-gradient-to-r from-blue-400 via-cyan-400 to-indigo-400 bg-clip-text text-transparent"> Sciences Médicales</span>
                            </h1>
                            <p className="text-xl text-blue-100/80 max-w-xl leading-relaxed">
                                Plateforme d&apos;apprentissage médical propulsée par l&apos;intelligence artificielle.
                                Développez vos compétences cliniques avec des cas pratiques validés par des experts.
                            </p>
                        </div>

                        {/* Feature Cards */}
                        <div className="grid grid-cols-1 sm:grid-cols-3 gap-4 w-full max-w-xl mt-4">
                            {features.map((feature, index) => (
                                <div
                                    key={index}
                                    className="bg-white/5 backdrop-blur-sm border border-white/10 rounded-2xl p-4 hover:bg-white/10 transition-all duration-300 group"
                                >
                                    <feature.icon className="w-8 h-8 text-blue-400 mb-3 group-hover:scale-110 transition-transform" />
                                    <h3 className="text-white font-semibold text-sm mb-1">{feature.title}</h3>
                                    <p className="text-blue-200/60 text-xs leading-relaxed">{feature.description}</p>
                                </div>
                            ))}
                        </div>

                        {/* Stats */}
                        <div className="flex items-center gap-8 pt-4">
                            <div className="flex items-center gap-3">
                                <div className="w-12 h-12 rounded-full bg-green-500/20 flex items-center justify-center">
                                    <Users className="w-6 h-6 text-green-400" />
                                </div>
                                <div>
                                    <div className="text-2xl font-bold text-white">500+</div>
                                    <div className="text-sm text-blue-200/60">Apprenants</div>
                                </div>
                            </div>
                            <div className="flex items-center gap-3">
                                <div className="w-12 h-12 rounded-full bg-purple-500/20 flex items-center justify-center">
                                    <Shield className="w-6 h-6 text-purple-400" />
                                </div>
                                <div>
                                    <div className="text-2xl font-bold text-white">50+</div>
                                    <div className="text-sm text-blue-200/60">Experts</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    {/* Right Side - Auth Form */}
                    <div className="w-full max-w-md">
                        <div className="bg-white/95 backdrop-blur-xl rounded-3xl shadow-2xl shadow-black/20 p-8 border border-white/20">
                            {/* Role Selector */}
                            <div className="flex gap-2 mb-8 p-1.5 bg-slate-100 rounded-2xl">
                                <button
                                    onClick={() => toggleRole('apprenant')}
                                    className={`flex-1 py-3 px-4 rounded-xl font-semibold text-sm transition-all duration-300 ${
                                        userRole === 'apprenant'
                                            ? 'bg-white text-slate-900 shadow-lg'
                                            : 'text-slate-500 hover:text-slate-700'
                                    }`}
                                >
                                    Apprenant
                                </button>
                                <button
                                    onClick={() => toggleRole('expert')}
                                    className={`flex-1 py-3 px-4 rounded-xl font-semibold text-sm transition-all duration-300 ${
                                        userRole === 'expert'
                                            ? 'bg-white text-slate-900 shadow-lg'
                                            : 'text-slate-500 hover:text-slate-700'
                                    }`}
                                >
                                    Expert Médical
                                </button>
                            </div>

                            {/* Title */}
                            <div className="text-center mb-8">
                                <h2 className="text-2xl font-bold text-slate-900 mb-2">
                                    {authMode === 'login' ? 'Bienvenue' : 'Créer un compte'}
                                </h2>
                                <p className="text-slate-500 text-sm">
                                    {authMode === 'login'
                                        ? 'Connectez-vous pour continuer votre apprentissage'
                                        : 'Rejoignez notre communauté médicale'}
                                </p>
                            </div>

                            {/* Error Message */}
                            {error && (
                                <div className="bg-red-50 border border-red-200 text-red-700 p-4 rounded-xl text-sm mb-6 flex items-center gap-3">
                                    <div className="w-2 h-2 bg-red-500 rounded-full"></div>
                                    {error}
                                </div>
                            )}

                            {/* Form */}
                            <form onSubmit={handleSubmit} className="space-y-5">
                                {authMode === 'register' && (
                                    <div className="space-y-2">
                                        <Label htmlFor="nom" className="text-sm font-medium text-slate-700">Nom Complet</Label>
                                        <Input
                                            id="nom"
                                            value={nom}
                                            onChange={e => setNom(e.target.value)}
                                            required
                                            disabled={isLoading}
                                            placeholder="Dr. Jean Dupont"
                                            className="h-12 rounded-xl border-slate-200 bg-slate-50 focus:bg-white focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 transition-all"
                                        />
                                    </div>
                                )}
                                <div className="space-y-2">
                                    <Label htmlFor="email" className="text-sm font-medium text-slate-700">Adresse Email</Label>
                                    <Input
                                        id="email"
                                        type="email"
                                        value={email}
                                        onChange={e => setEmail(e.target.value)}
                                        required
                                        disabled={isLoading}
                                        placeholder="votre@email.com"
                                        className="h-12 rounded-xl border-slate-200 bg-slate-50 focus:bg-white focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 transition-all"
                                    />
                                </div>
                                <div className="space-y-2">
                                    <Label htmlFor="password" className="text-sm font-medium text-slate-700">Mot de passe</Label>
                                    <Input
                                        id="password"
                                        type="password"
                                        value={password}
                                        onChange={e => setPassword(e.target.value)}
                                        required
                                        disabled={isLoading}
                                        placeholder="••••••••"
                                        className="h-12 rounded-xl border-slate-200 bg-slate-50 focus:bg-white focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 transition-all"
                                    />
                                </div>
                                {userRole === 'expert' && authMode === 'register' && (
                                    <>
                                        <div className="space-y-2">
                                            <Label htmlFor="matricule" className="text-sm font-medium text-slate-700">Matricule Professionnel</Label>
                                            <Input
                                                id="matricule"
                                                value={matricule}
                                                onChange={e => setMatricule(e.target.value)}
                                                required
                                                disabled={isLoading}
                                                placeholder="MED-XXXX-XXXX"
                                                className="h-12 rounded-xl border-slate-200 bg-slate-50 focus:bg-white focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 transition-all"
                                            />
                                        </div>
                                        <div className="space-y-2">
                                            <Label htmlFor="domaine" className="text-sm font-medium text-slate-700">Domaine d&apos;Expertise</Label>
                                            <Select onValueChange={setDomaineId} required disabled={isLoading}>
                                                <SelectTrigger className="h-12 rounded-xl border-slate-200 bg-slate-50">
                                                    <SelectValue placeholder="Sélectionnez votre spécialité" />
                                                </SelectTrigger>
                                                <SelectContent>
                                                    {domaines.map(d => <SelectItem key={d.id} value={String(d.id)}>{d.nom}</SelectItem>)}
                                                </SelectContent>
                                            </Select>
                                        </div>
                                    </>
                                )}
                                <button
                                    type="submit"
                                    disabled={isLoading}
                                    className="w-full h-12 rounded-xl font-semibold text-white transition-all mt-2 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 hover:shadow-xl hover:shadow-blue-500/25 disabled:opacity-50 disabled:cursor-not-allowed active:scale-[0.98]"
                                >
                                    {isLoading ? (
                                        <Loader2 className="animate-spin mx-auto" size={20} />
                                    ) : (
                                        authMode === 'login' ? 'Se Connecter' : 'Créer mon compte'
                                    )}
                                </button>
                            </form>

                            {/* Toggle Auth Mode */}
                            <div className="mt-8 pt-6 border-t border-slate-100">
                                <p className="text-center text-sm text-slate-500">
                                    {authMode === 'login' ? "Nouveau sur FultangMed ?" : "Déjà un compte ?"}
                                    <button
                                        onClick={() => toggleMode(authMode === 'login' ? 'register' : 'login')}
                                        className="font-semibold text-blue-600 hover:text-blue-700 ml-1.5 transition-colors"
                                    >
                                        {authMode === 'login' ? 'Créer un compte' : 'Se connecter'}
                                    </button>
                                </p>
                            </div>
                        </div>

                        {/* Trust Badge */}
                        <div className="mt-6 text-center">
                            <p className="text-blue-200/50 text-xs flex items-center justify-center gap-2">
                                <Shield className="w-4 h-4" />
                                Données sécurisées et confidentielles
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    );
}
// END OF FILE: app/(marketing)/page.tsx

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/components/admin-sidebar.tsx

"use client";

import { cn } from "@/lib/utils";
import Link from "next/link";
import { usePathname } from "next/navigation";
import { useAuth } from "@/hooks/useAuth";
import {
  LayoutDashboard,
  Users,
  UserPlus,
  FileText,
  Settings,
  LogOut,
  Shield
} from "lucide-react";
import { Avatar, AvatarFallback, AvatarImage } from "@/components/ui/avatar";

type Props = {
  className?: string;
};

const menuItems = [
  { label: "Tableau de bord", href: "/admin/dashboard", icon: LayoutDashboard },
  { label: "Gestion des Experts", href: "/admin/experts", icon: Users },
  { label: "Ajouter un Expert", href: "/admin/experts/add", icon: UserPlus },
  { label: "Cas Cliniques", href: "/admin/cases", icon: FileText },
  { label: "Parametres", href: "/admin/settings", icon: Settings },
];

export const AdminSidebar = ({ className }: Props) => {
  const pathname = usePathname();
  const { user, logout } = useAuth();

  return (
    <div className={cn(
      "flex h-full w-64 fixed left-0 top-0 flex-col bg-white border-r border-gray-100",
      className,
    )}>
      {/* Logo */}
      <div className="px-6 py-5">
        <Link href="/admin/dashboard" className="flex items-center gap-2">
          <div className="w-8 h-8 bg-gradient-to-br from-indigo-600 to-purple-600 rounded flex items-center justify-center">
            <Shield className="w-4 h-4 text-white" />
          </div>
          <span className="text-xl font-semibold text-gray-900">FultangMed</span>
        </Link>
        <span className="text-xs text-indigo-600 font-medium ml-10">Administration</span>
      </div>

      {/* User Profile */}
      <div className="px-6 py-4 mb-2">
        <div className="flex items-center gap-3 p-3 bg-gradient-to-r from-indigo-50 to-purple-50 rounded-xl">
          <Avatar className="h-10 w-10 ring-2 ring-indigo-200">
            <AvatarImage src="/placeholder-avatar.png" />
            <AvatarFallback className="bg-indigo-100 text-indigo-600 font-semibold">
              {user?.nom?.charAt(0) || "A"}
            </AvatarFallback>
          </Avatar>
          <div className="flex-1 min-w-0">
            <p className="text-sm font-semibold text-gray-900 truncate">
              {user?.nom || "Administrateur"}
            </p>
            <p className="text-xs text-indigo-600 truncate">Super Admin</p>
          </div>
        </div>
      </div>

      {/* Navigation Menu */}
      <nav className="flex-1 px-3 space-y-1">
        {menuItems.map((item, index) => {
          const isActive = pathname === item.href || pathname?.startsWith(item.href + "/");
          const Icon = item.icon;

          return (
            <Link
              key={`${item.label}-${index}`}
              href={item.href}
              className={cn(
                "flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 relative group",
                isActive
                  ? "bg-gradient-to-r from-indigo-50 to-purple-50 text-indigo-600"
                  : "text-gray-700 hover:bg-gray-50"
              )}
            >
              <Icon className={cn(
                "h-5 w-5 transition-colors",
                isActive ? "text-indigo-600" : "text-gray-500 group-hover:text-gray-700"
              )} />
              <span className="flex-1">{item.label}</span>
            </Link>
          );
        })}
      </nav>

      {/* Logout */}
      <div className="p-4 border-t border-gray-100">
        <button
          onClick={logout}
          className="flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium text-gray-700 hover:bg-red-50 hover:text-red-600 w-full transition-all duration-200 group"
        >
          <LogOut className="h-5 w-5 text-gray-500 group-hover:text-red-500" />
          <span>Deconnexion</span>
        </button>
      </div>
    </div>
  );
};
// END OF FILE: components/admin-sidebar.tsx

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/components/evaluation-modal.tsx

"use client";

import { useState } from "react";
import { Dialog, DialogContent, DialogHeader, DialogTitle, DialogFooter, DialogDescription } from "@/components/ui/dialog";
import { Button } from "@/components/ui/button";
import { CheckCircle2, XCircle, BrainCircuit } from "lucide-react";
import { cn } from "@/lib/utils";

export interface EvaluationData {
  competence: string;
  question: string;
  options: string[];
  correct_answer: string;
  explanation: string;
}

interface EvaluationModalProps {
  isOpen: boolean;
  onClose: () => void;
  data: EvaluationData | null;
}

export function EvaluationModal({ isOpen, onClose, data }: EvaluationModalProps) {
  const [selectedOption, setSelectedOption] = useState<string | null>(null);
  const [showResult, setShowResult] = useState(false);

  if (!data) return null;

  const handleOptionClick = (option: string) => {
    if (showResult) return; 
    setSelectedOption(option);
    setShowResult(true);
  };

  const isCorrect = selectedOption === data.correct_answer;

  const handleNext = () => {
    setSelectedOption(null);
    setShowResult(false);
    onClose();
  };

  return (
    <Dialog open={isOpen} onOpenChange={(open) => !open && handleNext()}>
      <DialogContent className="sm:max-w-xl bg-white dark:bg-slate-950 max-h-[85vh] overflow-y-auto block">
        <DialogHeader className="mb-4">
          <div className="flex items-center gap-3 mb-4">
            <div className="p-2 bg-indigo-100 dark:bg-indigo-900/50 rounded-full shrink-0">
                <BrainCircuit className="w-6 h-6 text-indigo-600 dark:text-indigo-400" />
            </div>
            <DialogTitle className="text-xl font-bold text-indigo-700 dark:text-indigo-300">
                Évaluation Formative : {data.competence}
            </DialogTitle>
          </div>
          <DialogDescription className="text-lg text-slate-800 dark:text-slate-100 font-medium pt-2 leading-relaxed">
            {data.question}
          </DialogDescription>
        </DialogHeader>

        <div className="flex flex-col gap-3 py-4">
          {data.options.map((option, index) => {
            let styles = "justify-start text-left h-auto py-4 px-4 hover:bg-slate-50 dark:hover:bg-slate-800 dark:border-slate-700 text-base";

            if (showResult) {
                if (option === data.correct_answer) {
                    styles = "justify-start text-left h-auto py-4 px-4 bg-green-50 border-green-500 text-green-900 font-medium hover:bg-green-50 dark:bg-green-900/20 dark:border-green-500 dark:text-green-300 dark:hover:bg-green-900/30";
                } else if (option === selectedOption) {
                    styles = "justify-start text-left h-auto py-4 px-4 bg-red-50 border-red-500 text-red-900 font-medium hover:bg-red-50 dark:bg-red-900/20 dark:border-red-500 dark:text-red-300 dark:hover:bg-red-900/30";
                } else {
                     styles = "justify-start text-left h-auto py-4 px-4 opacity-50 dark:opacity-40";
                }
            }

            return (
              <Button
                key={index}
                variant="outline"
                className={styles}
                onClick={() => handleOptionClick(option)}
                disabled={showResult && option !== data.correct_answer && option !== selectedOption}
              >
                <div className="flex items-center w-full">
                    <span className="bg-slate-100 text-slate-500 dark:bg-slate-800 dark:text-slate-400 w-6 h-6 rounded-full flex items-center justify-center text-xs mr-3 shrink-0 border dark:border-slate-600">
                        {String.fromCharCode(65 + index)}
                    </span>
                    <span className="flex-1 dark:text-slate-200">{option}</span>
                    {showResult && option === data.correct_answer && (
                        <CheckCircle2 className="w-5 h-5 text-green-600 dark:text-green-400 ml-auto" />
                    )}
                    {showResult && option === selectedOption && option !== data.correct_answer && (
                        <XCircle className="w-5 h-5 text-red-600 dark:text-red-400 ml-auto" />
                    )}
                </div>
              </Button>
            );
          })}
        </div>

        {showResult && (
            <div className={cn(
                "p-4 rounded-lg mb-4 text-base",
                isCorrect 
                  ? "bg-green-50 text-green-800 dark:bg-green-900/20 dark:text-green-200 dark:border dark:border-green-500/30" 
                  : "bg-orange-50 text-orange-800 dark:bg-orange-900/20 dark:text-orange-200 dark:border dark:border-orange-500/30"
            )}>
                <p className="font-bold flex items-center gap-2 mb-1">
                    {isCorrect ? "Excellent ! " : "Pas tout à fait..."}
                </p>
                <p>{data.explanation}</p>
            </div>
        )}

        <DialogFooter>
            {showResult && (
                <Button onClick={handleNext} className="w-full sm:w-auto bg-indigo-600 hover:bg-indigo-700 dark:bg-indigo-600 dark:text-white dark:hover:bg-indigo-500 text-base py-6">
                    Continuer la consultation
                </Button>
            )}
        </DialogFooter>
      </DialogContent>
    </Dialog>
  );
}
// END OF FILE: components/evaluation-modal.tsx

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/components/expert/case-editor-form.tsx

"use client";

import { useState } from "react";
import { Input } from "@/components/ui/input";
import { Textarea } from "@/components/ui/textarea";
import { Label } from "@/components/ui/label";
import { Card, CardContent, CardHeader, CardTitle, CardDescription } from "@/components/ui/card";
import {
  Select,
  SelectContent,
  SelectItem,
  SelectTrigger,
  SelectValue,
} from "@/components/ui/select";
import { Badge } from "@/components/ui/badge";
import { FileText, BarChart3, AlignLeft } from "lucide-react";

export type CaseFormData = {
  title: string;
  difficulty: 'Facile' | 'Moyen' | 'Difficile';
  introduction: string;
};

type Props = {
  initialData: CaseFormData;
  onSave: (data: CaseFormData) => void;
};

const difficultyConfig = {
  'Facile': { color: 'bg-green-100 text-green-800', label: 'Facile' },
  'Moyen': { color: 'bg-yellow-100 text-yellow-800', label: 'Moyen' },
  'Difficile': { color: 'bg-red-100 text-red-800', label: 'Difficile' },
};

export const CaseEditorForm = ({ initialData, onSave }: Props) => {
  const [formData, setFormData] = useState<CaseFormData>(initialData);

  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => {
    const { name, value } = e.target;
    const newData = { ...formData, [name]: value };
    setFormData(newData);
    onSave(newData);
  };

  const handleDifficultyChange = (value: string) => {
    const newData = { ...formData, difficulty: value as CaseFormData['difficulty'] };
    setFormData(newData);
    onSave(newData);
  };

  return (
    <Card>
      <CardHeader>
        <div className="flex items-center justify-between">
          <div>
            <CardTitle className="text-xl flex items-center gap-2">
              <FileText className="h-5 w-5" />
              Edition du Cas Clinique
            </CardTitle>
            <CardDescription>
              Modifiez les informations du cas pour les étudiants
            </CardDescription>
          </div>
          <Badge className={difficultyConfig[formData.difficulty].color}>
            {difficultyConfig[formData.difficulty].label}
          </Badge>
        </div>
      </CardHeader>
      <CardContent>
        <form className="space-y-6">
          <div className="space-y-2">
            <Label htmlFor="title" className="flex items-center gap-2">
              <FileText className="h-4 w-4 text-muted-foreground" />
              Titre du cas
            </Label>
            <Input
              id="title"
              name="title"
              value={formData.title}
              onChange={handleChange}
              placeholder="Ex: Fièvre inexpliquée chez un patient de 45 ans..."
              className="text-base"
            />
          </div>

          <div className="space-y-2">
            <Label htmlFor="difficulty" className="flex items-center gap-2">
              <BarChart3 className="h-4 w-4 text-muted-foreground" />
              Niveau de difficulté
            </Label>
            <Select
              value={formData.difficulty}
              onValueChange={handleDifficultyChange}
            >
              <SelectTrigger>
                <SelectValue placeholder="Sélectionner la difficulté" />
              </SelectTrigger>
              <SelectContent>
                <SelectItem value="Facile">
                  <div className="flex items-center gap-2">
                    <div className="h-2 w-2 rounded-full bg-green-500" />
                    Facile
                  </div>
                </SelectItem>
                <SelectItem value="Moyen">
                  <div className="flex items-center gap-2">
                    <div className="h-2 w-2 rounded-full bg-yellow-500" />
                    Moyen
                  </div>
                </SelectItem>
                <SelectItem value="Difficile">
                  <div className="flex items-center gap-2">
                    <div className="h-2 w-2 rounded-full bg-red-500" />
                    Difficile
                  </div>
                </SelectItem>
              </SelectContent>
            </Select>
          </div>

          <div className="space-y-2">
            <Label htmlFor="introduction" className="flex items-center gap-2">
              <AlignLeft className="h-4 w-4 text-muted-foreground" />
              Texte d'introduction
            </Label>
            <Textarea
              id="introduction"
              name="introduction"
              value={formData.introduction}
              onChange={handleChange}
              placeholder="Présentez le contexte clinique du patient, les circonstances de consultation..."
              rows={6}
              className="resize-none"
            />
            <p className="text-xs text-muted-foreground">
              Ce texte sera affiché aux étudiants au début du cas clinique
            </p>
          </div>
        </form>
      </CardContent>
    </Card>
  );
};
// END OF FILE: components/expert/case-editor-form.tsx

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/components/expert/cases-queue-table.tsx

"use client";

import Link from "next/link";
import { Button } from "@/components/ui/button";
import { Card, CardContent, CardHeader, CardTitle, CardDescription } from "@/components/ui/card";
import { Badge } from "@/components/ui/badge";
import { Progress } from "@/components/ui/progress";
import {
  Table,
  TableBody,
  TableCell,
  TableHead,
  TableHeader,
  TableRow,
} from "@/components/ui/table";
import { Eye, Clock, AlertCircle } from "lucide-react";

export type CaseData = {
  id: string;
  title: string;
  date: string;
  aiConfidence: number;
};

type Props = {
  cases: CaseData[];
};

const getConfidenceBadge = (confidence: number) => {
  if (confidence >= 80) {
    return <Badge className="bg-green-100 text-green-800 hover:bg-green-100">Haute</Badge>;
  } else if (confidence >= 50) {
    return <Badge className="bg-yellow-100 text-yellow-800 hover:bg-yellow-100">Moyenne</Badge>;
  }
  return <Badge className="bg-red-100 text-red-800 hover:bg-red-100">Faible</Badge>;
};

export const CasesQueueTable = ({ cases }: Props) => {
  return (
    <Card>
      <CardHeader>
        <div className="flex items-center justify-between">
          <div>
            <CardTitle className="text-xl">File d'attente de validation</CardTitle>
            <CardDescription>
              {cases.length} cas en attente de révision par un expert
            </CardDescription>
          </div>
          {cases.length > 0 && (
            <Badge variant="secondary" className="flex items-center gap-1">
              <AlertCircle className="h-3 w-3" />
              {cases.length} en attente
            </Badge>
          )}
        </div>
      </CardHeader>
      <CardContent>
        {cases.length === 0 ? (
          <div className="flex flex-col items-center justify-center py-12 text-center">
            <div className="rounded-full bg-muted p-4 mb-4">
              <Clock className="h-8 w-8 text-muted-foreground" />
            </div>
            <p className="text-lg font-medium text-muted-foreground">Aucun cas en attente</p>
            <p className="text-sm text-muted-foreground mt-1">
              Les nouveaux cas apparaîtront ici automatiquement
            </p>
          </div>
        ) : (
          <Table>
            <TableHeader>
              <TableRow>
                <TableHead>Titre du Cas</TableHead>
                <TableHead>Date de Soumission</TableHead>
                <TableHead>Confiance IA</TableHead>
                <TableHead className="text-right">Actions</TableHead>
              </TableRow>
            </TableHeader>
            <TableBody>
              {cases.map((caseItem) => (
                <TableRow key={caseItem.id} className="group">
                  <TableCell>
                    <p className="font-medium">{caseItem.title}</p>
                    <p className="text-xs text-muted-foreground">ID: {caseItem.id}</p>
                  </TableCell>
                  <TableCell>
                    <div className="flex items-center gap-2">
                      <Clock className="h-4 w-4 text-muted-foreground" />
                      {new Date(caseItem.date).toLocaleDateString('fr-FR', {
                        day: 'numeric',
                        month: 'short',
                        year: 'numeric'
                      })}
                    </div>
                  </TableCell>
                  <TableCell>
                    <div className="space-y-2 min-w-[120px]">
                      <div className="flex items-center justify-between">
                        {getConfidenceBadge(caseItem.aiConfidence)}
                        <span className="text-sm font-medium">{caseItem.aiConfidence}%</span>
                      </div>
                      <Progress value={caseItem.aiConfidence} className="h-2" />
                    </div>
                  </TableCell>
                  <TableCell className="text-right">
                    <Link href={`/expert/editor/${caseItem.id}`}>
                      <Button variant="outline" size="sm" className="gap-2">
                        <Eye className="h-4 w-4" />
                        Vérifier
                      </Button>
                    </Link>
                  </TableCell>
                </TableRow>
              ))}
            </TableBody>
          </Table>
        )}
      </CardContent>
    </Card>
  );
};
// END OF FILE: components/expert/cases-queue-table.tsx

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/components/expert/clinical-cases-table.tsx

"use client";

import { useState, useMemo } from "react";
import { Button } from "@/components/ui/button";
import { Badge } from "@/components/ui/badge";
import { Input } from "@/components/ui/input";
import {
  Table,
  TableBody,
  TableCell,
  TableHead,
  TableHeader,
  TableRow,
} from "@/components/ui/table";
import {
  Select,
  SelectContent,
  SelectItem,
  SelectTrigger,
  SelectValue,
} from "@/components/ui/select";
import { Search, SlidersHorizontal } from "lucide-react";
import { type ExpertCaseData, type CaseStatus } from "@/lib/api";

type Props = {
  cases: ExpertCaseData[];
  onReview: (caseId: string) => void;
  onViewDetails: (caseId: string) => void;
};

const getStatusBadge = (status: CaseStatus) => {
  switch (status) {
    case "attente":
      return (
        <Badge className="bg-orange-100 text-orange-600 hover:bg-orange-100 border-0 font-medium">
          ⭐ En attente
        </Badge>
      );
    case "validé":
      return (
        <Badge className="bg-green-100 text-green-600 hover:bg-green-100 border-0 font-medium">
          ✓ Validé
        </Badge>
      );
    case "rejeté":
      return (
        <Badge className="bg-red-100 text-red-600 hover:bg-red-100 border-0 font-medium">
          ✕ Rejeté
        </Badge>
      );
  }
};

export const ClinicalCasesTable = ({ cases, onReview, onViewDetails }: Props) => {
  const [searchQuery, setSearchQuery] = useState("");
  const [ageFilter, setAgeFilter] = useState<string>("all");
  const [genderFilter, setGenderFilter] = useState<string>("all");
  const [domainFilter, setDomainFilter] = useState<string>("all");
  const [statusFilter, setStatusFilter] = useState<string>("all");
  const [difficultyFilter, setDifficultyFilter] = useState<string>("all");
  const [currentPage, setCurrentPage] = useState(1);
  const itemsPerPage = 7;

  const uniqueDomains = useMemo(() => {
    const domains = new Set(cases.map(c => c.domain));
    return Array.from(domains).sort();
  }, [cases]);

  const filteredCases = useMemo(() => {
    return cases.filter(caseItem => {
      const matchesSearch = 
        searchQuery === "" ||
        caseItem.id.toLowerCase().includes(searchQuery.toLowerCase()) ||
        caseItem.domain.toLowerCase().includes(searchQuery.toLowerCase());

      const matchesAge = 
        ageFilter === "all" ||
        (ageFilter === "0-18" && caseItem.patientAge <= 18) ||
        (ageFilter === "19-40" && caseItem.patientAge >= 19 && caseItem.patientAge <= 40) ||
        (ageFilter === "41-60" && caseItem.patientAge >= 41 && caseItem.patientAge <= 60) ||
        (ageFilter === "61+" && caseItem.patientAge >= 61);

      const matchesGender = 
        genderFilter === "all" ||
        caseItem.gender.toLowerCase() === genderFilter.toLowerCase();

      const matchesDomain = 
        domainFilter === "all" ||
        caseItem.domain === domainFilter;

      const matchesStatus =
        statusFilter === "all" ||
        caseItem.status === statusFilter;

      const matchesDifficulty =
        difficultyFilter === "all" ||
        caseItem.difficulty === difficultyFilter;

      return matchesSearch && matchesAge && matchesGender && matchesDomain && matchesStatus && matchesDifficulty;
    });
  }, [cases, searchQuery, ageFilter, genderFilter, domainFilter, statusFilter, difficultyFilter]);

  const totalPages = Math.ceil(filteredCases.length / itemsPerPage);
  const paginatedCases = filteredCases.slice(
    (currentPage - 1) * itemsPerPage,
    currentPage * itemsPerPage
  );

  const handleReset = () => {
    setSearchQuery("");
    setAgeFilter("all");
    setGenderFilter("all");
    setDomainFilter("all");
    setStatusFilter("all");
    setDifficultyFilter("all");
    setCurrentPage(1);
  };

  return (
    <div className="space-y-4">
      <div className="flex flex-col gap-4 bg-white p-5 rounded-xl shadow-[0_2px_15px_rgb(0,0,0,0.08)]">
        <div className="relative">
          <Search className="absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400" />
          <Input
            placeholder="Rechercher par ID de cas, maladie ou mots-clés"
            value={searchQuery}
            onChange={(e) => setSearchQuery(e.target.value)}
            className="pl-10 border-0 bg-gray-50 focus:bg-white focus:ring-2 focus:ring-blue-500/20 rounded-lg shadow-sm transition-all"
          />
        </div>

        <div className="flex flex-wrap items-center gap-3">
          <div className="flex items-center gap-2">
            <SlidersHorizontal className="h-4 w-4 text-gray-500" />
            <span className="text-sm font-medium text-gray-700">Filtres:</span>
          </div>

          <Select value={ageFilter} onValueChange={setAgeFilter}>
            <SelectTrigger className="w-[140px]">
              <SelectValue placeholder="Tous les âges" />
            </SelectTrigger>
            <SelectContent className="z-50">
              <SelectItem value="all">Tous les âges</SelectItem>
              <SelectItem value="0-18">0-18</SelectItem>
              <SelectItem value="19-40">19-40</SelectItem>
              <SelectItem value="41-60">41-60</SelectItem>
              <SelectItem value="61+">61+</SelectItem>
            </SelectContent>
          </Select>

          <Select value={genderFilter} onValueChange={setGenderFilter}>
            <SelectTrigger className="w-[120px]">
              <SelectValue placeholder="Sexe" />
            </SelectTrigger>
            <SelectContent className="z-50">
              <SelectItem value="all">Sexe: Tous</SelectItem>
              <SelectItem value="male">Homme</SelectItem>
              <SelectItem value="female">Femme</SelectItem>
            </SelectContent>
          </Select>

          <Select value={domainFilter} onValueChange={setDomainFilter}>
            <SelectTrigger className="w-[160px]">
              <SelectValue placeholder="Tous les domaines" />
            </SelectTrigger>
            <SelectContent className="z-50">
              <SelectItem value="all">Tous les domaines</SelectItem>
              {uniqueDomains.map(domain => (
                <SelectItem key={domain} value={domain}>
                  {domain}
                </SelectItem>
              ))}
            </SelectContent>
          </Select>

          <Select value={statusFilter} onValueChange={setStatusFilter}>
            <SelectTrigger className="w-[140px]">
              <SelectValue placeholder="Statut" />
            </SelectTrigger>
            <SelectContent className="z-50">
              <SelectItem value="all">Tous les statuts</SelectItem>
              <SelectItem value="attente">En attente</SelectItem>
              <SelectItem value="validé">Validé</SelectItem>
              <SelectItem value="rejeté">Rejeté</SelectItem>
            </SelectContent>
          </Select>

          <Select value={difficultyFilter} onValueChange={setDifficultyFilter}>
            <SelectTrigger className="w-[140px]">
              <SelectValue placeholder="Difficulté" />
            </SelectTrigger>
            <SelectContent className="z-50">
              <SelectItem value="all">Toutes difficultés</SelectItem>
              <SelectItem value="Débutant">Débutant</SelectItem>
              <SelectItem value="Intermédiaire">Intermédiaire</SelectItem>
              <SelectItem value="Avancé">Avancé</SelectItem>
              <SelectItem value="Expert">Expert</SelectItem>
            </SelectContent>
          </Select>

          <Button 
            variant="ghost" 
            size="sm" 
            onClick={handleReset}
            className="text-blue-600 hover:text-blue-700 hover:bg-blue-50"
          >
            Réinitialiser
          </Button>
        </div>
      </div>

      <div className="bg-white rounded-xl shadow-[0_2px_15px_rgb(0,0,0,0.08)] overflow-hidden">
        <Table>
          <TableHeader>
            <TableRow className="bg-gray-50 hover:bg-gray-50">
              <TableHead className="font-semibold text-gray-700 text-xs uppercase tracking-wide">ID DU CAS</TableHead>
              <TableHead className="font-semibold text-gray-700 text-xs uppercase tracking-wide">ÂGE PATIENT</TableHead>
              <TableHead className="font-semibold text-gray-700 text-xs uppercase tracking-wide">SEXE</TableHead>
              <TableHead className="font-semibold text-gray-700 text-xs uppercase tracking-wide">DOMAINE MALADIE</TableHead>
              <TableHead className="font-semibold text-gray-700 text-xs uppercase tracking-wide">DATE EXTRACTION</TableHead>
              <TableHead className="font-semibold text-gray-700 text-xs uppercase tracking-wide">STATUT</TableHead>
              <TableHead className="font-semibold text-gray-700 text-xs uppercase tracking-wide text-right">ACTION</TableHead>
            </TableRow>
          </TableHeader>
          <TableBody>
            {paginatedCases.length === 0 ? (
              <TableRow>
                <TableCell colSpan={7} className="text-center py-12 text-gray-500">
                  Aucun cas trouvé avec les filtres actuels
                </TableCell>
              </TableRow>
            ) : (
              paginatedCases.map((caseItem) => (
                <TableRow key={caseItem.id} className="hover:bg-gray-50 border-b border-gray-100">
                  <TableCell className="font-medium text-gray-900">
                    #{caseItem.id}
                  </TableCell>
                  <TableCell className="text-gray-700">{caseItem.patientAge}</TableCell>
                  <TableCell className="text-gray-700">
                    {caseItem.gender === "Male" ? "Homme" : "Femme"}
                  </TableCell>
                  <TableCell className="text-gray-700">{caseItem.domain}</TableCell>
                  <TableCell className="text-gray-700">
                    {new Date(caseItem.extractionDate).toLocaleDateString('fr-FR', {
                      day: 'numeric',
                      month: 'short',
                      year: 'numeric'
                    })}
                  </TableCell>
                  <TableCell>{getStatusBadge(caseItem.status)}</TableCell>
                  <TableCell className="text-right">
                    {caseItem.status === "attente" ? (
                      <Button 
                        size="sm" 
                        onClick={() => onReview(caseItem.id)}
                        className="bg-blue-600 hover:bg-blue-700 text-white border-0"
                      >
                        Examiner
                      </Button>
                    ) : (
                      <Button 
                        size="sm" 
                        variant="ghost"
                        onClick={() => onViewDetails(caseItem.id)}
                        className="text-gray-700 hover:bg-gray-100"
                      >
                        Voir détails
                      </Button>
                    )}
                  </TableCell>
                </TableRow>
              ))
            )}
          </TableBody>
        </Table>
      </div>

      <div className="bg-white rounded-xl shadow-[0_2px_15px_rgb(0,0,0,0.08)] px-6 py-4 mt-4">
        <div className="flex items-center justify-between">
          <p className="text-sm font-medium text-gray-700">
            Affichage de <span className="font-semibold text-gray-900">{((currentPage - 1) * itemsPerPage) + 1}-{Math.min(currentPage * itemsPerPage, filteredCases.length)}</span> sur <span className="font-semibold text-gray-900">{filteredCases.length}</span> cas
          </p>
          <div className="flex items-center gap-2">
            {/* Bouton Précédent */}
            <Button
              variant="ghost"
              size="sm"
              onClick={() => setCurrentPage(currentPage - 1)}
              disabled={currentPage === 1}
              className="text-gray-700 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed h-9 px-3"
            >
              <svg className="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M15 19l-7-7 7-7" />
              </svg>
              Précédent
            </Button>

            {/* Numéros de page */}
            <div className="flex items-center gap-1">
              {Array.from({ length: totalPages }, (_, i) => i + 1).map(page => (
                <Button
                  key={page}
                  variant={currentPage === page ? "default" : "ghost"}
                  size="sm"
                  onClick={() => setCurrentPage(page)}
                  className={currentPage === page 
                    ? "bg-blue-600 hover:bg-blue-700 text-white min-w-[36px] h-9" 
                    : "text-gray-700 hover:bg-gray-100 min-w-[36px] h-9"
                  }
                >
                  {page}
                </Button>
              ))}
            </div>

            {/* Bouton Suivant */}
            <Button
              variant="ghost"
              size="sm"
              onClick={() => setCurrentPage(currentPage + 1)}
              disabled={currentPage === totalPages}
              className="text-gray-700 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed h-9 px-3"
            >
              Suivant
              <svg className="w-4 h-4 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 5l7 7-7 7" />
              </svg>
            </Button>
          </div>
        </div>
      </div>
    </div>
  );
};
// END OF FILE: components/expert/clinical-cases-table.tsx

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/components/expert/dashboard-stat-card.tsx

"use client";

import { type LucideIcon } from "lucide-react";
import { Card, CardContent } from "@/components/ui/card";
import { ArrowUpRight } from "lucide-react";

type Props = {
  title: string;
  value: string | number;
  icon: LucideIcon;
  iconColor: string;
  iconBgColor: string;
  trend?: {
    value: number;
    period: string;
  };
};

export const DashboardStatCard = ({ title, value, icon: Icon, iconColor, iconBgColor, trend }: Props) => {
  return (
    <Card className="overflow-hidden border-0 shadow-[0_2px_15px_rgb(0,0,0,0.08)] rounded-xl hover:shadow-[0_4px_20px_rgb(0,0,0,0.12)] transition-shadow">
      <CardContent className="p-6">
        <div className="flex items-start justify-between">
          <div className="space-y-2 flex-1">
            <p className="text-sm font-medium text-gray-600">{title}</p>
            <p className="text-3xl font-bold tracking-tight text-gray-900">{value}</p>
            {trend && (
              <div className="flex items-center gap-1 text-xs font-medium text-green-600">
                <ArrowUpRight className="h-3 w-3" />
                <span>+{trend.value}% {trend.period}</span>
              </div>
            )}
          </div>
          <div className={`rounded-xl p-3 ${iconBgColor}`}>
            <Icon className={`h-6 w-6 ${iconColor}`} />
          </div>
        </div>
      </CardContent>
    </Card>
  );
};
// END OF FILE: components/expert/dashboard-stat-card.tsx

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/components/expert/expert-onboarding.tsx

"use client";

import { useState, useEffect } from "react";
import { motion, AnimatePresence } from "framer-motion";
import { Button } from "@/components/ui/button";
import { 
  Rocket, 
  ChevronRight, 
  LayoutDashboard, 
  Library, 
  Check,
  Stethoscope,
  ArrowRight
} from "lucide-react";

const steps = [
  {
    title: "Bienvenue, Docteur",
    description: "Votre espace de validation clinique est prêt. Ensemble, améliorons la précision du diagnostic par l'IA.",
    icon: <Rocket className="w-8 h-8 text-blue-500" />,
    color: "from-blue-500 to-indigo-600",
    image: "👨‍⚕️"
  },
  {
    title: "Gestion des Cas",
    description: "C'est ici que vous examinez les cas de votre spécialité. Validez les données ou rejetez-les avec précision.",
    icon: <LayoutDashboard className="w-8 h-8 text-emerald-500" />,
    color: "from-emerald-400 to-teal-600",
    image: "📋"
  },
  {
    title: "Bibliothèque Globale",
    description: "Accédez à l'intégralité du dataset FultangMed. Filtrez par âge ou symptômes et exportez les données en un clic.",
    icon: <Library className="w-8 h-8 text-amber-500" />,
    color: "from-amber-400 to-orange-500",
    image: "📂"
  }
];

export function ExpertOnboarding() {
  const [currentStep, setCurrentStep] = useState(0);
  const [isVisible, setIsVisible] = useState(false);

  useEffect(() => {
    const hasSeen = localStorage.getItem("expert_onboarding_v2");
    if (!hasSeen) setIsVisible(true);
  }, []);

  const next = () => {
    if (currentStep < steps.length - 1) setCurrentStep(currentStep + 1);
    else finish();
  };

  const finish = () => {
    localStorage.setItem("expert_onboarding_v2", "true");
    setIsVisible(false);
  };

  if (!isVisible) return null;

  return (
    <div className="fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-md">
      <motion.div 
        initial={{ scale: 0.9, opacity: 0 }}
        animate={{ scale: 1, opacity: 1 }}
        className="bg-white rounded-[32px] shadow-2xl overflow-hidden max-w-lg w-full relative"
      >
        {/* Barre de progression colorée */}
        <div className="absolute top-0 left-0 right-0 h-1.5 flex">
          {steps.map((_, i) => (
            <div 
              key={i} 
              className={`flex-1 transition-all duration-500 ${i <= currentStep ? `bg-gradient-to-r ${steps[i].color}` : 'bg-slate-100'}`}
            />
          ))}
        </div>

        <div className="p-8 pt-12">
          <AnimatePresence mode="wait">
            <motion.div
              key={currentStep}
              initial={{ x: 20, opacity: 0 }}
              animate={{ x: 0, opacity: 1 }}
              exit={{ x: -20, opacity: 0 }}
              transition={{ duration: 0.3 }}
              className="space-y-6 text-center"
            >
              {/* Illustration / Icone */}
              <div className="relative inline-block">
                <div className={`w-24 h-24 rounded-3xl bg-gradient-to-br ${steps[currentStep].color} opacity-10 absolute inset-0 blur-xl`} />
                <div className={`w-20 h-20 rounded-3xl bg-gradient-to-br ${steps[currentStep].color} flex items-center justify-center text-white shadow-lg mx-auto relative`}>
                  {steps[currentStep].icon}
                </div>
                <div className="absolute -bottom-2 -right-2 text-4xl leading-none">
                    {steps[currentStep].image}
                </div>
              </div>

              {/* Texte */}
              <div className="space-y-2">
                <h2 className="text-3xl font-extrabold text-slate-900 tracking-tight">
                  {steps[currentStep].title}
                </h2>
                <p className="text-slate-500 text-lg leading-relaxed">
                  {steps[currentStep].description}
                </p>
              </div>
            </motion.div>
          </AnimatePresence>

          {/* Navigation */}
          <div className="mt-12 flex flex-col gap-3">
            <Button 
              onClick={next}
              className={`h-14 rounded-2xl text-lg font-bold shadow-lg transition-all active:scale-95 bg-gradient-to-r ${steps[currentStep].color} hover:opacity-90 text-white`}
            >
              {currentStep === steps.length - 1 ? "Commencer l'expérience" : "Continuer"}
              <ArrowRight className="ml-2 w-5 h-5" />
            </Button>
            
            {currentStep < steps.length - 1 && (
              <button 
                onClick={finish}
                className="text-slate-400 text-sm font-medium hover:text-slate-600 transition-colors py-2"
              >
                Passer l'introduction
              </button>
            )}
          </div>
        </div>

        {/* Footer info */}
        <div className="bg-slate-50 p-4 border-t border-slate-100 flex justify-center gap-6">
            <div className="flex items-center gap-2 text-[10px] font-bold text-slate-400 uppercase tracking-widest">
                <Stethoscope className="w-3 h-3" /> Protocole Médical STI
            </div>
            <div className="flex items-center gap-2 text-[10px] font-bold text-slate-400 uppercase tracking-widest">
                <Check className="w-3 h-3" /> Certifié Fultang
            </div>
        </div>
      </motion.div>
    </div>
  );
}// END OF FILE: components/expert/expert-onboarding.tsx

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/components/expert/expert-tour.tsx

"use client";

import { useEffect } from "react";
import { driver } from "driver.js";
//import "driver.js/dist/driver.css";

export function ExpertTour() {
  useEffect(() => {
    const hasSeenTour = localStorage.getItem("expert_tour_v5_completed");
    if (hasSeenTour) return;

    const driverObj = driver({
      showProgress: true,
      animate: true,
      // --- STYLE PERSONNALISÉ ---
      popoverClass: "fultang-tour-popover", 
      nextBtnText: "Suivant —",
      prevBtnText: "Retour",
      doneBtnText: "Terminer",
      steps: [
        { 
          popover: { 
            title: "👋 Bienvenue Docteur !", 
            description: "FultangMed est conçu pour simplifier votre expertise. Suivez ce guide pour découvrir vos outils.",
          } 
        },
        { 
          element: "#tour-gestion", 
          popover: { 
            title: "📋 Gestion des Cas", 
            description: "Examinez les cas de votre spécialité. Validez-les pour les publier ou rejetez-les avec un rapport détaillé.",
            side: "right",
          } 
        },
        { 
          element: "#tour-download", 
          popover: { 
            title: "📂 Bibliothèque Globale", 
            description: "Accédez à l'intégralité du dataset. Exportez les données en JSON ou CSV pour vos analyses externes.",
            side: "right",
          } 
        },
        { 
          element: ".grid", 
          popover: { 
            title: "📊 Votre Activité", 
            description: "Suivez vos statistiques et l'état d'avancement des validations cliniques en un coup d'œil.",
            side: "bottom",
          } 
        },
      ],
      onDestroyed: () => {
        localStorage.setItem("expert_tour_v5_completed", "true");
      }
    });

    setTimeout(() => driverObj.drive(), 1000);
  }, []);

  return null;
}// END OF FILE: components/expert/expert-tour.tsx

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/components/expert/raw-data-viewer.tsx

"use client";

import { Card, CardContent, CardHeader, CardTitle } from "@/components/ui/card";
import { ScrollArea } from "@/components/ui/scroll-area";
import { Badge } from "@/components/ui/badge";
import { Database, Copy, Check } from "lucide-react";
import { Button } from "@/components/ui/button";
import { useState } from "react";

type Props = {
  data: object;
};

export const RawDataViewer = ({ data }: Props) => {
  const [copied, setCopied] = useState(false);

  const handleCopy = () => {
    navigator.clipboard.writeText(JSON.stringify(data, null, 2));
    setCopied(true);
    setTimeout(() => setCopied(false), 2000);
  };

  return (
    <Card className="h-full bg-slate-900 border-slate-800">
      <CardHeader className="pb-3">
        <div className="flex items-center justify-between">
          <div className="flex items-center gap-2">
            <Database className="h-5 w-5 text-slate-400" />
            <CardTitle className="text-lg text-slate-200">Données Brutes</CardTitle>
          </div>
          <div className="flex items-center gap-2">
            <Badge variant="outline" className="text-slate-400 border-slate-600">
              JSON
            </Badge>
            <Button
              variant="ghost"
              size="sm"
              onClick={handleCopy}
              className="text-slate-400 hover:text-slate-200 hover:bg-slate-800"
            >
              {copied ? (
                <Check className="h-4 w-4 text-green-500" />
              ) : (
                <Copy className="h-4 w-4" />
              )}
            </Button>
          </div>
        </div>
      </CardHeader>
      <CardContent className="pt-0">
        <ScrollArea className="h-[500px] rounded-md border border-slate-700 bg-slate-950 p-4">
          <pre className="text-sm text-green-400 font-mono whitespace-pre-wrap">
            {JSON.stringify(data, null, 2)}
          </pre>
        </ScrollArea>
      </CardContent>
    </Card>
  );
};
// END OF FILE: components/expert/raw-data-viewer.tsx

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/components/expert-sidebar.tsx

"use client";

import { cn } from "@/lib/utils";
import Link from "next/link";
import { usePathname } from "next/navigation";
import { useAuth } from "@/hooks/useAuth";
import { 
  LayoutDashboard, 
  Clock, 
  CheckCircle, 
  Settings,
  LogOut,
  Library,
} from "lucide-react";
import { Avatar, AvatarFallback } from "@/components/ui/avatar";

type Props = {
  className?: string;
};

const menuItems = [
  { label: "Gestion des Cas", href: "/expert/dashboard", icon: LayoutDashboard },
  { label: "Cas en attente", href: "/expert/pending", icon: Clock },
  { label: "Cas Validés", href: "/expert/validated", icon: CheckCircle },
  { label: "Téléchargement des cas", href: "/expert/library", icon: Library },
  { label: "Paramètres", href: "/expert/settings", icon: Settings },
];

export const ExpertSidebar = ({ className }: Props) => {
  const pathname = usePathname();
  const { user, logout } = useAuth();

  return (
    <div className={cn(
      "flex h-full w-64 fixed left-0 top-0 flex-col bg-white border-r border-gray-200 shadow-sm",
      className,
    )}>
      {/* Logo */}
      <div className="px-6 py-6">
        <Link href="/expert/dashboard" className="flex items-center gap-2">
          <div className="w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center shadow-md shadow-blue-200">
            <span className="text-white font-bold text-lg">F</span>
          </div>
          <span className="text-xl font-bold text-slate-900 tracking-tight">FultangMed</span>
        </Link>
      </div>

      {/* Profil de l'Expert */}
      <div className="px-4 py-4 mb-4 mx-2 bg-slate-50 rounded-xl border border-slate-100">
        <div className="flex items-center gap-3">
          <Avatar className="h-10 w-10 border-2 border-white shadow-sm">
            <AvatarFallback className="bg-blue-600 text-white font-bold">
              {user?.nom?.charAt(0) || "E"}
            </AvatarFallback>
          </Avatar>
          <div className="flex-1 min-w-0">
            <p className="text-sm font-bold text-slate-900 truncate">
              {user?.nom || "Expert Médical"}
            </p>
            <p className="text-[10px] uppercase font-bold text-blue-600 tracking-wider">
               Expert Responsable
            </p>
          </div>
        </div>
      </div>

      {/* Navigation Menu */}
      <nav className="flex-1 px-3 space-y-1">
        <p className="px-3 text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-2">Menu Principal</p>
        {menuItems.map((item, index) => {
          const isActive = pathname === item.href || pathname?.startsWith(item.href + "/");
          const Icon = item.icon;
          
          return (
            <Link
              key={`${item.label}-${index}`}
              href={item.href}
              // --- AJOUT DE L'ID ICI POUR LA VISITE GUIDÉE ---
              id={
                item.label === "Gestion des Cas" 
                  ? "tour-gestion" 
                  : item.label === "Téléchargement des cas" 
                    ? "tour-download" 
                    : undefined
              }
              // ----------------------------------------------
              className={cn(
                "flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 relative group",
                isActive 
                  ? "bg-blue-600 text-white shadow-md shadow-blue-100" 
                  : "text-slate-600 hover:bg-slate-50 hover:text-blue-600"
              )}
            >
              <Icon className={cn(
                "h-5 w-5",
                isActive ? "text-white" : "text-slate-400 group-hover:text-blue-600"
              )} />
              <span className="flex-1">{item.label}</span>
            </Link>
          );
        })}
      </nav>

      {/* Logout */}
      <div className="p-4 border-t border-slate-100">
        <button
          onClick={logout}
          className="flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium text-slate-600 hover:bg-red-50 hover:text-red-600 w-full transition-all duration-200 group"
        >
          <LogOut className="h-5 w-5 text-slate-400 group-hover:text-red-600" />
          <span>Déconnexion</span>
        </button>
      </div>
    </div>
  );
};// END OF FILE: components/expert-sidebar.tsx

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/components/expert/stat-card.tsx

"use client";

import { type LucideIcon } from "lucide-react";
import { Card, CardContent } from "@/components/ui/card";

type Props = {
  title: string;
  value: string | number;
  icon: LucideIcon;
  trend?: {
    value: number;
    isPositive: boolean;
  };
};

export const StatCard = ({ title, value, icon: Icon, trend }: Props) => {
  return (
    <Card className="overflow-hidden">
      <CardContent className="p-6">
        <div className="flex items-center justify-between">
          <div className="space-y-1">
            <p className="text-sm font-medium text-muted-foreground">{title}</p>
            <p className="text-3xl font-bold tracking-tight">{value}</p>
            {trend && (
              <p className={`text-xs font-medium ${trend.isPositive ? 'text-green-600' : 'text-red-600'}`}>
                {trend.isPositive ? '+' : ''}{trend.value}% depuis le mois dernier
              </p>
            )}
          </div>
          <div className="rounded-full bg-primary/10 p-3">
            <Icon className="h-6 w-6 text-primary" />
          </div>
        </div>
      </CardContent>
    </Card>
  );
};
// END OF FILE: components/expert/stat-card.tsx

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/components/expert/validation-actions.tsx

"use client";

import { useState } from "react";
import { Button } from "@/components/ui/button";
import { Card, CardContent } from "@/components/ui/card";
import { Separator } from "@/components/ui/separator";
import { Input } from "@/components/ui/input";
import { Textarea } from "@/components/ui/textarea";
import { Label } from "@/components/ui/label";
import {
  AlertDialog,
  AlertDialogAction,
  AlertDialogCancel,
  AlertDialogContent,
  AlertDialogDescription,
  AlertDialogFooter,
  AlertDialogHeader,
  AlertDialogTitle,
  AlertDialogTrigger,
} from "@/components/ui/alert-dialog";
import {
  Dialog,
  DialogContent,
  DialogDescription,
  DialogFooter,
  DialogHeader,
  DialogTitle,
  DialogTrigger,
} from "@/components/ui/dialog";
import { Trash2, Save, Send, AlertTriangle, CheckCircle2, Clock, Loader2 } from "lucide-react";

// Parties du cas clinique qui peuvent être concernées par un rejet
const PARTIES_CAS = [
  "Données personnelles",
  "Mode de vie",
  "Antécédents médicaux",
  "Symptômes",
  "Diagnostic physique",
  "Examens complémentaires",
  "Traitement",
  "Diagnostic final",
];

type Props = {
  onReject: (raison: string, partiesConcernees: string[], emailNotification: string) => void;
  onSaveDraft: () => void;
  onPublish: () => void;
  onSetEnCours: () => void;
  isLoading?: boolean;
};

export const ValidationActions = ({
  onReject,
  onSaveDraft,
  onPublish,
  onSetEnCours,
  isLoading = false
}: Props) => {
  const [rejectDialogOpen, setRejectDialogOpen] = useState(false);
  const [rejectRaison, setRejectRaison] = useState("");
  const [rejectEmail, setRejectEmail] = useState("");
  const [selectedParties, setSelectedParties] = useState<string[]>([]);

  const handleRejectSubmit = () => {
    if (!rejectRaison.trim()) {
      alert("Veuillez indiquer la raison du rejet");
      return;
    }
    onReject(rejectRaison, selectedParties, rejectEmail);
    setRejectDialogOpen(false);
    // Reset form
    setRejectRaison("");
    setRejectEmail("");
    setSelectedParties([]);
  };

  const togglePartie = (partie: string) => {
    setSelectedParties(prev =>
      prev.includes(partie)
        ? prev.filter(p => p !== partie)
        : [...prev, partie]
    );
  };

  return (
    <Card className="mt-6 border-t-4 border-t-primary">
      <CardContent className="p-4">
        <div className="flex flex-col sm:flex-row items-center justify-between gap-4">
          <div className="flex items-center gap-2 text-sm text-muted-foreground">
            <CheckCircle2 className="h-4 w-4" />
            <span>Toutes les modifications sont sauvegardées automatiquement</span>
          </div>

          <div className="flex items-center gap-3 flex-wrap">
            {/* Bouton Rejeter avec formulaire détaillé */}
            <Dialog open={rejectDialogOpen} onOpenChange={setRejectDialogOpen}>
              <DialogTrigger asChild>
                <Button variant="destructive" className="gap-2" disabled={isLoading}>
                  <Trash2 className="h-4 w-4" />
                  Rejeter
                </Button>
              </DialogTrigger>
              <DialogContent className="sm:max-w-[500px]">
                <DialogHeader>
                  <DialogTitle className="flex items-center gap-2">
                    <AlertTriangle className="h-5 w-5 text-destructive" />
                    Formulaire de rejet
                  </DialogTitle>
                  <DialogDescription>
                    Veuillez remplir ce formulaire pour rejeter le cas clinique.
                    Un email sera envoyé à l'adresse indiquée.
                  </DialogDescription>
                </DialogHeader>

                <div className="space-y-4 py-4">
                  {/* Raison du rejet (obligatoire) */}
                  <div className="space-y-2">
                    <Label htmlFor="raison">Raison du rejet *</Label>
                    <Textarea
                      id="raison"
                      placeholder="Décrivez la raison du rejet..."
                      value={rejectRaison}
                      onChange={(e) => setRejectRaison(e.target.value)}
                      rows={3}
                    />
                  </div>

                  {/* Parties concernées */}
                  <div className="space-y-2">
                    <Label>Parties concernées</Label>
                    <div className="grid grid-cols-2 gap-2">
                      {PARTIES_CAS.map((partie) => (
                        <label
                          key={partie}
                          className={`flex items-center gap-2 p-2 rounded border cursor-pointer transition-colors ${
                            selectedParties.includes(partie)
                              ? "bg-destructive/10 border-destructive"
                              : "hover:bg-muted"
                          }`}
                        >
                          <input
                            type="checkbox"
                            checked={selectedParties.includes(partie)}
                            onChange={() => togglePartie(partie)}
                            className="rounded"
                          />
                          <span className="text-sm">{partie}</span>
                        </label>
                      ))}
                    </div>
                  </div>

                  {/* Email de notification */}
                  <div className="space-y-2">
                    <Label htmlFor="email">Email de notification (Fultang)</Label>
                    <Input
                      id="email"
                      type="email"
                      placeholder="email@fultang.com"
                      value={rejectEmail}
                      onChange={(e) => setRejectEmail(e.target.value)}
                    />
                    <p className="text-xs text-muted-foreground">
                      Un email de notification sera envoyé à cette adresse
                    </p>
                  </div>
                </div>

                <DialogFooter>
                  <Button variant="outline" onClick={() => setRejectDialogOpen(false)}>
                    Annuler
                  </Button>
                  <Button
                    variant="destructive"
                    onClick={handleRejectSubmit}
                    disabled={!rejectRaison.trim() || isLoading}
                  >
                    {isLoading ? (
                      <Loader2 className="h-4 w-4 animate-spin mr-2" />
                    ) : null}
                    Confirmer le rejet
                  </Button>
                </DialogFooter>
              </DialogContent>
            </Dialog>

            <Separator orientation="vertical" className="h-8" />

            {/* Bouton En Cours */}
            <AlertDialog>
              <AlertDialogTrigger asChild>
                <Button variant="outline" className="gap-2 border-amber-500 text-amber-600 hover:bg-amber-50" disabled={isLoading}>
                  <Clock className="h-4 w-4" />
                  En cours
                </Button>
              </AlertDialogTrigger>
              <AlertDialogContent>
                <AlertDialogHeader>
                  <AlertDialogTitle className="flex items-center gap-2">
                    <Clock className="h-5 w-5 text-amber-500" />
                    Mettre en cours
                  </AlertDialogTitle>
                  <AlertDialogDescription>
                    Ce cas sera marqué comme "en cours de traitement".
                    Vous pourrez continuer à le réviser avant de le valider ou le rejeter.
                  </AlertDialogDescription>
                </AlertDialogHeader>
                <AlertDialogFooter>
                  <AlertDialogCancel>Annuler</AlertDialogCancel>
                  <AlertDialogAction
                    onClick={onSetEnCours}
                    className="bg-amber-500 hover:bg-amber-600"
                  >
                    Mettre en cours
                  </AlertDialogAction>
                </AlertDialogFooter>
              </AlertDialogContent>
            </AlertDialog>

            {/* Bouton Sauvegarder */}
            <Button variant="outline" onClick={onSaveDraft} className="gap-2" disabled={isLoading}>
              <Save className="h-4 w-4" />
              Sauvegarder
            </Button>

            {/* Bouton Publier */}
            <AlertDialog>
              <AlertDialogTrigger asChild>
                <Button className="gap-2 bg-green-600 hover:bg-green-700" disabled={isLoading}>
                  <Send className="h-4 w-4" />
                  Valider
                </Button>
              </AlertDialogTrigger>
              <AlertDialogContent>
                <AlertDialogHeader>
                  <AlertDialogTitle className="flex items-center gap-2">
                    <CheckCircle2 className="h-5 w-5 text-green-600" />
                    Confirmer la validation
                  </AlertDialogTitle>
                  <AlertDialogDescription>
                    Êtes-vous sûr de vouloir valider et publier ce cas clinique ?
                    Il sera visible par tous les étudiants de la plateforme.
                  </AlertDialogDescription>
                </AlertDialogHeader>
                <AlertDialogFooter>
                  <AlertDialogCancel>Annuler</AlertDialogCancel>
                  <AlertDialogAction
                    onClick={onPublish}
                    className="bg-green-600 hover:bg-green-700"
                  >
                    Valider et publier
                  </AlertDialogAction>
                </AlertDialogFooter>
              </AlertDialogContent>
            </AlertDialog>
          </div>
        </div>
      </CardContent>
    </Card>
  );
};
// END OF FILE: components/expert/validation-actions.tsx

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/components.json

{
  "$schema": "https://ui.shadcn.com/schema.json",
  "style": "new-york",
  "rsc": true,
  "tsx": true,
  "tailwind": {
    "config": "tailwind.config.js",
    "css": "app/globals.css",
    "baseColor": "slate",
    "cssVariables": true,
    "prefix": ""
  },
  "iconLibrary": "lucide",
  "aliases": {
    "components": "@/components",
    "utils": "@/lib/utils",
    "ui": "@/components/ui",
    "lib": "@/lib",
    "hooks": "@/hooks"
  },
  "registries": {}
}
// END OF FILE: components.json

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/components/mobile-header.tsx

"use client";

import { MobileSidebar } from "./mobile-sidebar";

export const MobileHeader = () => {
    return (
        <nav className="lg:hidden px-4 h-[50px] flex items-center bg-white border-b border-gray-200 fixed top-0 w-full z-50 shadow-sm">
            <MobileSidebar />
        </nav>
    );
} 

// END OF FILE: components/mobile-header.tsx

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/components/mobile-sidebar.tsx

"use client";

import {
    Sheet,
    SheetContent,
    SheetTrigger
} from "@/components/ui/sheet";

import { Sidebar } from "@/components/sidebar";
import { Menu } from "lucide-react";


export const MobileSidebar = () => {
    return (
        <Sheet>
            <SheetTrigger asChild>
                <Menu className="h-6 w-6 text-white cursor-pointer" />
            </SheetTrigger>
            <SheetContent side="left" className="p-0 z-100">
                <Sidebar />
            </SheetContent>
        </Sheet>

    );
}// END OF FILE: components/mobile-sidebar.tsx

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/components/sidebar-item.tsx

"use client";

import { usePathname } from "next/navigation";
import Link from "next/link";
import Image from "next/image";
import { Button } from "./ui/button";

type Props = {
  label: string;
  iconSrc: string;
  href: string;
};

export const SidebarItem = ({ label, iconSrc, href }: Props) => {
  const pathname = usePathname();
  const active = pathname === href;

  return (
    <Button
      variant={active ? "SidebarOutline" : "Sidebar"}
      className="justify-start h-[52px]"
      asChild
    >
      <Link href={href} className="flex items-center">
        <Image
          src={iconSrc}
          alt={`${label} icon`}
          width={32}
          height={32}
          className="mr-5"
        />
        {label}
      </Link>
    </Button>
  );
};
// END OF FILE: components/sidebar-item.tsx

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/components/sidebar.tsx

"use client";

import { cn } from "@/lib/utils";
import Link from "next/link";
import { usePathname } from "next/navigation";
import { useAuth } from "@/hooks/useAuth";
import { Avatar, AvatarFallback, AvatarImage } from "@/components/ui/avatar";
import {
  LayoutDashboard,
  User,
  BookOpen,
  Trophy,
  LogOut,
  Loader2,
  MessageSquare,
} from "lucide-react";

type Props = {
  className?: string;
};

const learnerMenuItems = [
  { label: "Dashboard", href: "/learn", icon: LayoutDashboard },
  { label: "Chat", href: "/chat", icon: MessageSquare },
  { label: "My Profile", href: "/profile", icon: User },
  { label: "Library", href: "/library", icon: BookOpen },
  { label: "Achievements", href: "/achievements", icon: Trophy },
];

export const Sidebar = ({ className }: Props) => {
  const pathname = usePathname();
  const { user, role, logout, isLoading } = useAuth();

  // Si c'est un expert, ne pas afficher cette sidebar
  if (role === 'expert') {
    return null;
  }

  return (
    <div className={cn(
      "flex h-full w-64 fixed left-0 top-0 flex-col bg-white border-r border-gray-100",
      className,
    )}>
      {/* User Profile Section */}
      <div className="px-6 py-6">
        <div className="flex items-center gap-3">
          <Avatar className="h-12 w-12 ring-2 ring-blue-100">
            <AvatarImage src="/placeholder-avatar.png" />
            <AvatarFallback className="bg-gradient-to-br from-blue-500 to-blue-600 text-white font-semibold text-lg">
              {user?.nom?.charAt(0) || "A"}
            </AvatarFallback>
          </Avatar>
          <div className="flex-1 min-w-0">
            <p className="text-sm font-semibold text-gray-900 truncate">
              {user?.nom || "Alex Johnson"}
            </p>
            <p className="text-xs text-gray-500 truncate">
              Medical Student &bull; Yr 3
            </p>
          </div>
        </div>
      </div>

      {/* Navigation Menu */}
      <nav className="flex-1 px-3 space-y-1">
        {learnerMenuItems.map((item) => {
          const isActive = pathname === item.href ||
            (item.href === "/learn" && pathname?.startsWith("/learn"));
          const Icon = item.icon;

          return (
            <Link
              key={item.label}
              href={item.href}
              className={cn(
                "flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-medium transition-all duration-200",
                isActive
                  ? "bg-blue-50 text-blue-600"
                  : "text-gray-600 hover:bg-gray-50 hover:text-gray-900"
              )}
            >
              <Icon className={cn(
                "h-5 w-5 transition-colors",
                isActive ? "text-blue-600" : "text-gray-400"
              )} />
              <span>{item.label}</span>
            </Link>
          );
        })}
      </nav>

      {/* Logout Button */}
      <div className="p-4 border-t border-gray-100">
        {isLoading ? (
          <div className="flex items-center justify-center py-2">
            <Loader2 className="h-5 w-5 text-gray-400 animate-spin" />
          </div>
        ) : user ? (
          <button
            onClick={logout}
            className="flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-medium text-gray-600 hover:bg-red-50 hover:text-red-600 w-full transition-all duration-200 group"
          >
            <LogOut className="h-5 w-5 text-gray-400 group-hover:text-red-500 transition-colors" />
            <span>Log Out</span>
          </button>
        ) : null}
      </div>
    </div>
  );
};
// END OF FILE: components/sidebar.tsx

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/components/summative-modal.tsx

"use client";

import { Dialog, DialogContent, DialogHeader, DialogTitle, DialogFooter, DialogDescription } from "@/components/ui/dialog";
import { Button } from "@/components/ui/button";
import { Progress } from "@/components/ui/progress";
import { Badge } from "@/components/ui/badge";
import { ScrollArea } from "@/components/ui/scroll-area";
import { Award, TrendingUp, AlertTriangle, Stethoscope, CheckCircle2 } from "lucide-react";

export interface SummativeData {
  score_global: number;
  score_communication: number;
  score_anamnese: number;
  score_diagnostic: number;
  score_prise_en_charge: number;
  difficultes_identifiees: string[];
  points_forts: string[];
  feedback_global: string;
}

interface SummativeModalProps {
  isOpen: boolean;
  onClose: () => void;
  data: SummativeData | null;
}

export function SummativeModal({ isOpen, onClose, data }: SummativeModalProps) {
  if (!data) return null;

  return (
    <Dialog open={isOpen} onOpenChange={onClose}>
      <DialogContent className="sm:max-w-2xl max-h-[90vh] flex flex-col p-0 gap-0 overflow-hidden bg-white dark:bg-slate-950">
        
        {/* Header */}
        <DialogHeader className="p-6 pb-2 bg-indigo-50 dark:bg-indigo-950/30">
          <div className="flex items-center gap-3">
            <div className="p-3 bg-indigo-100 dark:bg-indigo-900 rounded-full shadow-sm">
                <Award className="w-8 h-8 text-indigo-600 dark:text-indigo-400" />
            </div>
            <div>
                <DialogTitle className="text-2xl font-bold text-indigo-900 dark:text-indigo-100">
                    Bilan de compétence
                </DialogTitle>
                <DialogDescription className="text-indigo-600/80 dark:text-indigo-300">
                    Fin de la consultation
                </DialogDescription>
            </div>
            <div className="ml-auto flex flex-col items-end">
                <span className="text-xs font-semibold text-slate-500 uppercase tracking-wider">Score Global</span>
                <span className="text-3xl font-black text-indigo-600 dark:text-indigo-400">{data.score_global}/100</span>
            </div>
          </div>
        </DialogHeader>

        {/* Content Scrollable */}
        <ScrollArea className="flex-1 p-6">
            <div className="space-y-8">
                
                {/* 1. Scores Détaillés */}
                <div className="space-y-4">
                    <h3 className="text-sm font-semibold text-slate-500 uppercase flex items-center gap-2">
                        <TrendingUp className="w-4 h-4" /> Performance par domaine
                    </h3>
                    <div className="grid grid-cols-1 sm:grid-cols-2 gap-4">
                        <ScoreItem label="Communication" score={data.score_communication} />
                        <ScoreItem label="Anamnèse" score={data.score_anamnese} />
                        <ScoreItem label="Diagnostic" score={data.score_diagnostic} />
                        <ScoreItem label="Prise en charge" score={data.score_prise_en_charge} />
                    </div>
                </div>

                {/* 2. Feedback Global */}
                <div className="bg-slate-50 dark:bg-slate-900 p-4 rounded-xl border border-slate-100 dark:border-slate-800">
                    <h3 className="text-sm font-semibold text-slate-900 dark:text-slate-100 mb-2 flex items-center gap-2">
                        <Stethoscope className="w-4 h-4 text-slate-500" /> Avis du Superviseur
                    </h3>
                    <p className="text-sm text-slate-600 dark:text-slate-300 leading-relaxed italic">
                        &quot;{data.feedback_global}&quot;
                    </p>
                </div>

                {/* 3. Points Forts & Faibles */}
                <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                    {/* Points Forts */}
                    <div>
                        <h3 className="text-sm font-semibold text-green-600 dark:text-green-400 mb-3 flex items-center gap-2">
                            <CheckCircle2 className="w-4 h-4" /> Points Forts
                        </h3>
                        <ul className="space-y-2">
                            {(data.points_forts || []).map((pt, i) => (
                                <li key={i} className="text-sm text-slate-700 dark:text-slate-300 flex items-start gap-2">
                                    <span className="mt-1.5 w-1.5 h-1.5 rounded-full bg-green-400 shrink-0" />
                                    {pt}
                                </li>
                            ))}
                            {(data.points_forts || []).length === 0 && <li className="text-xs text-slate-400 italic">Aucun point fort spécifique détecté.</li>}
                        </ul>
                    </div>

                    {/* Difficultés */}
                    <div>
                        <h3 className="text-sm font-semibold text-orange-600 dark:text-orange-400 mb-3 flex items-center gap-2">
                            <AlertTriangle className="w-4 h-4" /> Axes d&apos;amélioration
                        </h3>
                        <ul className="space-y-2">
                            {(data.difficultes_identifiees || []).map((pt, i) => (
                                <li key={i} className="text-sm text-slate-700 dark:text-slate-300 flex items-start gap-2">
                                    <span className="mt-1.5 w-1.5 h-1.5 rounded-full bg-orange-400 shrink-0" />
                                    {pt}
                                </li>
                            ))}
                            {(data.difficultes_identifiees || []).length === 0 && <li className="text-xs text-slate-400 italic">Aucune difficulté majeure identifiée. Bravo !</li>}
                        </ul>
                    </div>
                </div>

            </div>
        </ScrollArea>

        {/* Footer */}
        <DialogFooter className="p-4 border-t bg-slate-50 dark:bg-slate-900/50">
          <Button onClick={onClose} className="w-full bg-indigo-600 hover:bg-indigo-700 text-white font-medium">
            Retour au Tableau de bord
          </Button>
        </DialogFooter>
      </DialogContent>
    </Dialog>
  );
}

function ScoreItem({ label, score }: { label: string, score: number }) {
    let colorClass = "bg-indigo-600";
    if (score < 50) colorClass = "bg-red-500";
    else if (score < 75) colorClass = "bg-orange-500";
    else colorClass = "bg-green-500";

    return (
        <div className="space-y-1">
            <div className="flex justify-between text-xs font-medium">
                <span className="text-slate-600 dark:text-slate-300">{label}</span>
                <span className={score < 50 ? "text-red-600" : (score >= 75 ? "text-green-600" : "text-slate-900")}>{score}%</span>
            </div>
            <Progress value={score} className="h-2" indicatorClassName={colorClass} />
        </div>
    );
}
// END OF FILE: components/summative-modal.tsx

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/components/ui/alert-dialog.tsx

"use client"

import * as React from "react"
import * as AlertDialogPrimitive from "@radix-ui/react-alert-dialog"

import { cn } from "@/lib/utils"
import { buttonVariants } from "@/components/ui/button"

const AlertDialog = AlertDialogPrimitive.Root

const AlertDialogTrigger = AlertDialogPrimitive.Trigger

const AlertDialogPortal = AlertDialogPrimitive.Portal

const AlertDialogOverlay = React.forwardRef<
  React.ElementRef<typeof AlertDialogPrimitive.Overlay>,
  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Overlay>
>(({ className, ...props }, ref) => (
  <AlertDialogPrimitive.Overlay
    className={cn(
      "fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",
      className
    )}
    {...props}
    ref={ref}
  />
))
AlertDialogOverlay.displayName = AlertDialogPrimitive.Overlay.displayName

const AlertDialogContent = React.forwardRef<
  React.ElementRef<typeof AlertDialogPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Content>
>(({ className, ...props }, ref) => (
  <AlertDialogPortal>
    <AlertDialogOverlay />
    <AlertDialogPrimitive.Content
      ref={ref}
      className={cn(
        "fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",
        className
      )}
      {...props}
    />
  </AlertDialogPortal>
))
AlertDialogContent.displayName = AlertDialogPrimitive.Content.displayName

const AlertDialogHeader = ({
  className,
  ...props
}: React.HTMLAttributes<HTMLDivElement>) => (
  <div
    className={cn(
      "flex flex-col space-y-2 text-center sm:text-left",
      className
    )}
    {...props}
  />
)
AlertDialogHeader.displayName = "AlertDialogHeader"

const AlertDialogFooter = ({
  className,
  ...props
}: React.HTMLAttributes<HTMLDivElement>) => (
  <div
    className={cn(
      "flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",
      className
    )}
    {...props}
  />
)
AlertDialogFooter.displayName = "AlertDialogFooter"

const AlertDialogTitle = React.forwardRef<
  React.ElementRef<typeof AlertDialogPrimitive.Title>,
  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Title>
>(({ className, ...props }, ref) => (
  <AlertDialogPrimitive.Title
    ref={ref}
    className={cn("text-lg font-semibold", className)}
    {...props}
  />
))
AlertDialogTitle.displayName = AlertDialogPrimitive.Title.displayName

const AlertDialogDescription = React.forwardRef<
  React.ElementRef<typeof AlertDialogPrimitive.Description>,
  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Description>
>(({ className, ...props }, ref) => (
  <AlertDialogPrimitive.Description
    ref={ref}
    className={cn("text-sm text-muted-foreground", className)}
    {...props}
  />
))
AlertDialogDescription.displayName =
  AlertDialogPrimitive.Description.displayName

const AlertDialogAction = React.forwardRef<
  React.ElementRef<typeof AlertDialogPrimitive.Action>,
  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Action>
>(({ className, ...props }, ref) => (
  <AlertDialogPrimitive.Action
    ref={ref}
    className={cn(buttonVariants(), className)}
    {...props}
  />
))
AlertDialogAction.displayName = AlertDialogPrimitive.Action.displayName

const AlertDialogCancel = React.forwardRef<
  React.ElementRef<typeof AlertDialogPrimitive.Cancel>,
  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Cancel>
>(({ className, ...props }, ref) => (
  <AlertDialogPrimitive.Cancel
    ref={ref}
    className={cn(
      buttonVariants({ variant: "outline" }),
      "mt-2 sm:mt-0",
      className
    )}
    {...props}
  />
))
AlertDialogCancel.displayName = AlertDialogPrimitive.Cancel.displayName

export {
  AlertDialog,
  AlertDialogPortal,
  AlertDialogOverlay,
  AlertDialogTrigger,
  AlertDialogContent,
  AlertDialogHeader,
  AlertDialogFooter,
  AlertDialogTitle,
  AlertDialogDescription,
  AlertDialogAction,
  AlertDialogCancel,
}
// END OF FILE: components/ui/alert-dialog.tsx

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/components/ui/avatar.tsx

"use client"

import * as React from "react"
import * as AvatarPrimitive from "@radix-ui/react-avatar"

import { cn } from "@/lib/utils"

const Avatar = React.forwardRef<
  React.ElementRef<typeof AvatarPrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>
>(({ className, ...props }, ref) => (
  <AvatarPrimitive.Root
    ref={ref}
    className={cn(
      "relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",
      className
    )}
    {...props}
  />
))
Avatar.displayName = AvatarPrimitive.Root.displayName

const AvatarImage = React.forwardRef<
  React.ElementRef<typeof AvatarPrimitive.Image>,
  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>
>(({ className, ...props }, ref) => (
  <AvatarPrimitive.Image
    ref={ref}
    className={cn("aspect-square h-full w-full", className)}
    {...props}
  />
))
AvatarImage.displayName = AvatarPrimitive.Image.displayName

const AvatarFallback = React.forwardRef<
  React.ElementRef<typeof AvatarPrimitive.Fallback>,
  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>
>(({ className, ...props }, ref) => (
  <AvatarPrimitive.Fallback
    ref={ref}
    className={cn(
      "flex h-full w-full items-center justify-center rounded-full bg-muted",
      className
    )}
    {...props}
  />
))
AvatarFallback.displayName = AvatarPrimitive.Fallback.displayName

export { Avatar, AvatarImage, AvatarFallback }
// END OF FILE: components/ui/avatar.tsx

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/components/ui/badge.tsx

import * as React from "react"
import { cva, type VariantProps } from "class-variance-authority"

import { cn } from "@/lib/utils"

const badgeVariants = cva(
  "inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",
  {
    variants: {
      variant: {
        default:
          "border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",
        secondary:
          "border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",
        destructive:
          "border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",
        outline: "text-foreground",
      },
    },
    defaultVariants: {
      variant: "default",
    },
  }
)

export interface BadgeProps
  extends React.HTMLAttributes<HTMLDivElement>,
    VariantProps<typeof badgeVariants> {}

function Badge({ className, variant, ...props }: BadgeProps) {
  return (
    <div className={cn(badgeVariants({ variant }), className)} {...props} />
  )
}

export { Badge, badgeVariants }
// END OF FILE: components/ui/badge.tsx

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/components/ui/button.tsx

import * as React from "react"
import { Slot } from "@radix-ui/react-slot"
import { cva, type VariantProps } from "class-variance-authority"

import { cn } from "@/lib/utils"

const buttonVariants = cva(
  "inline-flex items-center justify-center whitespace-nowrap rounded-xl text-sm font-medium transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500/20 disabled:pointer-events-none disabled:opacity-50",
  {
    variants: {
      variant: {
        default:
          "bg-gradient-to-r from-blue-500 to-indigo-500 text-white shadow-lg shadow-blue-500/30 hover:shadow-xl hover:shadow-blue-500/40",
        destructive:
          "bg-gradient-to-r from-red-500 to-rose-500 text-white shadow-lg shadow-red-500/30 hover:shadow-xl hover:shadow-red-500/40",
        primary: 
          "bg-gradient-to-r from-blue-500 to-indigo-500 text-white shadow-lg shadow-blue-500/30 hover:shadow-xl hover:shadow-blue-500/40",
        primaryOutline:
          "bg-white text-blue-600 border border-blue-200 hover:bg-blue-50 shadow-sm",
        secondary: 
          "bg-gradient-to-r from-blue-500 to-indigo-500 text-white shadow-lg shadow-blue-500/30 hover:shadow-xl hover:shadow-blue-500/40",
        secondaryOutline:
          "bg-white text-blue-600 border border-blue-200 hover:bg-blue-50 shadow-sm",
        danger: 
          "bg-gradient-to-r from-red-500 to-rose-500 text-white shadow-lg shadow-red-500/30 hover:shadow-xl hover:shadow-red-500/40",
        dangerOutline:
          "bg-white text-red-600 border border-red-200 hover:bg-red-50 shadow-sm",
        super: 
          "bg-gradient-to-r from-indigo-500 to-purple-500 text-white shadow-lg shadow-indigo-500/30 hover:shadow-xl hover:shadow-indigo-500/40",
        superOutline:
          "bg-white text-indigo-600 border border-indigo-200 hover:bg-indigo-50 shadow-sm",
        outline:
          "bg-white text-gray-700 border border-gray-200 hover:bg-gray-50 shadow-sm",
        ghost: 
          "bg-transparent text-gray-600 hover:bg-gray-100",
        Sidebar: 
          "bg-transparent text-gray-600 hover:bg-blue-50 hover:text-blue-600",
        SidebarOutline: "bg-blue-50 text-blue-600 hover:bg-blue-100",
        link: "text-blue-600 underline-offset-4 hover:underline",
      },
      size: {
        default: "h-11 px-4 py-2",
        sm: "h-8 px-3 text-xs",
        lg: "h-12 rounded-md px-8",
        icon: "h-10 w-10",
        rounded: "rounded-full",
      },
    },
    defaultVariants: {
      variant: "default",
      size: "default",
    },
  }
)

export interface ButtonProps
  extends React.ButtonHTMLAttributes<HTMLButtonElement>,
    VariantProps<typeof buttonVariants> {
  asChild?: boolean
}

const Button = React.forwardRef<HTMLButtonElement, ButtonProps>(
  ({ className, variant, size, asChild = false, ...props }, ref) => {
    const Comp = asChild ? Slot : "button"
    return (
      <Comp
        className={cn(buttonVariants({ variant, size, className }))}
        ref={ref}
        {...props}
      />
    )
  }
)
Button.displayName = "Button"

export { Button, buttonVariants }
// END OF FILE: components/ui/button.tsx

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/components/ui/card.tsx

import * as React from "react"

import { cn } from "@/lib/utils"

const Card = React.forwardRef<
  HTMLDivElement,
  React.HTMLAttributes<HTMLDivElement>
>(({ className, ...props }, ref) => (
  <div
    ref={ref}
    className={cn(
      "rounded-xl border bg-card text-card-foreground shadow",
      className
    )}
    {...props}
  />
))
Card.displayName = "Card"

const CardHeader = React.forwardRef<
  HTMLDivElement,
  React.HTMLAttributes<HTMLDivElement>
>(({ className, ...props }, ref) => (
  <div
    ref={ref}
    className={cn("flex flex-col space-y-1.5 p-6", className)}
    {...props}
  />
))
CardHeader.displayName = "CardHeader"

const CardTitle = React.forwardRef<
  HTMLDivElement,
  React.HTMLAttributes<HTMLDivElement>
>(({ className, ...props }, ref) => (
  <div
    ref={ref}
    className={cn("font-semibold leading-none tracking-tight", className)}
    {...props}
  />
))
CardTitle.displayName = "CardTitle"

const CardDescription = React.forwardRef<
  HTMLDivElement,
  React.HTMLAttributes<HTMLDivElement>
>(({ className, ...props }, ref) => (
  <div
    ref={ref}
    className={cn("text-sm text-muted-foreground", className)}
    {...props}
  />
))
CardDescription.displayName = "CardDescription"

const CardContent = React.forwardRef<
  HTMLDivElement,
  React.HTMLAttributes<HTMLDivElement>
>(({ className, ...props }, ref) => (
  <div ref={ref} className={cn("p-6 pt-0", className)} {...props} />
))
CardContent.displayName = "CardContent"

const CardFooter = React.forwardRef<
  HTMLDivElement,
  React.HTMLAttributes<HTMLDivElement>
>(({ className, ...props }, ref) => (
  <div
    ref={ref}
    className={cn("flex items-center p-6 pt-0", className)}
    {...props}
  />
))
CardFooter.displayName = "CardFooter"

export { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }
// END OF FILE: components/ui/card.tsx

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/components/ui/dialog.tsx

"use client"

import * as React from "react"
import * as DialogPrimitive from "@radix-ui/react-dialog"
import { X } from "lucide-react"

import { cn } from "@/lib/utils"

const Dialog = DialogPrimitive.Root

const DialogTrigger = DialogPrimitive.Trigger

const DialogPortal = DialogPrimitive.Portal

const DialogClose = DialogPrimitive.Close

const DialogOverlay = React.forwardRef<
  React.ElementRef<typeof DialogPrimitive.Overlay>,
  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>
>(({ className, ...props }, ref) => (
  <DialogPrimitive.Overlay
    ref={ref}
    className={cn(
      "fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",
      className
    )}
    {...props}
  />
))
DialogOverlay.displayName = DialogPrimitive.Overlay.displayName

const DialogContent = React.forwardRef<
  React.ElementRef<typeof DialogPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>
>(({ className, children, ...props }, ref) => (
  <DialogPortal>
    <DialogOverlay />
    <DialogPrimitive.Content
      ref={ref}
      className={cn(
        "fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",
        className
      )}
      {...props}
    >
      {children}
      <DialogPrimitive.Close className="absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground">
        <X className="h-4 w-4" />
        <span className="sr-only">Close</span>
      </DialogPrimitive.Close>
    </DialogPrimitive.Content>
  </DialogPortal>
))
DialogContent.displayName = DialogPrimitive.Content.displayName

const DialogHeader = ({
  className,
  ...props
}: React.HTMLAttributes<HTMLDivElement>) => (
  <div
    className={cn(
      "flex flex-col space-y-1.5 text-center sm:text-left",
      className
    )}
    {...props}
  />
)
DialogHeader.displayName = "DialogHeader"

const DialogFooter = ({
  className,
  ...props
}: React.HTMLAttributes<HTMLDivElement>) => (
  <div
    className={cn(
      "flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",
      className
    )}
    {...props}
  />
)
DialogFooter.displayName = "DialogFooter"

const DialogTitle = React.forwardRef<
  React.ElementRef<typeof DialogPrimitive.Title>,
  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>
>(({ className, ...props }, ref) => (
  <DialogPrimitive.Title
    ref={ref}
    className={cn(
      "text-lg font-semibold leading-none tracking-tight",
      className
    )}
    {...props}
  />
))
DialogTitle.displayName = DialogPrimitive.Title.displayName

const DialogDescription = React.forwardRef<
  React.ElementRef<typeof DialogPrimitive.Description>,
  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>
>(({ className, ...props }, ref) => (
  <DialogPrimitive.Description
    ref={ref}
    className={cn("text-sm text-muted-foreground", className)}
    {...props}
  />
))
DialogDescription.displayName = DialogPrimitive.Description.displayName

export {
  Dialog,
  DialogPortal,
  DialogOverlay,
  DialogClose,
  DialogTrigger,
  DialogContent,
  DialogHeader,
  DialogFooter,
  DialogTitle,
  DialogDescription,
}
// END OF FILE: components/ui/dialog.tsx

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/components/ui/dropdown-menu.tsx

"use client"

import * as React from "react"
import * as DropdownMenuPrimitive from "@radix-ui/react-dropdown-menu"
import { Check, ChevronRight, Circle } from "lucide-react"

import { cn } from "@/lib/utils"

const DropdownMenu = DropdownMenuPrimitive.Root

const DropdownMenuTrigger = DropdownMenuPrimitive.Trigger

const DropdownMenuGroup = DropdownMenuPrimitive.Group

const DropdownMenuPortal = DropdownMenuPrimitive.Portal

const DropdownMenuSub = DropdownMenuPrimitive.Sub

const DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup

const DropdownMenuSubTrigger = React.forwardRef<
  React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,
  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {
    inset?: boolean
  }
>(({ className, inset, children, ...props }, ref) => (
  <DropdownMenuPrimitive.SubTrigger
    ref={ref}
    className={cn(
      "flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",
      inset && "pl-8",
      className
    )}
    {...props}
  >
    {children}
    <ChevronRight className="ml-auto" />
  </DropdownMenuPrimitive.SubTrigger>
))
DropdownMenuSubTrigger.displayName =
  DropdownMenuPrimitive.SubTrigger.displayName

const DropdownMenuSubContent = React.forwardRef<
  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,
  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>
>(({ className, ...props }, ref) => (
  <DropdownMenuPrimitive.SubContent
    ref={ref}
    className={cn(
      "z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",
      className
    )}
    {...props}
  />
))
DropdownMenuSubContent.displayName =
  DropdownMenuPrimitive.SubContent.displayName

const DropdownMenuContent = React.forwardRef<
  React.ElementRef<typeof DropdownMenuPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>
>(({ className, sideOffset = 4, ...props }, ref) => (
  <DropdownMenuPrimitive.Portal>
    <DropdownMenuPrimitive.Content
      ref={ref}
      sideOffset={sideOffset}
      className={cn(
        "z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md",
        "data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",
        className
      )}
      {...props}
    />
  </DropdownMenuPrimitive.Portal>
))
DropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName

const DropdownMenuItem = React.forwardRef<
  React.ElementRef<typeof DropdownMenuPrimitive.Item>,
  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {
    inset?: boolean
  }
>(({ className, inset, ...props }, ref) => (
  <DropdownMenuPrimitive.Item
    ref={ref}
    className={cn(
      "relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",
      inset && "pl-8",
      className
    )}
    {...props}
  />
))
DropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName

const DropdownMenuCheckboxItem = React.forwardRef<
  React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,
  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>
>(({ className, children, checked, ...props }, ref) => (
  <DropdownMenuPrimitive.CheckboxItem
    ref={ref}
    className={cn(
      "relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",
      className
    )}
    checked={checked}
    {...props}
  >
    <span className="absolute left-2 flex h-3.5 w-3.5 items-center justify-center">
      <DropdownMenuPrimitive.ItemIndicator>
        <Check className="h-4 w-4" />
      </DropdownMenuPrimitive.ItemIndicator>
    </span>
    {children}
  </DropdownMenuPrimitive.CheckboxItem>
))
DropdownMenuCheckboxItem.displayName =
  DropdownMenuPrimitive.CheckboxItem.displayName

const DropdownMenuRadioItem = React.forwardRef<
  React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,
  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>
>(({ className, children, ...props }, ref) => (
  <DropdownMenuPrimitive.RadioItem
    ref={ref}
    className={cn(
      "relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",
      className
    )}
    {...props}
  >
    <span className="absolute left-2 flex h-3.5 w-3.5 items-center justify-center">
      <DropdownMenuPrimitive.ItemIndicator>
        <Circle className="h-2 w-2 fill-current" />
      </DropdownMenuPrimitive.ItemIndicator>
    </span>
    {children}
  </DropdownMenuPrimitive.RadioItem>
))
DropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName

const DropdownMenuLabel = React.forwardRef<
  React.ElementRef<typeof DropdownMenuPrimitive.Label>,
  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {
    inset?: boolean
  }
>(({ className, inset, ...props }, ref) => (
  <DropdownMenuPrimitive.Label
    ref={ref}
    className={cn(
      "px-2 py-1.5 text-sm font-semibold",
      inset && "pl-8",
      className
    )}
    {...props}
  />
))
DropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName

const DropdownMenuSeparator = React.forwardRef<
  React.ElementRef<typeof DropdownMenuPrimitive.Separator>,
  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>
>(({ className, ...props }, ref) => (
  <DropdownMenuPrimitive.Separator
    ref={ref}
    className={cn("-mx-1 my-1 h-px bg-muted", className)}
    {...props}
  />
))
DropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName

const DropdownMenuShortcut = ({
  className,
  ...props
}: React.HTMLAttributes<HTMLSpanElement>) => {
  return (
    <span
      className={cn("ml-auto text-xs tracking-widest opacity-60", className)}
      {...props}
    />
  )
}
DropdownMenuShortcut.displayName = "DropdownMenuShortcut"

export {
  DropdownMenu,
  DropdownMenuTrigger,
  DropdownMenuContent,
  DropdownMenuItem,
  DropdownMenuCheckboxItem,
  DropdownMenuRadioItem,
  DropdownMenuLabel,
  DropdownMenuSeparator,
  DropdownMenuShortcut,
  DropdownMenuGroup,
  DropdownMenuPortal,
  DropdownMenuSub,
  DropdownMenuSubContent,
  DropdownMenuSubTrigger,
  DropdownMenuRadioGroup,
}
// END OF FILE: components/ui/dropdown-menu.tsx

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/components/ui/input.tsx

import * as React from "react"

import { cn } from "@/lib/utils"

const Input = React.forwardRef<HTMLInputElement, React.ComponentProps<"input">>(
  ({ className, type, ...props }, ref) => {
    return (
      <input
        type={type}
        className={cn(
          "flex h-10 w-full rounded-lg border-0 bg-gray-50 px-4 py-2 text-sm shadow-sm transition-all file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-gray-400 focus:bg-white focus:ring-2 focus:ring-blue-500/20 disabled:cursor-not-allowed disabled:opacity-50",
          className
        )}
        ref={ref}
        {...props}
      />
    )
  }
)
Input.displayName = "Input"

export { Input }
// END OF FILE: components/ui/input.tsx

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/components/ui/label.tsx

"use client"

import * as React from "react"
import * as LabelPrimitive from "@radix-ui/react-label"
import { cva, type VariantProps } from "class-variance-authority"

import { cn } from "@/lib/utils"

const labelVariants = cva(
  "text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"
)

const Label = React.forwardRef<
  React.ElementRef<typeof LabelPrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &
    VariantProps<typeof labelVariants>
>(({ className, ...props }, ref) => (
  <LabelPrimitive.Root
    ref={ref}
    className={cn(labelVariants(), className)}
    {...props}
  />
))
Label.displayName = LabelPrimitive.Root.displayName

export { Label }
// END OF FILE: components/ui/label.tsx

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/components/ui/progress.tsx

"use client"

import * as React from "react"
import * as ProgressPrimitive from "@radix-ui/react-progress"

import { cn } from "@/lib/utils"

const Progress = React.forwardRef<
  React.ElementRef<typeof ProgressPrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof ProgressPrimitive.Root> & { indicatorClassName?: string }
>(({ className, value, indicatorClassName, ...props }, ref) => (
  <ProgressPrimitive.Root
    ref={ref}
    className={cn(
      "relative h-2 w-full overflow-hidden rounded-full bg-primary/20",
      className
    )}
    {...props}
  >
    <ProgressPrimitive.Indicator
      className={cn("h-full w-full flex-1 bg-primary transition-all", indicatorClassName)}
      style={{ transform: `translateX(-${100 - (value || 0)}%)` }}
    />
  </ProgressPrimitive.Root>
))
Progress.displayName = ProgressPrimitive.Root.displayName

export { Progress }
// END OF FILE: components/ui/progress.tsx

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/components/ui/radio-group.tsx

"use client"

import * as React from "react"
import * as RadioGroupPrimitive from "@radix-ui/react-radio-group"
import { Circle } from "lucide-react"

import { cn } from "@/lib/utils"

const RadioGroup = React.forwardRef<
  React.ElementRef<typeof RadioGroupPrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Root>
>(({ className, ...props }, ref) => {
  return (
    <RadioGroupPrimitive.Root
      className={cn("grid gap-2", className)}
      {...props}
      ref={ref}
    />
  )
})
RadioGroup.displayName = RadioGroupPrimitive.Root.displayName

const RadioGroupItem = React.forwardRef<
  React.ElementRef<typeof RadioGroupPrimitive.Item>,
  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Item>
>(({ className, ...props }, ref) => {
  return (
    <RadioGroupPrimitive.Item
      ref={ref}
      className={cn(
        "aspect-square h-4 w-4 rounded-full border border-gray-300 text-blue-600 ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",
        className
      )}
      {...props}
    >
      <RadioGroupPrimitive.Indicator className="flex items-center justify-center">
        <Circle className="h-2.5 w-2.5 fill-current text-current" />
      </RadioGroupPrimitive.Indicator>
    </RadioGroupPrimitive.Item>
  )
})
RadioGroupItem.displayName = RadioGroupPrimitive.Item.displayName

export { RadioGroup, RadioGroupItem }
// END OF FILE: components/ui/radio-group.tsx

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/components/ui/scroll-area.tsx

"use client"

import * as React from "react"
import * as ScrollAreaPrimitive from "@radix-ui/react-scroll-area"

import { cn } from "@/lib/utils"

const ScrollArea = React.forwardRef<
  React.ElementRef<typeof ScrollAreaPrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>
>(({ className, children, ...props }, ref) => (
  <ScrollAreaPrimitive.Root
    ref={ref}
    className={cn("relative overflow-hidden", className)}
    {...props}
  >
    <ScrollAreaPrimitive.Viewport className="h-full w-full rounded-[inherit]">
      {children}
    </ScrollAreaPrimitive.Viewport>
    <ScrollBar />
    <ScrollAreaPrimitive.Corner />
  </ScrollAreaPrimitive.Root>
))
ScrollArea.displayName = ScrollAreaPrimitive.Root.displayName

const ScrollBar = React.forwardRef<
  React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,
  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>
>(({ className, orientation = "vertical", ...props }, ref) => (
  <ScrollAreaPrimitive.ScrollAreaScrollbar
    ref={ref}
    orientation={orientation}
    className={cn(
      "flex touch-none select-none transition-colors",
      orientation === "vertical" &&
        "h-full w-2.5 border-l border-l-transparent p-[1px]",
      orientation === "horizontal" &&
        "h-2.5 flex-col border-t border-t-transparent p-[1px]",
      className
    )}
    {...props}
  >
    <ScrollAreaPrimitive.ScrollAreaThumb className="relative flex-1 rounded-full bg-border" />
  </ScrollAreaPrimitive.ScrollAreaScrollbar>
))
ScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName

export { ScrollArea, ScrollBar }
// END OF FILE: components/ui/scroll-area.tsx

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/components/ui/select.tsx

"use client"

import * as React from "react"
import * as SelectPrimitive from "@radix-ui/react-select"
import { Check, ChevronDown, ChevronUp } from "lucide-react"

import { cn } from "@/lib/utils"

const Select = SelectPrimitive.Root

const SelectGroup = SelectPrimitive.Group

const SelectValue = SelectPrimitive.Value

const SelectTrigger = React.forwardRef<
  React.ElementRef<typeof SelectPrimitive.Trigger>,
  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>
>(({ className, children, ...props }, ref) => (
  <SelectPrimitive.Trigger
    ref={ref}
    className={cn(
      "flex h-9 w-full items-center justify-between whitespace-nowrap rounded-lg bg-white px-3 py-2 text-sm shadow-sm hover:shadow-md transition-shadow focus:outline-none focus:ring-2 focus:ring-blue-500/20 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",
      className
    )}
    {...props}
  >
    {children}
    <SelectPrimitive.Icon asChild>
      <ChevronDown className="h-4 w-4 opacity-50" />
    </SelectPrimitive.Icon>
  </SelectPrimitive.Trigger>
))
SelectTrigger.displayName = SelectPrimitive.Trigger.displayName

const SelectScrollUpButton = React.forwardRef<
  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,
  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>
>(({ className, ...props }, ref) => (
  <SelectPrimitive.ScrollUpButton
    ref={ref}
    className={cn(
      "flex cursor-default items-center justify-center py-1",
      className
    )}
    {...props}
  >
    <ChevronUp className="h-4 w-4" />
  </SelectPrimitive.ScrollUpButton>
))
SelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName

const SelectScrollDownButton = React.forwardRef<
  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,
  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>
>(({ className, ...props }, ref) => (
  <SelectPrimitive.ScrollDownButton
    ref={ref}
    className={cn(
      "flex cursor-default items-center justify-center py-1",
      className
    )}
    {...props}
  >
    <ChevronDown className="h-4 w-4" />
  </SelectPrimitive.ScrollDownButton>
))
SelectScrollDownButton.displayName =
  SelectPrimitive.ScrollDownButton.displayName

const SelectContent = React.forwardRef<
  React.ElementRef<typeof SelectPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>
>(({ className, children, position = "popper", ...props }, ref) => (
  <SelectPrimitive.Portal>
    <div className="fixed inset-0 z-[9999] pointer-events-none">
      <SelectPrimitive.Content
        ref={ref}
        className={cn(
          "relative pointer-events-auto max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-xl bg-white text-gray-900 shadow-[0_8px_30px_rgb(0,0,0,0.12)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",
          position === "popper" &&
            "data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",
          className
        )}
        position={position}
        {...props}
      >
        <SelectScrollUpButton />
        <SelectPrimitive.Viewport
          className={cn(
            "p-1",
            position === "popper" &&
              "h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"
          )}
        >
          {children}
        </SelectPrimitive.Viewport>
        <SelectScrollDownButton />
      </SelectPrimitive.Content>
    </div>
  </SelectPrimitive.Portal>
))
SelectContent.displayName = SelectPrimitive.Content.displayName

const SelectLabel = React.forwardRef<
  React.ElementRef<typeof SelectPrimitive.Label>,
  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>
>(({ className, ...props }, ref) => (
  <SelectPrimitive.Label
    ref={ref}
    className={cn("px-2 py-1.5 text-sm font-semibold", className)}
    {...props}
  />
))
SelectLabel.displayName = SelectPrimitive.Label.displayName

const SelectItem = React.forwardRef<
  React.ElementRef<typeof SelectPrimitive.Item>,
  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>
>(({ className, children, ...props }, ref) => (
  <SelectPrimitive.Item
    ref={ref}
    className={cn(
      "relative flex w-full cursor-default select-none items-center rounded-lg py-2.5 pl-3 pr-8 text-sm outline-none hover:bg-blue-50 focus:bg-blue-50 transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50",
      className
    )}
    {...props}
  >
    <span className="absolute right-2 flex h-3.5 w-3.5 items-center justify-center">
      <SelectPrimitive.ItemIndicator>
        <Check className="h-4 w-4" />
      </SelectPrimitive.ItemIndicator>
    </span>
    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>
  </SelectPrimitive.Item>
))
SelectItem.displayName = SelectPrimitive.Item.displayName

const SelectSeparator = React.forwardRef<
  React.ElementRef<typeof SelectPrimitive.Separator>,
  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>
>(({ className, ...props }, ref) => (
  <SelectPrimitive.Separator
    ref={ref}
    className={cn("-mx-1 my-1 h-px bg-muted", className)}
    {...props}
  />
))
SelectSeparator.displayName = SelectPrimitive.Separator.displayName

export {
  Select,
  SelectGroup,
  SelectValue,
  SelectTrigger,
  SelectContent,
  SelectLabel,
  SelectItem,
  SelectSeparator,
  SelectScrollUpButton,
  SelectScrollDownButton,
}
// END OF FILE: components/ui/select.tsx

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/components/ui/separator.tsx

"use client"

import * as React from "react"
import * as SeparatorPrimitive from "@radix-ui/react-separator"

import { cn } from "@/lib/utils"

const Separator = React.forwardRef<
  React.ElementRef<typeof SeparatorPrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>
>(
  (
    { className, orientation = "horizontal", decorative = true, ...props },
    ref
  ) => (
    <SeparatorPrimitive.Root
      ref={ref}
      decorative={decorative}
      orientation={orientation}
      className={cn(
        "shrink-0 bg-border",
        orientation === "horizontal" ? "h-[1px] w-full" : "h-full w-[1px]",
        className
      )}
      {...props}
    />
  )
)
Separator.displayName = SeparatorPrimitive.Root.displayName

export { Separator }
// END OF FILE: components/ui/separator.tsx

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/components/ui/sheet.tsx

"use client"

import * as React from "react"
import * as SheetPrimitive from "@radix-ui/react-dialog"
import { cva, type VariantProps } from "class-variance-authority"
import { X } from "lucide-react"

import { cn } from "@/lib/utils"

const Sheet = SheetPrimitive.Root

const SheetTrigger = SheetPrimitive.Trigger

const SheetClose = SheetPrimitive.Close

const SheetPortal = SheetPrimitive.Portal

const SheetOverlay = React.forwardRef<
  React.ElementRef<typeof SheetPrimitive.Overlay>,
  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Overlay>
>(({ className, ...props }, ref) => (
  <SheetPrimitive.Overlay
    className={cn(
      "fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",
      className
    )}
    {...props}
    ref={ref}
  />
))
SheetOverlay.displayName = SheetPrimitive.Overlay.displayName

const sheetVariants = cva(
  "fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out",
  {
    variants: {
      side: {
        top: "inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",
        bottom:
          "inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",
        left: "inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",
        right:
          "inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm",
      },
    },
    defaultVariants: {
      side: "right",
    },
  }
)

interface SheetContentProps
  extends React.ComponentPropsWithoutRef<typeof SheetPrimitive.Content>,
    VariantProps<typeof sheetVariants> {}

const SheetContent = React.forwardRef<
  React.ElementRef<typeof SheetPrimitive.Content>,
  SheetContentProps
>(({ side = "right", className, children, ...props }, ref) => (
  <SheetPortal>
    <SheetOverlay />
    <SheetPrimitive.Content
      ref={ref}
      className={cn(sheetVariants({ side }), className)}
      {...props}
    >
      <SheetPrimitive.Close className="absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary">
        <X className="h-4 w-4" />
        <span className="sr-only">Close</span>
      </SheetPrimitive.Close>
      {children}
    </SheetPrimitive.Content>
  </SheetPortal>
))
SheetContent.displayName = SheetPrimitive.Content.displayName

const SheetHeader = ({
  className,
  ...props
}: React.HTMLAttributes<HTMLDivElement>) => (
  <div
    className={cn(
      "flex flex-col space-y-2 text-center sm:text-left",
      className
    )}
    {...props}
  />
)
SheetHeader.displayName = "SheetHeader"

const SheetFooter = ({
  className,
  ...props
}: React.HTMLAttributes<HTMLDivElement>) => (
  <div
    className={cn(
      "flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",
      className
    )}
    {...props}
  />
)
SheetFooter.displayName = "SheetFooter"

const SheetTitle = React.forwardRef<
  React.ElementRef<typeof SheetPrimitive.Title>,
  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Title>
>(({ className, ...props }, ref) => (
  <SheetPrimitive.Title
    ref={ref}
    className={cn("text-lg font-semibold text-foreground", className)}
    {...props}
  />
))
SheetTitle.displayName = SheetPrimitive.Title.displayName

const SheetDescription = React.forwardRef<
  React.ElementRef<typeof SheetPrimitive.Description>,
  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Description>
>(({ className, ...props }, ref) => (
  <SheetPrimitive.Description
    ref={ref}
    className={cn("text-sm text-muted-foreground", className)}
    {...props}
  />
))
SheetDescription.displayName = SheetPrimitive.Description.displayName

export {
  Sheet,
  SheetPortal,
  SheetOverlay,
  SheetTrigger,
  SheetClose,
  SheetContent,
  SheetHeader,
  SheetFooter,
  SheetTitle,
  SheetDescription,
}
// END OF FILE: components/ui/sheet.tsx

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/components/ui/skeleton.tsx

import { cn } from "@/lib/utils"

function Skeleton({
  className,
  ...props
}: React.HTMLAttributes<HTMLDivElement>) {
  return (
    <div
      className={cn("animate-pulse rounded-md bg-primary/10", className)}
      {...props}
    />
  )
}

export { Skeleton }
// END OF FILE: components/ui/skeleton.tsx

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/components/ui/table.tsx

import * as React from "react"

import { cn } from "@/lib/utils"

const Table = React.forwardRef<
  HTMLTableElement,
  React.HTMLAttributes<HTMLTableElement>
>(({ className, ...props }, ref) => (
  <div className="relative w-full overflow-auto">
    <table
      ref={ref}
      className={cn("w-full caption-bottom text-sm", className)}
      {...props}
    />
  </div>
))
Table.displayName = "Table"

const TableHeader = React.forwardRef<
  HTMLTableSectionElement,
  React.HTMLAttributes<HTMLTableSectionElement>
>(({ className, ...props }, ref) => (
  <thead ref={ref} className={cn("[&_tr]:border-b", className)} {...props} />
))
TableHeader.displayName = "TableHeader"

const TableBody = React.forwardRef<
  HTMLTableSectionElement,
  React.HTMLAttributes<HTMLTableSectionElement>
>(({ className, ...props }, ref) => (
  <tbody
    ref={ref}
    className={cn("[&_tr:last-child]:border-0", className)}
    {...props}
  />
))
TableBody.displayName = "TableBody"

const TableFooter = React.forwardRef<
  HTMLTableSectionElement,
  React.HTMLAttributes<HTMLTableSectionElement>
>(({ className, ...props }, ref) => (
  <tfoot
    ref={ref}
    className={cn(
      "border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",
      className
    )}
    {...props}
  />
))
TableFooter.displayName = "TableFooter"

const TableRow = React.forwardRef<
  HTMLTableRowElement,
  React.HTMLAttributes<HTMLTableRowElement>
>(({ className, ...props }, ref) => (
  <tr
    ref={ref}
    className={cn(
      "border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",
      className
    )}
    {...props}
  />
))
TableRow.displayName = "TableRow"

const TableHead = React.forwardRef<
  HTMLTableCellElement,
  React.ThHTMLAttributes<HTMLTableCellElement>
>(({ className, ...props }, ref) => (
  <th
    ref={ref}
    className={cn(
      "h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",
      className
    )}
    {...props}
  />
))
TableHead.displayName = "TableHead"

const TableCell = React.forwardRef<
  HTMLTableCellElement,
  React.TdHTMLAttributes<HTMLTableCellElement>
>(({ className, ...props }, ref) => (
  <td
    ref={ref}
    className={cn(
      "p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",
      className
    )}
    {...props}
  />
))
TableCell.displayName = "TableCell"

const TableCaption = React.forwardRef<
  HTMLTableCaptionElement,
  React.HTMLAttributes<HTMLTableCaptionElement>
>(({ className, ...props }, ref) => (
  <caption
    ref={ref}
    className={cn("mt-4 text-sm text-muted-foreground", className)}
    {...props}
  />
))
TableCaption.displayName = "TableCaption"

export {
  Table,
  TableHeader,
  TableBody,
  TableFooter,
  TableHead,
  TableRow,
  TableCell,
  TableCaption,
}
// END OF FILE: components/ui/table.tsx

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/components/ui/tabs.tsx

"use client"

import * as React from "react"
import * as TabsPrimitive from "@radix-ui/react-tabs"

import { cn } from "@/lib/utils"

const Tabs = TabsPrimitive.Root

const TabsList = React.forwardRef<
  React.ElementRef<typeof TabsPrimitive.List>,
  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>
>(({ className, ...props }, ref) => (
  <TabsPrimitive.List
    ref={ref}
    className={cn(
      "inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",
      className
    )}
    {...props}
  />
))
TabsList.displayName = TabsPrimitive.List.displayName

const TabsTrigger = React.forwardRef<
  React.ElementRef<typeof TabsPrimitive.Trigger>,
  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>
>(({ className, ...props }, ref) => (
  <TabsPrimitive.Trigger
    ref={ref}
    className={cn(
      "inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",
      className
    )}
    {...props}
  />
))
TabsTrigger.displayName = TabsPrimitive.Trigger.displayName

const TabsContent = React.forwardRef<
  React.ElementRef<typeof TabsPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>
>(({ className, ...props }, ref) => (
  <TabsPrimitive.Content
    ref={ref}
    className={cn(
      "mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",
      className
    )}
    {...props}
  />
))
TabsContent.displayName = TabsPrimitive.Content.displayName

export { Tabs, TabsList, TabsTrigger, TabsContent }
// END OF FILE: components/ui/tabs.tsx

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/components/ui/textarea.tsx

import * as React from "react"

import { cn } from "@/lib/utils"

const Textarea = React.forwardRef<
  HTMLTextAreaElement,
  React.ComponentProps<"textarea">
>(({ className, ...props }, ref) => {
  return (
    <textarea
      className={cn(
        "flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",
        className
      )}
      ref={ref}
      {...props}
    />
  )
})
Textarea.displayName = "Textarea"

export { Textarea }
// END OF FILE: components/ui/textarea.tsx

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/components/ui/tooltip.tsx

"use client"

import * as React from "react"
import * as TooltipPrimitive from "@radix-ui/react-tooltip"

import { cn } from "@/lib/utils"

const TooltipProvider = TooltipPrimitive.Provider

const Tooltip = TooltipPrimitive.Root

const TooltipTrigger = TooltipPrimitive.Trigger

const TooltipContent = React.forwardRef<
  React.ElementRef<typeof TooltipPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>
>(({ className, sideOffset = 4, ...props }, ref) => (
  <TooltipPrimitive.Portal>
    <TooltipPrimitive.Content
      ref={ref}
      sideOffset={sideOffset}
      className={cn(
        "z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",
        className
      )}
      {...props}
    />
  </TooltipPrimitive.Portal>
))
TooltipContent.displayName = TooltipPrimitive.Content.displayName

export { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }
// END OF FILE: components/ui/tooltip.tsx

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/components/user-progress.tsx

import Link from "next/link";
import { Button } from "./ui/button";
import Image from "next/image";
import { InfinityIcon } from "lucide-react";

type Props = {
    activeCourse: {imageSrc: string, title: string};
    hearts: number;
    points: number;
    hasActiveSuscription: boolean;
};

export const UserProgress = ({ activeCourse, points, hearts, hasActiveSuscription }: Props) => {
    return (
        <div className="flex items-center justify-between gap-x-2 w-full">
            <Link href="/courses">
                <Button variant="ghost">
                    <Image
                        src={activeCourse.imageSrc}
                        alt={activeCourse.title}
                        className="rounded-md border"
                        width={32}
                        height={32}
                    />
                </Button>
            </Link>
            <Link href="/shop">
                <Button variant="ghost" className="text-orange-500">
                    <Image 
                        src="/points.png"
                        alt="Points"
                        width={28}
                        height={28}
                        className="mr-2"
                    />
                    {points}
                </Button>
            </Link>
            <Link href="/shop">
                <Button variant="ghost" className="text-rose-500">
                    <Image 
                        src="/heart.png"
                        alt="Hearts"
                        width={22}
                        height={22}
                        className="mr-2"
                    />
                    {hasActiveSuscription ? <InfinityIcon className="w-4 h-4 stroke-[3]"/> 
                                        : hearts}
                </Button>
            </Link>

            <Link href="/shop">
                <Button variant="ghost" className="text-orange-500">
                    <Image 
                        src="/points.svg"
                        alt="Points"
                        width={28}
                        height={28}
                        className="mr-2"
                    />
                    {points}
                </Button>
            </Link>

        </div>
    );
};// END OF FILE: components/user-progress.tsx

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/.env


#PYTHON_API_BASE_URL="http://104.236.244.230/api/v1"

# Pour le frontend, on lui dit que l'API est le proxy local
NEXT_PUBLIC_API_URL="/api/proxy"

PYTHON_API_BASE_URL="http://localhost/api/v1"// END OF FILE: .env

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/eslint.config.mjs

import { defineConfig, globalIgnores } from "eslint/config";
import nextVitals from "eslint-config-next/core-web-vitals";
import nextTs from "eslint-config-next/typescript";

const eslintConfig = defineConfig([
  ...nextVitals,
  ...nextTs,
  // Override default ignores of eslint-config-next.
  globalIgnores([
    // Default ignores of eslint-config-next:
    ".next/**",
    "out/**",
    "build/**",
    "next-env.d.ts",
  ]),
]);

export default eslintConfig;
// END OF FILE: eslint.config.mjs

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/.gitignore

# See https://help.github.com/articles/ignoring-files/ for more about ignoring files.

# dependencies
/node_modules
/.pnp
.pnp.*
.yarn/*
!.yarn/patches
!.yarn/plugins
!.yarn/releases
!.yarn/versions

# testing
/coverage

# next.js
/.next/
/out/

# production
/build

# misc
.DS_Store
*.pem

# debug
npm-debug.log*
yarn-debug.log*
yarn-error.log*
.pnpm-debug.log*

# env files (can opt-in for committing if needed)
.env*
.env

# vercel
.vercel

# typescript
*.tsbuildinfo
next-env.d.ts

# clerk configuration (can include secrets)
/.clerk/
// END OF FILE: .gitignore

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/hooks/useAuth.tsx

"use client";

import React, { createContext, useState, useContext, useEffect, ReactNode } from 'react';
import { useRouter } from 'next/navigation';
import * as api from '@/lib/api'; // Importe toutes les fonctions de notre service API
import { Loader2 } from 'lucide-react';

// Définition des types pour les données utilisateur et le contexte
interface UserData {
  id: string;
  nom: string;
  email: string;
  matricule?: string; // Optionnel pour les experts
  domaine?: string; // Optionnel pour les experts
  est_profile?: boolean; // Pour les apprenants
}

interface AuthContextType {
  user: UserData | null;
  token: string | null;
  role: 'apprenant' | 'expert' | null;
  isLoading: boolean;
  login: (email: string, password: string, userRole: 'apprenant' | 'expert') => Promise<void>;
  register: (data: any, userRole: 'apprenant' | 'expert') => Promise<void>;
  logout: () => void;
}

// Création du contexte avec une valeur par défaut
const AuthContext = createContext<AuthContextType | undefined>(undefined);

// Le Provider qui va envelopper notre application
export const AuthProvider = ({ children }: { children: ReactNode }) => {
  const [user, setUser] = useState<UserData | null>(null);
  const [token, setToken] = useState<string | null>(null);
  const [role, setRole] = useState<'apprenant' | 'expert' | null>(null);
  const [isLoading, setIsLoading] = useState(true);
  const router = useRouter();

  // Au premier chargement, on vérifie si l'utilisateur est déjà connecté (via localStorage)
  // ET on applique la redirection de profiling si nécessaire (protection de route simple)
  useEffect(() => {
    try {
      const storedToken = localStorage.getItem('authToken');
      const storedUser = localStorage.getItem('authUser');
      const storedRole = localStorage.getItem('authRole') as 'apprenant' | 'expert' | null;

      if (storedToken && storedUser && storedRole) {
        const parsedUser = JSON.parse(storedUser);
        setToken(storedToken);
        setUser(parsedUser);
        setRole(storedRole);
        
        // Logique de redirection forcée si 'est_profile' est false
        // On vérifie qu'on n'est PAS DÉJÀ sur la page de profiling pour éviter une boucle
        if (storedRole === 'apprenant' && parsedUser.est_profile === false) {
             const currentPath = window.location.pathname;
             if (currentPath !== '/profiling') {
                 console.log("Utilisateur non profilé détecté, redirection vers /profiling");
                 router.push('/profiling');
             }
        }
      }
    } catch (error) {
      console.error("Erreur de chargement depuis le localStorage", error);
      // En cas d'erreur (ex: JSON malformé), on nettoie
      localStorage.clear();
    } finally {
      setIsLoading(false);
    }
  }, []); // Le tableau de dépendance vide [] fait que cela ne tourne qu'au montage initial


  const handleLoginSuccess = (responseData: any, userRole: 'apprenant' | 'expert') => {
    const userData = userRole === 'apprenant' ? responseData.apprenant : responseData.expert;
    
    setToken(responseData.token);
    setUser(userData);
    setRole(userRole);

    // Stockage dans le localStorage pour la persistance
    localStorage.setItem('authToken', responseData.token);
    localStorage.setItem('authUser', JSON.stringify(userData));
    localStorage.setItem('authRole', userRole);

    // Simplification de la logique de redirection
    if (userRole === 'apprenant') {
      if (userData.est_profile === false) {
          router.push('/profiling');
      } else {
          router.push('/learn');
      }
    } else {
      router.push('/expert/dashboard');
    }
  };

  const login = async (email: string, password: string, userRole: 'apprenant' | 'expert') => {
    let response;
    if (userRole === 'apprenant') {
      response = await api.apprenantLogin({ email, password });
    } else {
      response = await api.expertLogin({ email, password });
    }
    handleLoginSuccess(response, userRole);
  };
  
  const register = async (data: any, userRole: 'apprenant' | 'expert') => {
    if (userRole === 'apprenant') {
      await api.apprenantRegister(data);
    } else {
      await api.expertRegister(data);
    }
  };

  const logout = async () => {
    if (token) {
        try {
            await api.logout(token);
        } catch (error) {
            console.error("Erreur lors de la déconnexion sur le serveur, déconnexion locale forcée.", error);
        }
    }
    setUser(null);
    setToken(null);
    setRole(null);
    localStorage.removeItem('authToken');
    localStorage.removeItem('authUser');
    localStorage.removeItem('authRole');
    router.push('/'); // Redirige vers la page d'accueil
  };

  const value = { user, token, role, isLoading, login, register, logout };

  // Affiche un loader pendant que l'on vérifie l'état de connexion initial
  if (isLoading) {
    return (
        <div className="flex h-screen w-full items-center justify-center">
            <Loader2 className="h-10 w-10 animate-spin text-primary" />
        </div>
    );
  }

  return <AuthContext.Provider value={value}>{children}</AuthContext.Provider>;
};

export const useAuth = () => {
    const context = useContext(AuthContext);
    if (context === undefined) {
        throw new Error('useAuth must be used within an AuthProvider');
    }
    return context;
};// END OF FILE: hooks/useAuth.tsx

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/lib/api.ts

// lib/api.ts
// Connexion au backend FastAPI pour les cas cliniques

// Utilisation de 127.0.0.1 pour éviter les problèmes de résolution IPv6/IPv4 sur localhost
const API_BASE_URL ="http://104.236.244.230:8000/api/v1";

/**
 * Gets authorization headers with token if available
 */
const getAuthHeaders = (): HeadersInit => {
    const headers: HeadersInit = {
        "Content-Type": "application/json",
    };
    
    // Check if we are in the browser
    if (typeof window !== 'undefined') {
        const token = localStorage.getItem('authToken');
        if (token) {
            headers["Authorization"] = `Token ${token}`;
        }
    }
    
    return headers;
};

// --- Student Dashboard Types ---
export interface ProficiencyItem {
  id: string;
  label: string;
  value: number;
  color: string;
  bgColor: string;
  description: string;
}

export interface StudentStats {
  cas_completes: number;
  score_moyen: number;
  temps_etude: number;
  jours_consecutifs: number;
}

export interface StudentDashboardData {
  global_stats: StudentStats;
  proficiency_data: ProficiencyItem[];
  difficulties: string[];
}

export const getStudentDashboardStats = async (): Promise<StudentDashboardData> => {
  const res = await fetch(`${API_BASE_URL}/api/v1/apprenant/dashboard/stats/`, {
    headers: getAuthHeaders(),
  });
  if (!res.ok) throw new Error("Erreur chargement dashboard");
  return res.json();
};

export interface StudentSession {
    id: string;
    cas_titre: string;
    domaine: string;
    date: string;
    score: number;
    status: string;
}

export const getStudentSessions = async (): Promise<StudentSession[]> => {
    const res = await fetch(`${API_BASE_URL}/api/v1/apprenant/dashboard/sessions/`, {
        headers: getAuthHeaders(),
    });
    if (!res.ok) throw new Error("Erreur chargement des sessions");
    return res.json();
};


export interface Badge {
  id: number;
  nom: string;
  description: string;
  icon?: string;
}

export interface CompetenceLevel {
  id: number;
  domaine_nom: string;
  niveau_actuel: string;
  score_anamnese: number;
  score_diagnostic: number;
  score_traitement: number;
  score_relationnel: number;
  progression_globale: number;
}

export interface FullProfileData {
  apprenant: {
    id: string;
    nom: string;
    email: string;
    date_inscription: string;
  };
  profil: {
    xp_total: number;
    lacunes_identifiees: (string | { domaine: string; feedback: string; competence: string })[];
    badges: Badge[];
    est_profile: boolean;
  };
  competences: CompetenceLevel[];
}

export const getStudentFullProfile = async (): Promise<FullProfileData> => {
   const res = await fetch(`${API_BASE_URL}/api/v1/apprenant/dashboard/full_profile/`, {
    headers: getAuthHeaders(),
  });
  if (!res.ok) throw new Error("Erreur chargement profil");
  return res.json();
};

/**
 * Gère les réponses de l'API de manière robuste.
 */
const handleApiResponse = async (response: Response) => {
    if (response.status === 204) return {};
    if (!response.ok) {
        let errorMessage = `Erreur API: ${response.status} ${response.statusText}`;
        try {
            const errorData = await response.json();
            if (typeof errorData === 'object' && errorData !== null) {
                if (errorData.detail) {
                    errorMessage = errorData.detail;
                } else {
                    errorMessage = Object.entries(errorData)
                        .map(([key, value]) => `${key}: ${Array.isArray(value) ? value.join(', ') : value}`)
                        .join('; ');
                }
            }
        } catch (e) {}
        throw new Error(errorMessage);
    }
    try {
        const contentType = response.headers.get("content-type");
        if (contentType && contentType.includes("application/json")) {
            return await response.json();
        }
        return {};
    } catch (e) {
        throw new Error("Réponse invalide du serveur.");
    }
};


// ============================================================
// TYPES - Backend (ce que FastAPI renvoie)
// ============================================================

type BackendSymptom = {
    nom: string;
    localisation: string | null;
    date_debut: string | null;
    frequence: string | null;
    duree: string | null;
    evolution: string | null;
    activite_declenchante: string | null;
    degre: string | null;
    description_patient: string | null;
};

type BackendDiagnosticPhysique = {
    nom: string;
    resultat: string | null;
    localisation?: string | null;
};

type BackendExamen = {
    nom: string;
    resultat: string | null;
    anatomie: string | null;
    valeur_normale: string | null;
    interpretation: string | null;
};

type BackendTraitement = {
    nom: string;
    mode_administration: string | null;
    date_debut: string | null;
    observation: string | null;
    efficacite: string | null;
    posologie: string | null;
};

type BackendLigneOrdonnance = {
    nom_medicament: string;
    dosage: string;
    forme: string | null;
    frequence: string;
    duree: string;
    voie: string;
    consigne: string | null;
};

type BackendAllergie = {
    nom: string;
    manifestation: string | null;
};

type BackendMaladie = {
    nom: string;
    date_debut_fin: string | null;
    observation: string | null;
};

type BackendAntecedents = {
    antecedents_familiaux: string[];
    allergies: BackendAllergie[];
    maladies: BackendMaladie[];
    chirurgies: { nom: string; date: string | null }[];
    antecedents_obstetricaux: { nombre_grossesse: number | null } | null;
    vaccinations: string[];
};

type BackendModeDeVie = {
    qualite_eau: string | null;
    moustiquaire: boolean | null;
    type_habitat: string | null;
    voyages: { lieu: string | null; duree: string | null }[];
    addictions: { nom: string; quantite: string | null }[];
};

type BackendDonneesPersonnelles = {
    age: number;
    sexe: string;
    etat_civil: string | null;
    profession: string | null;
    nombre_enfant: number | null;
    groupe_sanguin: string | null;
    region_origine: string | null;
    type_habitat?: string | null;
};

type BackendClinicalCase = {
     id_unique: string;
    hash_authentification?: string;
    statut: string;
    date_creation: string | null;
    date_validation: string | null;
    validateur_id: string | null;
    commentaire_validation: string | null;
    
    // Noms mis à jour pour correspondre au Backend Django
    difficulte: string | null;         // au lieu de niveau_difficulte
    pathologie: string | null;         // au lieu de pathologie_principale
    
    specialite_medicale: string | null;
    domaine_nom?: string; // Ajouté via serializer
    objectifs_pedagogiques: string[];
    motif_consultation: string;
    donnees_patient: BackendDonneesPersonnelles;
    mode_de_vie: BackendModeDeVie;
    antecedents_medicaux: BackendAntecedents;
    symptomes: BackendSymptom[];
    
    // Noms mis à jour pour les listes (pluriel et simplification)
    diagnostics_physiques: BackendDiagnosticPhysique[]; 
    examens_complementaires: BackendExamen[];
    traitement: BackendLigneOrdonnance[]; 
    
    diagnostic_final: string | null;
    indices_cliniques: string[];
    erreurs_courantes: string[];
    ordonnance_ideale: BackendLigneOrdonnance[];
};

type BackendStats = {
    total_cas: number;
    par_pathologie: Record<string, number>;
    par_niveau: Record<string, number>;
    par_status: Record<string, number>;
    par_sexe: Record<string, number>;
    age_moyen: number;
};

type BackendFilters = {
    genders: string[];
    professions: string[];
    symptoms: string[];
    pathologies: string[];
    niveaux: string[];
    statuses: string[];
};


// ============================================================
// TYPES - Frontend (ce que les composants attendent)
// ============================================================

export type CaseStatus = "attente" | "en_cours" | "validé" | "rejeté";

export type ExpertCaseData = {
    id: string;
    patientAge: number;
    gender: "Male" | "Female";
    domain: string;
    extractionDate: string;
    status: CaseStatus;
    difficulty: "Débutant" | "Intermédiaire" | "Avancé" | "Expert" | "Non défini";
};

export type DashboardData = {
    kpis: {
        totalCases: number;
        pendingCases: number;
        enCoursCases: number;  // Nouveau: cas en cours
        validatedCases: number;
        rejectedCases: number;
        trendTotal?: { value: number; period: string; };
        trendPending?: { value: number; period: string; };
        trendValidated?: { value: number; period: string; };
    };
    cases: ExpertCaseData[];
};

export type CaseReviewData = {
    id: string;
    title: string;
    status: CaseStatus;
    createdDate: string;
    patientInfo: {
        gender: "Male" | "Female";
        age: number;
        bmi: number | string;
        patientId: string;
        profession: string | null;
        etatCivil: string | null;
        groupeSanguin: string | null;
        region: string | null;
    };
    patientHistory: string;
    pastMedicalHistory: string[];
    modeDeVie: {
        qualiteEau: string | null;
        moustiquaire: boolean | null;
        habitat: string | null;
        voyages: string[];
        addictions: string[];
    };
    symptomes: {
        nom: string;
        description: string | null;
        degre: string | null;
        duree: string | null;
        localisation: string | null;
    }[];
    diagnosticPhysique: {
        nom: string;
        resultat: string | null;
    }[];
    laboratoryResults: {
        testName: string;
        result: string;
        referenceRange: string;
        status: "High" | "Normal" | "Elevated";
    }[];
    traitementEnCours: {
        nom: string;
        posologie: string | null;
        efficacite: string | null;
    }[];
    // Données pédagogiques (pour l'expert)
    diagnosticFinal: string | null;
    indicesCliniques: string[];
    erreursCourantes: string[];
    niveauDifficulte: string | null;
    specialiteMedicale: string | null;
    objectifsPedagogiques: string[];
    ordonnanceIdeale: {
        nom_medicament: string;
        dosage: string;
        forme: string;
        frequence: string;
        duree: string;
    }[];
};

// Type pour les filtres disponibles
export type AvailableFilters = {
    genders: string[];
    professions: string[];
    symptoms: string[];
    pathologies: string[];
    niveaux: string[];
    statuses: string[];
};


// ============================================================
// FONCTIONS DE MAPPING
// ============================================================

/**
 * Mappe le status backend vers frontend
 */
const mapStatus = (backendStatus: string): CaseStatus => {
    switch (backendStatus) {
        case "en_attente": // Legacy
        case "EN_REVISION":
        case "BROUILLON_IA": return "attente";

        case "EN_COURS": return "en_cours";

        case "valide": // Legacy
        case "PUBLIE": return "validé";

        case "rejete": // Legacy
        case "REJETE": return "rejeté";

        default: return "attente";
    }
};

/**
 * Mappe le status frontend vers backend
 */
const mapStatusToBackend = (frontendStatus: CaseStatus): string => {
    switch (frontendStatus) {
        case "attente": return "EN_REVISION";
        case "en_cours": return "EN_COURS";
        case "validé": return "PUBLIE";
        case "rejeté": return "REJETE";
        default: return "EN_REVISION";
    }
};

/**
 * Mappe le sexe backend vers frontend
 */
const mapGender = (backendGender: string): "Male" | "Female" => {
    return backendGender === "M" ? "Male" : "Female";
};

/**
 * Mappe un cas backend vers le format tableau dashboard
 */
const mapDifficulty = (level: string | null): "Débutant" | "Intermédiaire" | "Avancé" | "Expert" | "Non défini" => {
    if (!level) return "Non défini";
    switch(level) {
        case "DEBUTANT": return "Débutant";
        case "INTERMEDIAIRE": return "Intermédiaire";
        case "AVANCE": return "Avancé";
        case "EXPERT": return "Expert";
        default: return "Non défini";
    }
}

const mapCaseToExpertData = (backendCase: BackendClinicalCase): ExpertCaseData => {
    return {

     id: backendCase.id_unique,
        patientAge: backendCase.donnees_patient?.age || 0,
        gender: mapGender(backendCase.donnees_patient?.sexe || "M"),
        domain: backendCase.pathologie || "Non défini", // Corrigé
        extractionDate: backendCase.date_creation || new Date().toISOString(),
        status: mapStatus(backendCase.statut),
        difficulty: mapDifficulty(backendCase.difficulte), // Corrigé
    };
};

/**
 * Détermine le statut d'un résultat de labo
 */
const determineLabStatus = (interpretation: string | null): "High" | "Normal" | "Elevated" => {
    if (!interpretation) return "Normal";
    const lower = interpretation.toLowerCase();
    if (lower.includes("pathologique") || lower.includes("élevé") || lower.includes("anémie")) {
        return "High";
    }
    if (lower.includes("anormal")) {
        return "Elevated";
    }
    return "Normal";
};

/**
 * Mappe un cas backend vers le format détaillé pour review
 */const mapCaseToReviewData = (backendCase: BackendClinicalCase): CaseReviewData => {
    // 1. Préparation des données de sécurité
    const symptomesArr = backendCase.symptomes || [];
    const diagPhysiqueArr = backendCase.diagnostics_physiques || [];
    const examensArr = backendCase.examens_complementaires || [];
    // Le backend Django utilise "traitement" pour l'ordonnance idéale
    const ordonnanceArr = backendCase.traitement || [];

    // Construction de l'historique
    const symptomesDescription = symptomesArr
        .map((s: BackendSymptom) => {
            let desc = s.description_patient || s.nom;
            if (s.duree) desc += ` depuis ${s.duree}`;
            if (s.degre) desc += ` (${s.degre})`;
            return desc;
        })
        .join(". ");
    
    const patientHistory = `Motif de consultation: ${backendCase.motif_consultation}\n\n${symptomesDescription}`;

    // Antécédents
    const pastMedicalHistory: string[] = [];
    if (backendCase.antecedents_medicaux) {
        const ant = backendCase.antecedents_medicaux;
        (ant.maladies || []).forEach(m => pastMedicalHistory.push(`${m.nom} ${m.observation ? `(${m.observation})` : ''}`));
        (ant.antecedents_familiaux || []).forEach(a => pastMedicalHistory.push(a));
    }
    if (pastMedicalHistory.length === 0) pastMedicalHistory.push("Aucun antécédent notable");

    const mv = backendCase.mode_de_vie;

    // LE RETURN CORRIGÉ
    return {
        id: backendCase.id_unique,
        title: backendCase.pathologie || backendCase.motif_consultation,
        status: mapStatus(backendCase.statut),
        createdDate: backendCase.date_creation || new Date().toISOString(),
        patientInfo: {
            gender: mapGender(backendCase.donnees_patient.sexe),
            age: backendCase.donnees_patient.age,
            bmi: backendCase.donnees_patient.groupe_sanguin || "N/A", // On utilise groupe sanguin faute de BMI
            patientId: `#${backendCase.id_unique}`,
            profession: backendCase.donnees_patient.profession,
            etatCivil: backendCase.donnees_patient.etat_civil,
            groupeSanguin: backendCase.donnees_patient.groupe_sanguin,
            region: backendCase.donnees_patient.region_origine,
        },
        patientHistory,
        pastMedicalHistory,
        modeDeVie: {
            qualiteEau: mv?.qualite_eau || null,
            moustiquaire: mv?.moustiquaire || false,
            habitat: mv?.type_habitat || null,
            voyages: (mv?.voyages || []).map(v => v.lieu || ""),
            addictions: (mv?.addictions || []).map(a => a.nom || ""),
        },
        symptomes: symptomesArr.map((s: BackendSymptom) => ({
            nom: s.nom,
            description: s.description_patient,
            degre: s.degre,
            duree: s.duree,
            localisation: s.localisation,
        })),
        diagnosticPhysique: diagPhysiqueArr.map((d: BackendDiagnosticPhysique) => ({
            nom: d.nom,
            resultat: d.resultat,
        })),
        laboratoryResults: examensArr.map((exam: BackendExamen) => ({
            testName: exam.nom,
            result: exam.resultat || "N/A",
            referenceRange: exam.valeur_normale || "N/A",
            status: determineLabStatus(exam.interpretation),
        })),
        
        // --- FIX ERREUR 1 : Ajout de traitementEnCours ---
        traitementEnCours: [], // On laisse vide car le transformer ne génère pas de traitement pré-existant

        // --- FIX ERREUR 2 : Une seule fois ordonnanceIdeale ---
        ordonnanceIdeale: ordonnanceArr.map(ligne => ({
            nom_medicament: ligne.nom_medicament,
            dosage: ligne.dosage,
            forme: ligne.forme || "Non spécifié",
            frequence: ligne.frequence,
            duree: ligne.duree,
        })),

        diagnosticFinal: backendCase.diagnostic_final,
        indicesCliniques: backendCase.indices_cliniques || [],
        erreursCourantes: backendCase.erreurs_courantes || [],
        niveauDifficulte: backendCase.difficulte,
        specialiteMedicale: backendCase.specialite_medicale,
        objectifsPedagogiques: backendCase.objectifs_pedagogiques || []
    };
};

// ============================================================
// FONCTIONS API - CAS CLINIQUES
// ============================================================

/**
 * Récupère tous les cas avec filtres optionnels
 */
export const getCases = async (filters?: {
    keyword?: string;
    min_age?: number;
    max_age?: number;
    gender?: string;
    profession?: string;
    symptom?: string;
    pathologie?: string;
    niveau?: string;
    status?: string;
    limit?: number;
}): Promise<BackendClinicalCase[]> => {
    const params = new URLSearchParams();
    
    if (filters) {
        if (filters.keyword) params.append('keyword', filters.keyword);
        if (filters.min_age) params.append('min_age', filters.min_age.toString());
        if (filters.max_age) params.append('max_age', filters.max_age.toString());
        if (filters.gender) params.append('gender', filters.gender);
        if (filters.profession) params.append('profession', filters.profession);
        if (filters.symptom) params.append('symptom', filters.symptom);
        if (filters.pathologie) params.append('pathologie', filters.pathologie);
        if (filters.niveau) params.append('niveau', filters.niveau);
        if (filters.status) params.append('status', mapStatusToBackend(filters.status as CaseStatus));
        if (filters.limit) params.append('limit', filters.limit.toString());
    }
    
    // CHANGE: Adjusted endpoint to match DRF router path
    const url = `${API_BASE_URL}/api/v1/expert/cas-cliniques/${params.toString() ? '?' + params.toString() : ''}`;
    const response = await fetch(url, {
        headers: getAuthHeaders()
    });
    const data = await handleApiResponse(response);
    // Handle DRF pagination response structure if present
    return Array.isArray(data) ? data : (data.results || []);
};

/**
 * Récupère un cas par son ID
 */
export const getCaseById = async (id: string): Promise<BackendClinicalCase> => {
    // CHANGE: Adjusted endpoint to match DRF router path
    const response = await fetch(`${API_BASE_URL}/api/v1/expert/cas-cliniques/${id}/`, {
        headers: getAuthHeaders()
    });
    return handleApiResponse(response);
};

/**
 * Récupère les statistiques
 */
export const getStats = async (): Promise<BackendStats> => {
    // Endpoint corrigé: l'action stats est sur cas-cliniques
    const response = await fetch(`${API_BASE_URL}/api/v1/expert/cas-cliniques/stats/`, {
        headers: getAuthHeaders()
    });
    return handleApiResponse(response);
};

/**
 * Récupère les filtres disponibles
 */
export const getFilters = async (): Promise<AvailableFilters> => {
    // CHANGE: Adjusted endpoint to match DRF router path (action)
    const response = await fetch(`${API_BASE_URL}/api/v1/expert/cas-cliniques/filters/`, {
        headers: getAuthHeaders()
    });
    return handleApiResponse(response);
};

/**
 * Met à jour le statut d'un cas
 */
export const updateCaseStatus = async (
    caseId: string, 
    newStatus: CaseStatus,
    commentaire?: string,
    validateurId?: string
): Promise<any> => {
    // CHANGE: Adjusted endpoint to match DRF router path (PATCH on resource)
    const headers = getAuthHeaders() as Record<string, string>;
    const response = await fetch(`${API_BASE_URL}/api/v1/expert/cas-cliniques/${caseId}/`, {
        method: 'PATCH',
        headers: {
            ...headers,
            'Content-Type': 'application/json'
        },
        body: JSON.stringify({
            statut: mapStatusToBackend(newStatus), // Field name adjusted to 'statut'
            // Add other fields if supported by serializer
        }),
    });
    return handleApiResponse(response);
};

/**
 * Déclenche la régénération des cas
 */
export const forceExtraction = async (): Promise<any> => {
    const response = await fetch(`${API_BASE_URL}/api/extract/refresh`, {
        method: 'POST',
    });
    return handleApiResponse(response);
};

/**
 * Exporte les cas filtrés
 */
export const exportCases = async (filters?: {
    pathologie?: string;
    niveau?: string;
    status?: string;
}): Promise<any> => {
    const params = new URLSearchParams();
    if (filters) {
        if (filters.pathologie) params.append('pathologie', filters.pathologie);
        if (filters.niveau) params.append('niveau', filters.niveau);
        if (filters.status) params.append('status', filters.status);
    }
    
    const url = `${API_BASE_URL}/api/export${params.toString() ? '?' + params.toString() : ''}`;
    const response = await fetch(url);
    return handleApiResponse(response);
};


// ============================================================
// FONCTIONS API - DASHBOARD EXPERT
// ============================================================

/**
 * Récupère les données du dashboard expert (KPIs + liste des cas)
 */
export const getExpertDashboardData = async (): Promise<DashboardData> => {
    try {
        // Récupérer les stats et les cas en parallèle
        const [stats, cases] = await Promise.all([
            getStats(),
            getCases(),
        ]);

        // Mapper les cas pour le tableau
        const mappedCases = cases.map(mapCaseToExpertData);

        // Extraire les KPIs des stats
        // Note: Backend keys match Django TextChoices (PUBLIE, EN_REVISION, EN_COURS, REJETE, BROUILLON_IA)
        const pendingCases = (stats.par_status?.EN_REVISION || 0) + (stats.par_status?.BROUILLON_IA || 0) + (stats.par_status?.en_attente || 0);
        const enCoursCases = stats.par_status?.EN_COURS || 0;
        const validatedCases = (stats.par_status?.PUBLIE || 0) + (stats.par_status?.valide || 0);
        const rejectedCases = (stats.par_status?.REJETE || 0) + (stats.par_status?.rejete || 0);

        return {
            kpis: {
                totalCases: stats.total_cas,
                pendingCases,
                enCoursCases,
                validatedCases,
                rejectedCases,
                trendTotal: { value: 12, period: "depuis le mois dernier" },
                trendPending: { value: 8, period: "cette semaine" },
                trendValidated: { value: 8, period: "cette semaine" },
            },
            cases: mappedCases,
        };
    } catch (error) {
        console.error("Erreur lors de la récupération des données dashboard:", error);
        throw error;
    }
};

/**
 * Récupère un cas pour la page de review
 */
export const getCaseForReview = async (caseId: string): Promise<CaseReviewData> => {
    try {
        const backendCase = await getCaseById(caseId);
        return mapCaseToReviewData(backendCase);
    } catch (error) {
        console.error(`Erreur lors de la récupération du cas ${caseId}:`, error);
        throw error;
    }
};


// ============================================================
// FONCTIONS API - ACTIONS EXPERT
// ============================================================

/**
 * Valide un cas clinique (utilise le nouvel endpoint dédié)
 */
export const validateCase = async (caseId: string, commentaire?: string): Promise<any> => {
    const response = await fetch(`${API_BASE_URL}/api/v1/expert/cas-cliniques/${caseId}/valider/`, {
        method: 'POST',
        headers: getAuthHeaders(),
        body: JSON.stringify({ commentaire: commentaire || '' }),
    });
    return handleApiResponse(response);
};

/**
 * Rejette un cas clinique avec formulaire détaillé (selon PDF)
 */
export const rejectCase = async (
    caseId: string,
    raison: string,
    partiesConcernees?: string[],
    emailNotification?: string,
    commentaire?: string
): Promise<any> => {
    const response = await fetch(`${API_BASE_URL}/api/v1/expert/cas-cliniques/${caseId}/rejeter/`, {
        method: 'POST',
        headers: getAuthHeaders(),
        body: JSON.stringify({
            raison,
            parties_concernees: partiesConcernees || [],
            email_notification: emailNotification || '',
            commentaire: commentaire || ''
        }),
    });
    return handleApiResponse(response);
};

/**
 * Met un cas en cours de traitement par l'expert
 */
export const setEnCours = async (caseId: string, commentaire?: string): Promise<any> => {
    const response = await fetch(`${API_BASE_URL}/api/v1/expert/cas-cliniques/${caseId}/en-cours/`, {
        method: 'POST',
        headers: getAuthHeaders(),
        body: JSON.stringify({ commentaire: commentaire || '' }),
    });
    return handleApiResponse(response);
};

/**
 * Publie un cas (alias de validateCase pour compatibilité)
 */
export const publishCase = async (caseId: string): Promise<any> => {
    return validateCase(caseId, "Publié par l'expert");
};

/**
 * Met à jour un cas (sauvegarde brouillon)
 */
export const updateCase = async (caseId: string, data: any): Promise<any> => {
    // Pour l'instant, on log les données
    // TODO: Implémenter l'endpoint de mise à jour côté backend si nécessaire
    console.log(`Sauvegarde brouillon pour ${caseId}:`, data);
    return { status: "success", message: "Brouillon sauvegardé" };
};


// ============================================================
// FONCTIONS API - FILTRES POUR LE TABLEAU
// ============================================================

/**
 * Récupère les options de filtres pour le tableau des cas
 */
export const getFilterOptions = async (): Promise<{
    domains: string[];
    statuses: { value: string; label: string }[];
    ageRanges: { value: string; label: string; min: number; max: number }[];
    genders: { value: string; label: string }[];
}> => {
    try {
        const filters = await getFilters();
        
        return {
            domains: filters.pathologies || [],
            statuses: [
                { value: "all", label: "Tous les statuts" },
                { value: "attente", label: "En attente" },
                { value: "en_cours", label: "En cours" },
                { value: "validé", label: "Validé" },
                { value: "rejeté", label: "Rejeté" },
            ],
            ageRanges: [
                { value: "all", label: "Tous les âges", min: 0, max: 150 },
                { value: "21-35", label: "21-35 ans", min: 21, max: 35 },
                { value: "36-55", label: "36-55 ans", min: 36, max: 55 },
                { value: "56+", label: "56+ ans", min: 56, max: 150 },
            ],
            genders: [
                { value: "all", label: "Tous" },
                { value: "M", label: "Homme" },
                { value: "F", label: "Femme" },
            ],
        };
    } catch (error) {
        console.error("Erreur lors de la récupération des filtres:", error);
        // Retourner des valeurs par défaut en cas d'erreur
        return {
            domains: [],
            statuses: [
                { value: "all", label: "Tous les statuts" },
                { value: "attente", label: "En attente" },
                { value: "en_cours", label: "En cours" },
                { value: "validé", label: "Validé" },
                { value: "rejeté", label: "Rejeté" },
            ],
            ageRanges: [
                { value: "all", label: "Tous les âges", min: 0, max: 150 },
                { value: "21-35", label: "21-35 ans", min: 21, max: 35 },
                { value: "36-55", label: "36-55 ans", min: 36, max: 55 },
                { value: "56+", label: "56+ ans", min: 56, max: 150 },
            ],
            genders: [
                { value: "all", label: "Tous" },
                { value: "M", label: "Homme" },
                { value: "F", label: "Femme" },
            ],
        };
    }
};


// ============================================================
// ANCIENNES FONCTIONS (Compatibilité)
// ============================================================

export const getExpertProfile = async () => {
    console.warn("API non implémentée: getExpertProfile.");
    return { specialty: "Non défini", bio: "" };
};

export const updateExpertProfile = async (data: any) => {
    console.warn("API non implémentée: updateExpertProfile.");
    return { status: "success", message: "Profil mis à jour (simulation)." };
};

export const getDomaines = async () => {
    try {
        // Endpoint public : pas de token nécessaire pour éviter les 401 si token invalide stocké
        const response = await fetch(`${API_BASE_URL}/api/v1/expert/domaines/`, {
            headers: {
                "Content-Type": "application/json"
            }
        });
        const data = await handleApiResponse(response);
        // L'API DRF retourne soit une liste directe, soit un objet paginé { results: [...] }
        // Si c'est paginé, on prend .results, sinon on prend la réponse telle quelle.
        const results = Array.isArray(data) ? data : (data.results || []);
        
        return results.map((d: any) => ({
            id: d.id,
            nom: d.nom
        }));
    } catch (error) {
        console.error("Erreur getDomaines:", error);
        return [];
    }
};

// Auth functions - Mode Mock pour le développement
// TODO: Remplacer par de vrais appels API quand le backend auth sera prêt

export const apprenantRegister = async (data: { nom: string; email: string; password: string }) => {
    const response = await fetch(`${API_BASE_URL}/api/v1/auth/register/`, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(data),
    });
    return await handleApiResponse(response);
};

export const apprenantLogin = async (data: { email: string; password: string }) => {
    const response = await fetch(`${API_BASE_URL}/api/v1/auth/login/`, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(data),
    });
    return await handleApiResponse(response);
};

export const expertRegister = async (data: {
    nom: string;
    email: string;
    password: string;
    matricule: string;
    domaine_expertise_id: string;
}) => {
    const response = await fetch(`${API_BASE_URL}/api/v1/auth/expert/register/`, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(data),
    });
    return await handleApiResponse(response);
};

export const expertLogin = async (data: { email: string; password: string }) => {
    const response = await fetch(`${API_BASE_URL}/api/v1/auth/expert/login/`, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(data),
    });
    return await handleApiResponse(response);
};

export const logout = async (token: string) => {
    // Simuler un délai réseau
    await new Promise(resolve => setTimeout(resolve, 200));
    return { status: "success" };
};

// Session functions (à implémenter)
export const startSession = (email_apprenant: string, domaine_nom: string, token: string) => {
    console.warn("Session non implémentée");
    return Promise.resolve({ status: "success" });
};

export const analyseResponse = (session_id: string, reponse_etudiant: string, token: string) => {
    console.warn("Session non implémentée");
    return Promise.resolve({ status: "success" });
};

export const getSessionState = (session_id: string, token: string) => {
    console.warn("Session non implémentée");
    return Promise.resolve({ status: "success" });
};

export const getSessionsByDomain = async (apprenantId: string, domaineNom: string, token: string) => {
    console.warn("Session non implémentée");
    return [];
};

export const deleteSession = async (sessionId: string, token: string) => {
    console.warn("Session non implémentée");
    return { status: "success" };
};

// ============================================================
// API PROFILING (Module Apprenant)
// ============================================================

export type ProfilingQuestion = {
    id: number;
    competence: string;
    situation: string;
    question_text: string;
    options: { texte: string; score: number; feedback: string }[];
};

export const getProfilingQuestions = async (token: string): Promise<ProfilingQuestion[]> => {
    const response = await fetch(`${API_BASE_URL}/api/v1/apprenant/questions-profiling/`, {
        method: "GET",
        headers: {
            "Content-Type": "application/json",
            "Authorization": `Token ${token}`,
        },
    });
    return await handleApiResponse(response);
};

export const submitProfiling = async (reponses: { [questionId: number]: number }, token: string) => {
    const response = await fetch(`${API_BASE_URL}/api/v1/apprenant/questions-profiling/submit/`, {
        method: "POST",
        headers: {
            "Content-Type": "application/json",
            "Authorization": `Token ${token}`,
        },
        body: JSON.stringify({ reponses }),
    });
    return await handleApiResponse(response);
};

// --- Tutor / Chat API ---

export interface TutorSessionStartResponse {
    session_id: string;
    message: string;
}

export interface EvaluationData {
  competence: string;
  question: string;
  options: string[];
  correct_answer: string;
  explanation: string;
}

export interface TutorInteractionResponse {
    status: string;
    latest_exchange: {
        patient: string;
        tutor: string;
    };
    chat_history: {
        person: "doctor" | "patient";
        message: string;
    }[];
     student_profile: any;
     formative_evaluation?: EvaluationData;
}

export const startTutorSession = async (emailApprenant: string, domaineNom: string): Promise<TutorSessionStartResponse> => {
    const response = await fetch(`${API_BASE_URL}/api/v1/tuteur/session/start/`, {
        method: "POST",
        headers: getAuthHeaders(),
        body: JSON.stringify({
            email_apprenant: emailApprenant,
            domaine_nom: domaineNom
        }),
    });
    return handleApiResponse(response);
}

export const sendTutorMessage = async (sessionId: string, messageEtudiant: string): Promise<TutorInteractionResponse> => {
    const response = await fetch(`${API_BASE_URL}/api/v1/tuteur/session/analyser/`, {
        method: "POST",
        headers: getAuthHeaders(),
        body: JSON.stringify({
            session_id: sessionId,
            reponse_etudiant: messageEtudiant
        }),
    });
    return handleApiResponse(response);
}

export const getTutorSessionState = async (sessionId: string) => {
    const response = await fetch(`${API_BASE_URL}/api/v1/tuteur/session/${sessionId}/state/`, {
        method: "GET",
        headers: getAuthHeaders(),
    });
    return handleApiResponse(response);
}

export interface SummativeData {
  score_global: number;
  score_communication: number;
  score_anamnese: number;
  score_diagnostic: number;
  score_prise_en_charge: number;
  difficultes_identifiees: string[];
  points_forts: string[];
  feedback_global: string;
}

export const endTutorSession = async (sessionId: string): Promise<SummativeData> => {
    const response = await fetch(`${API_BASE_URL}/api/v1/tuteur/session/end/`, {
        method: "POST",
        headers: getAuthHeaders(),
        body: JSON.stringify({
            session_id: sessionId
        }),
    });
    return handleApiResponse(response);
}



// END OF FILE: lib/api.ts

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/lib/utils.ts

import { clsx, type ClassValue } from "clsx"
import { twMerge } from "tailwind-merge"

export function cn(...inputs: ClassValue[]) {
  return twMerge(clsx(inputs))
}
// END OF FILE: lib/utils.ts

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/next.config.ts

import type { NextConfig } from "next";

const nextConfig: NextConfig = {
  // On supprime la section 'rewrites' car elle entre en conflit avec notre route API Proxy
  // et ne permet pas d'injecter le token Clerk facilement.
};

export default nextConfig;// END OF FILE: next.config.ts

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/next-env.d.ts

/// <reference types="next" />
/// <reference types="next/image-types/global" />
import "./.next/types/routes.d.ts";

// NOTE: This file should not be edited
// see https://nextjs.org/docs/app/api-reference/config/typescript for more information.
// END OF FILE: next-env.d.ts

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/outil

origin  https://github.com/frankettheofranckettheo/front-end-projetSTI (fetch)
origin  https://github.com/frankettheofranckettheo/front-end-projetSTI (push)


https://github.com/Mbogneng-Junior/sti_frontend// END OF FILE: outil

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/package.json

{
  "name": "projetsti",
  "version": "0.1.0",
  "private": true,
  "scripts": {
    "dev": "next dev",
    "build": "next build",
    "start": "next start",
    "lint": "eslint"
  },
  "dependencies": {
    "@radix-ui/react-alert-dialog": "^1.1.15",
    "@radix-ui/react-avatar": "^1.1.11",
    "@radix-ui/react-dialog": "^1.1.15",
    "@radix-ui/react-dropdown-menu": "^2.1.16",
    "@radix-ui/react-label": "^2.1.8",
    "@radix-ui/react-progress": "^1.1.8",
    "@radix-ui/react-radio-group": "^1.3.8",
    "@radix-ui/react-scroll-area": "^1.2.10",
    "@radix-ui/react-select": "^2.2.6",
    "@radix-ui/react-separator": "^1.1.8",
    "@radix-ui/react-slot": "^1.2.4",
    "@radix-ui/react-tabs": "^1.1.13",
    "@radix-ui/react-tooltip": "^1.2.8",
    "class-variance-authority": "^0.7.1",
    "clsx": "^2.1.1",
    "driver.js": "^1.4.0",
    "framer-motion": "^12.27.0",
    "lucide-react": "^0.556.0",
    "next": "^16.1.2",
    "react": "^19.2.1",
    "react-dom": "^19.2.1",
    "sonner": "^2.0.7",
    "tailwind-merge": "^3.4.0",
    "tailwindcss-animate": "^1.0.7"
  },
  "devDependencies": {
    "@tailwindcss/postcss": "^4",
    "@types/node": "^20",
    "@types/react": "^19",
    "@types/react-dom": "^19",
    "eslint": "^9",
    "eslint-config-next": "16.0.8",
    "tailwindcss": "^4",
    "typescript": "^5"
  }
}
// END OF FILE: package.json

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/postcss.config.mjs

const config = {
  plugins: {
    "@tailwindcss/postcss": {},
  },
};

export default config;
// END OF FILE: postcss.config.mjs

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/public/Angry_Red_Vector_Face.png

[Non-text file (e.g., binary, data, compressed) - Contents omitted]
// END OF FILE: public/Angry_Red_Vector_Face.png

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/public/avc.png

[Non-text file (e.g., binary, data, compressed) - Contents omitted]
// END OF FILE: public/avc.png

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/public/Bored_Skeptical_Face_Icon.png

[Non-text file (e.g., binary, data, compressed) - Contents omitted]
// END OF FILE: public/Bored_Skeptical_Face_Icon.png

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/public/cervical_cancer.png

[Non-text file (e.g., binary, data, compressed) - Contents omitted]
// END OF FILE: public/cervical_cancer.png

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/public/diabete.png

[Non-text file (e.g., binary, data, compressed) - Contents omitted]
// END OF FILE: public/diabete.png

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/public/Dizzy_Knocked_Out_Emoji_Red.png

[Non-text file (e.g., binary, data, compressed) - Contents omitted]
// END OF FILE: public/Dizzy_Knocked_Out_Emoji_Red.png

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/public/file.svg

[Non-text file (e.g., binary, data, compressed) - Contents omitted]
// END OF FILE: public/file.svg

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/public/globe.svg

[Non-text file (e.g., binary, data, compressed) - Contents omitted]
// END OF FILE: public/globe.svg

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/public/heart.png

[Non-text file (e.g., binary, data, compressed) - Contents omitted]
// END OF FILE: public/heart.png

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/public/learn.png

[Non-text file (e.g., binary, data, compressed) - Contents omitted]
// END OF FILE: public/learn.png

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/public/Minimal_Geometric_Smirk_Face_Icon.png

[Non-text file (e.g., binary, data, compressed) - Contents omitted]
// END OF FILE: public/Minimal_Geometric_Smirk_Face_Icon.png

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/public/Mobile_Game_Character_Spritesheet.png

[Non-text file (e.g., binary, data, compressed) - Contents omitted]
// END OF FILE: public/Mobile_Game_Character_Spritesheet.png

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/public/next.svg

[Non-text file (e.g., binary, data, compressed) - Contents omitted]
// END OF FILE: public/next.svg

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/public/paludisme.png

[Non-text file (e.g., binary, data, compressed) - Contents omitted]
// END OF FILE: public/paludisme.png

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/public/points.png

[Non-text file (e.g., binary, data, compressed) - Contents omitted]
// END OF FILE: public/points.png

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/public/Sad_Apologetic_Flat_Icon.png

[Non-text file (e.g., binary, data, compressed) - Contents omitted]
// END OF FILE: public/Sad_Apologetic_Flat_Icon.png

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/public/Sad_Geometric_Navy_Face_Icon.png

[Non-text file (e.g., binary, data, compressed) - Contents omitted]
// END OF FILE: public/Sad_Geometric_Navy_Face_Icon.png

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/public/shop.png

[Non-text file (e.g., binary, data, compressed) - Contents omitted]
// END OF FILE: public/shop.png

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/public/target.png

[Non-text file (e.g., binary, data, compressed) - Contents omitted]
// END OF FILE: public/target.png

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/public/vercel.svg

[Non-text file (e.g., binary, data, compressed) - Contents omitted]
// END OF FILE: public/vercel.svg

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/public/window.svg

[Non-text file (e.g., binary, data, compressed) - Contents omitted]
// END OF FILE: public/window.svg

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/README.md

This is a [Next.js](https://nextjs.org) project bootstrapped with [`create-next-app`](https://nextjs.org/docs/app/api-reference/cli/create-next-app).

## Getting Started

First, run the development server:

```bash
npm run dev
# or
yarn dev
# or
pnpm dev
# or
bun dev
```

Open [http://localhost:3000](http://localhost:3000) with your browser to see the result.

You can start editing the page by modifying `app/page.tsx`. The page auto-updates as you edit the file.

This project uses [`next/font`](https://nextjs.org/docs/app/building-your-application/optimizing/fonts) to automatically optimize and load [Geist](https://vercel.com/font), a new font family for Vercel.

## Learn More

To learn more about Next.js, take a look at the following resources:

- [Next.js Documentation](https://nextjs.org/docs) - learn about Next.js features and API.
- [Learn Next.js](https://nextjs.org/learn) - an interactive Next.js tutorial.

You can check out [the Next.js GitHub repository](https://github.com/vercel/next.js) - your feedback and contributions are welcome!

## Deploy on Vercel

The easiest way to deploy your Next.js app is to use the [Vercel Platform](https://vercel.com/new?utm_medium=default-template&filter=next.js&utm_source=create-next-app&utm_campaign=create-next-app-readme) from the creators of Next.js.

Check out our [Next.js deployment documentation](https://nextjs.org/docs/app/building-your-application/deploying) for more details.
// END OF FILE: README.md

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/tailwind.config.js

/** @type {import('tailwindcss').Config} */
module.exports = {
  content: [
    './app/**/*.{js,ts,jsx,tsx,mdx}',
    './pages/**/*.{js,ts,jsx,tsx,mdx}',
    './components/**/*.{js,ts,jsx,tsx,mdx}',
  ],
  theme: {
    extend: {},
  },
  plugins: [],
}// END OF FILE: tailwind.config.js

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/tsconfig.json

{
  "compilerOptions": {
    "target": "ES2017",
    "lib": [
      "dom",
      "dom.iterable",
      "esnext"
    ],
    "allowJs": true,
    "skipLibCheck": true,
    "strict": true,
    "noEmit": true,
    "esModuleInterop": true,
    "module": "esnext",
    "moduleResolution": "bundler",
    "resolveJsonModule": true,
    "isolatedModules": true,
    "jsx": "react-jsx",
    "incremental": true,
    "plugins": [
      {
        "name": "next"
      }
    ],
    "paths": {
      "@/*": [
        "./*"
      ]
    }
  },
  "include": [
    "next-env.d.ts",
    "**/*.ts",
    "**/*.tsx",
    ".next/types/**/*.ts",
    ".next/dev/types/**/*.ts",
    "**/*.mts"
  ],
  "exclude": [
    "node_modules"
  ]
}
// END OF FILE: tsconfig.json

//---> PATH: /home/mbogneng-junior/Documents/5GI/Projets/STI/STI_GLOBAL/frontend/tsconfig.tsbuildinfo

{"fileNames":["./node_modules/typescript/lib/lib.es5.d.ts","./node_modules/typescript/lib/lib.es2015.d.ts","./node_modules/typescript/lib/lib.es2016.d.ts","./node_modules/typescript/lib/lib.es2017.d.ts","./node_modules/typescript/lib/lib.es2018.d.ts","./node_modules/typescript/lib/lib.es2019.d.ts","./node_modules/typescript/lib/lib.es2020.d.ts","./node_modules/typescript/lib/lib.es2021.d.ts","./node_modules/typescript/lib/lib.es2022.d.ts","./node_modules/typescript/lib/lib.es2023.d.ts","./node_modules/typescript/lib/lib.es2024.d.ts","./node_modules/typescript/lib/lib.esnext.d.ts","./node_modules/typescript/lib/lib.dom.d.ts","./node_modules/typescript/lib/lib.dom.iterable.d.ts","./node_modules/typescript/lib/lib.es2015.core.d.ts","./node_modules/typescript/lib/lib.es2015.collection.d.ts","./node_modules/typescript/lib/lib.es2015.generator.d.ts","./node_modules/typescript/lib/lib.es2015.iterable.d.ts","./node_modules/typescript/lib/lib.es2015.promise.d.ts","./node_modules/typescript/lib/lib.es2015.proxy.d.ts","./node_modules/typescript/lib/lib.es2015.reflect.d.ts","./node_modules/typescript/lib/lib.es2015.symbol.d.ts","./node_modules/typescript/lib/lib.es2015.symbol.wellknown.d.ts","./node_modules/typescript/lib/lib.es2016.array.include.d.ts","./node_modules/typescript/lib/lib.es2016.intl.d.ts","./node_modules/typescript/lib/lib.es2017.arraybuffer.d.ts","./node_modules/typescript/lib/lib.es2017.date.d.ts","./node_modules/typescript/lib/lib.es2017.object.d.ts","./node_modules/typescript/lib/lib.es2017.sharedmemory.d.ts","./node_modules/typescript/lib/lib.es2017.string.d.ts","./node_modules/typescript/lib/lib.es2017.intl.d.ts","./node_modules/typescript/lib/lib.es2017.typedarrays.d.ts","./node_modules/typescript/lib/lib.es2018.asyncgenerator.d.ts","./node_modules/typescript/lib/lib.es2018.asynciterable.d.ts","./node_modules/typescript/lib/lib.es2018.intl.d.ts","./node_modules/typescript/lib/lib.es2018.promise.d.ts","./node_modules/typescript/lib/lib.es2018.regexp.d.ts","./node_modules/typescript/lib/lib.es2019.array.d.ts","./node_modules/typescript/lib/lib.es2019.object.d.ts","./node_modules/typescript/lib/lib.es2019.string.d.ts","./node_modules/typescript/lib/lib.es2019.symbol.d.ts","./node_modules/typescript/lib/lib.es2019.intl.d.ts","./node_modules/typescript/lib/lib.es2020.bigint.d.ts","./node_modules/typescript/lib/lib.es2020.date.d.ts","./node_modules/typescript/lib/lib.es2020.promise.d.ts","./node_modules/typescript/lib/lib.es2020.sharedmemory.d.ts","./node_modules/typescript/lib/lib.es2020.string.d.ts","./node_modules/typescript/lib/lib.es2020.symbol.wellknown.d.ts","./node_modules/typescript/lib/lib.es2020.intl.d.ts","./node_modules/typescript/lib/lib.es2020.number.d.ts","./node_modules/typescript/lib/lib.es2021.promise.d.ts","./node_modules/typescript/lib/lib.es2021.string.d.ts","./node_modules/typescript/lib/lib.es2021.weakref.d.ts","./node_modules/typescript/lib/lib.es2021.intl.d.ts","./node_modules/typescript/lib/lib.es2022.array.d.ts","./node_modules/typescript/lib/lib.es2022.error.d.ts","./node_modules/typescript/lib/lib.es2022.intl.d.ts","./node_modules/typescript/lib/lib.es2022.object.d.ts","./node_modules/typescript/lib/lib.es2022.string.d.ts","./node_modules/typescript/lib/lib.es2022.regexp.d.ts","./node_modules/typescript/lib/lib.es2023.array.d.ts","./node_modules/typescript/lib/lib.es2023.collection.d.ts","./node_modules/typescript/lib/lib.es2023.intl.d.ts","./node_modules/typescript/lib/lib.es2024.arraybuffer.d.ts","./node_modules/typescript/lib/lib.es2024.collection.d.ts","./node_modules/typescript/lib/lib.es2024.object.d.ts","./node_modules/typescript/lib/lib.es2024.promise.d.ts","./node_modules/typescript/lib/lib.es2024.regexp.d.ts","./node_modules/typescript/lib/lib.es2024.sharedmemory.d.ts","./node_modules/typescript/lib/lib.es2024.string.d.ts","./node_modules/typescript/lib/lib.esnext.array.d.ts","./node_modules/typescript/lib/lib.esnext.collection.d.ts","./node_modules/typescript/lib/lib.esnext.intl.d.ts","./node_modules/typescript/lib/lib.esnext.disposable.d.ts","./node_modules/typescript/lib/lib.esnext.promise.d.ts","./node_modules/typescript/lib/lib.esnext.decorators.d.ts","./node_modules/typescript/lib/lib.esnext.iterator.d.ts","./node_modules/typescript/lib/lib.esnext.float16.d.ts","./node_modules/typescript/lib/lib.esnext.error.d.ts","./node_modules/typescript/lib/lib.esnext.sharedmemory.d.ts","./node_modules/typescript/lib/lib.decorators.d.ts","./node_modules/typescript/lib/lib.decorators.legacy.d.ts","./node_modules/@types/react/global.d.ts","./node_modules/csstype/index.d.ts","./node_modules/@types/react/index.d.ts","./node_modules/next/dist/styled-jsx/types/css.d.ts","./node_modules/next/dist/styled-jsx/types/macro.d.ts","./node_modules/next/dist/styled-jsx/types/style.d.ts","./node_modules/next/dist/styled-jsx/types/global.d.ts","./node_modules/next/dist/styled-jsx/types/index.d.ts","./node_modules/next/dist/server/get-page-files.d.ts","./node_modules/@types/node/compatibility/disposable.d.ts","./node_modules/@types/node/compatibility/indexable.d.ts","./node_modules/@types/node/compatibility/iterators.d.ts","./node_modules/@types/node/compatibility/index.d.ts","./node_modules/@types/node/globals.typedarray.d.ts","./node_modules/@types/node/buffer.buffer.d.ts","./node_modules/@types/node/globals.d.ts","./node_modules/@types/node/web-globals/abortcontroller.d.ts","./node_modules/@types/node/web-globals/domexception.d.ts","./node_modules/@types/node/web-globals/events.d.ts","./node_modules/undici-types/header.d.ts","./node_modules/undici-types/readable.d.ts","./node_modules/undici-types/file.d.ts","./node_modules/undici-types/fetch.d.ts","./node_modules/undici-types/formdata.d.ts","./node_modules/undici-types/connector.d.ts","./node_modules/undici-types/client.d.ts","./node_modules/undici-types/errors.d.ts","./node_modules/undici-types/dispatcher.d.ts","./node_modules/undici-types/global-dispatcher.d.ts","./node_modules/undici-types/global-origin.d.ts","./node_modules/undici-types/pool-stats.d.ts","./node_modules/undici-types/pool.d.ts","./node_modules/undici-types/handlers.d.ts","./node_modules/undici-types/balanced-pool.d.ts","./node_modules/undici-types/agent.d.ts","./node_modules/undici-types/mock-interceptor.d.ts","./node_modules/undici-types/mock-agent.d.ts","./node_modules/undici-types/mock-client.d.ts","./node_modules/undici-types/mock-pool.d.ts","./node_modules/undici-types/mock-errors.d.ts","./node_modules/undici-types/proxy-agent.d.ts","./node_modules/undici-types/env-http-proxy-agent.d.ts","./node_modules/undici-types/retry-handler.d.ts","./node_modules/undici-types/retry-agent.d.ts","./node_modules/undici-types/api.d.ts","./node_modules/undici-types/interceptors.d.ts","./node_modules/undici-types/util.d.ts","./node_modules/undici-types/cookies.d.ts","./node_modules/undici-types/patch.d.ts","./node_modules/undici-types/websocket.d.ts","./node_modules/undici-types/eventsource.d.ts","./node_modules/undici-types/filereader.d.ts","./node_modules/undici-types/diagnostics-channel.d.ts","./node_modules/undici-types/content-type.d.ts","./node_modules/undici-types/cache.d.ts","./node_modules/undici-types/index.d.ts","./node_modules/@types/node/web-globals/fetch.d.ts","./node_modules/@types/node/assert.d.ts","./node_modules/@types/node/assert/strict.d.ts","./node_modules/@types/node/async_hooks.d.ts","./node_modules/@types/node/buffer.d.ts","./node_modules/@types/node/child_process.d.ts","./node_modules/@types/node/cluster.d.ts","./node_modules/@types/node/console.d.ts","./node_modules/@types/node/constants.d.ts","./node_modules/@types/node/crypto.d.ts","./node_modules/@types/node/dgram.d.ts","./node_modules/@types/node/diagnostics_channel.d.ts","./node_modules/@types/node/dns.d.ts","./node_modules/@types/node/dns/promises.d.ts","./node_modules/@types/node/domain.d.ts","./node_modules/@types/node/events.d.ts","./node_modules/@types/node/fs.d.ts","./node_modules/@types/node/fs/promises.d.ts","./node_modules/@types/node/http.d.ts","./node_modules/@types/node/http2.d.ts","./node_modules/@types/node/https.d.ts","./node_modules/@types/node/inspector.generated.d.ts","./node_modules/@types/node/module.d.ts","./node_modules/@types/node/net.d.ts","./node_modules/@types/node/os.d.ts","./node_modules/@types/node/path.d.ts","./node_modules/@types/node/perf_hooks.d.ts","./node_modules/@types/node/process.d.ts","./node_modules/@types/node/punycode.d.ts","./node_modules/@types/node/querystring.d.ts","./node_modules/@types/node/readline.d.ts","./node_modules/@types/node/readline/promises.d.ts","./node_modules/@types/node/repl.d.ts","./node_modules/@types/node/sea.d.ts","./node_modules/@types/node/stream.d.ts","./node_modules/@types/node/stream/promises.d.ts","./node_modules/@types/node/stream/consumers.d.ts","./node_modules/@types/node/stream/web.d.ts","./node_modules/@types/node/string_decoder.d.ts","./node_modules/@types/node/test.d.ts","./node_modules/@types/node/timers.d.ts","./node_modules/@types/node/timers/promises.d.ts","./node_modules/@types/node/tls.d.ts","./node_modules/@types/node/trace_events.d.ts","./node_modules/@types/node/tty.d.ts","./node_modules/@types/node/url.d.ts","./node_modules/@types/node/util.d.ts","./node_modules/@types/node/v8.d.ts","./node_modules/@types/node/vm.d.ts","./node_modules/@types/node/wasi.d.ts","./node_modules/@types/node/worker_threads.d.ts","./node_modules/@types/node/zlib.d.ts","./node_modules/@types/node/index.d.ts","./node_modules/@types/react/canary.d.ts","./node_modules/@types/react/experimental.d.ts","./node_modules/@types/react-dom/index.d.ts","./node_modules/@types/react-dom/canary.d.ts","./node_modules/@types/react-dom/experimental.d.ts","./node_modules/next/dist/lib/fallback.d.ts","./node_modules/next/dist/compiled/webpack/webpack.d.ts","./node_modules/next/dist/shared/lib/modern-browserslist-target.d.ts","./node_modules/next/dist/shared/lib/entry-constants.d.ts","./node_modules/next/dist/shared/lib/constants.d.ts","./node_modules/next/dist/server/config.d.ts","./node_modules/next/dist/lib/load-custom-routes.d.ts","./node_modules/next/dist/shared/lib/image-config.d.ts","./node_modules/next/dist/build/webpack/plugins/subresource-integrity-plugin.d.ts","./node_modules/next/dist/server/body-streams.d.ts","./node_modules/next/dist/server/lib/cache-control.d.ts","./node_modules/next/dist/lib/setup-exception-listeners.d.ts","./node_modules/next/dist/lib/worker.d.ts","./node_modules/next/dist/lib/constants.d.ts","./node_modules/next/dist/lib/bundler.d.ts","./node_modules/next/dist/server/lib/experimental/ppr.d.ts","./node_modules/next/dist/lib/page-types.d.ts","./node_modules/next/dist/build/segment-config/app/app-segment-config.d.ts","./node_modules/next/dist/build/segment-config/pages/pages-segment-config.d.ts","./node_modules/next/dist/build/analysis/get-page-static-info.d.ts","./node_modules/next/dist/build/webpack/loaders/get-module-build-info.d.ts","./node_modules/next/dist/build/webpack/plugins/middleware-plugin.d.ts","./node_modules/next/dist/server/require-hook.d.ts","./node_modules/next/dist/server/node-polyfill-crypto.d.ts","./node_modules/next/dist/server/node-environment-baseline.d.ts","./node_modules/next/dist/server/node-environment-extensions/error-inspect.d.ts","./node_modules/next/dist/server/node-environment-extensions/console-file.d.ts","./node_modules/next/dist/server/node-environment-extensions/console-exit.d.ts","./node_modules/next/dist/server/node-environment-extensions/console-dim.external.d.ts","./node_modules/next/dist/server/node-environment-extensions/unhandled-rejection.d.ts","./node_modules/next/dist/server/node-environment-extensions/random.d.ts","./node_modules/next/dist/server/node-environment-extensions/date.d.ts","./node_modules/next/dist/server/node-environment-extensions/web-crypto.d.ts","./node_modules/next/dist/server/node-environment-extensions/node-crypto.d.ts","./node_modules/next/dist/server/node-environment-extensions/fast-set-immediate.external.d.ts","./node_modules/next/dist/server/node-environment.d.ts","./node_modules/next/dist/build/page-extensions-type.d.ts","./node_modules/next/dist/server/route-kind.d.ts","./node_modules/next/dist/server/route-definitions/route-definition.d.ts","./node_modules/next/dist/server/route-definitions/app-page-route-definition.d.ts","./node_modules/next/dist/server/lib/cache-handlers/types.d.ts","./node_modules/next/dist/server/response-cache/types.d.ts","./node_modules/next/dist/server/resume-data-cache/cache-store.d.ts","./node_modules/next/dist/server/resume-data-cache/resume-data-cache.d.ts","./node_modules/next/dist/client/components/app-router-headers.d.ts","./node_modules/next/dist/server/render-result.d.ts","./node_modules/next/dist/server/instrumentation/types.d.ts","./node_modules/next/dist/lib/coalesced-function.d.ts","./node_modules/next/dist/shared/lib/router/utils/middleware-route-matcher.d.ts","./node_modules/next/dist/server/lib/router-utils/types.d.ts","./node_modules/next/dist/trace/types.d.ts","./node_modules/next/dist/trace/trace.d.ts","./node_modules/next/dist/trace/shared.d.ts","./node_modules/next/dist/trace/index.d.ts","./node_modules/next/dist/build/load-jsconfig.d.ts","./node_modules/@next/env/dist/index.d.ts","./node_modules/next/dist/build/webpack/plugins/telemetry-plugin/use-cache-tracker-utils.d.ts","./node_modules/next/dist/build/webpack/plugins/telemetry-plugin/telemetry-plugin.d.ts","./node_modules/next/dist/telemetry/storage.d.ts","./node_modules/next/dist/build/build-context.d.ts","./node_modules/next/dist/shared/lib/bloom-filter.d.ts","./node_modules/next/dist/build/webpack-config.d.ts","./node_modules/next/dist/build/swc/generated-native.d.ts","./node_modules/next/dist/build/swc/types.d.ts","./node_modules/next/dist/server/dev/parse-version-info.d.ts","./node_modules/next/dist/next-devtools/shared/types.d.ts","./node_modules/next/dist/server/dev/dev-indicator-server-state.d.ts","./node_modules/next/dist/next-devtools/dev-overlay/cache-indicator.d.ts","./node_modules/next/dist/server/lib/parse-stack.d.ts","./node_modules/next/dist/next-devtools/server/shared.d.ts","./node_modules/next/dist/next-devtools/shared/stack-frame.d.ts","./node_modules/next/dist/next-devtools/dev-overlay/utils/get-error-by-type.d.ts","./node_modules/@types/react/jsx-runtime.d.ts","./node_modules/next/dist/next-devtools/dev-overlay/container/runtime-error/render-error.d.ts","./node_modules/next/dist/next-devtools/dev-overlay/shared.d.ts","./node_modules/next/dist/server/dev/debug-channel.d.ts","./node_modules/next/dist/server/dev/hot-reloader-types.d.ts","./node_modules/next/dist/server/lib/i18n-provider.d.ts","./node_modules/next/dist/server/web/next-url.d.ts","./node_modules/next/dist/compiled/@edge-runtime/cookies/index.d.ts","./node_modules/next/dist/server/web/spec-extension/cookies.d.ts","./node_modules/next/dist/server/web/spec-extension/request.d.ts","./node_modules/next/dist/server/after/builtin-request-context.d.ts","./node_modules/next/dist/server/web/spec-extension/fetch-event.d.ts","./node_modules/next/dist/server/web/spec-extension/response.d.ts","./node_modules/next/dist/build/segment-config/middleware/middleware-config.d.ts","./node_modules/next/dist/server/web/types.d.ts","./node_modules/next/dist/build/webpack/plugins/pages-manifest-plugin.d.ts","./node_modules/next/dist/shared/lib/router/utils/parse-url.d.ts","./node_modules/next/dist/server/route-definitions/locale-route-definition.d.ts","./node_modules/next/dist/server/route-definitions/pages-route-definition.d.ts","./node_modules/next/dist/build/webpack/plugins/flight-manifest-plugin.d.ts","./node_modules/next/dist/build/webpack/plugins/next-font-manifest-plugin.d.ts","./node_modules/next/dist/shared/lib/deep-readonly.d.ts","./node_modules/next/dist/next-devtools/userspace/pages/pages-dev-overlay-setup.d.ts","./node_modules/next/dist/server/render.d.ts","./node_modules/next/dist/shared/lib/mitt.d.ts","./node_modules/next/dist/client/with-router.d.ts","./node_modules/next/dist/client/router.d.ts","./node_modules/next/dist/client/route-loader.d.ts","./node_modules/next/dist/client/page-loader.d.ts","./node_modules/next/dist/shared/lib/router/router.d.ts","./node_modules/next/dist/shared/lib/router-context.shared-runtime.d.ts","./node_modules/next/dist/shared/lib/loadable-context.shared-runtime.d.ts","./node_modules/next/dist/shared/lib/loadable.shared-runtime.d.ts","./node_modules/next/dist/shared/lib/image-config-context.shared-runtime.d.ts","./node_modules/next/dist/client/components/readonly-url-search-params.d.ts","./node_modules/next/dist/shared/lib/hooks-client-context.shared-runtime.d.ts","./node_modules/next/dist/shared/lib/head-manager-context.shared-runtime.d.ts","./node_modules/next/dist/shared/lib/app-router-types.d.ts","./node_modules/next/dist/client/flight-data-helpers.d.ts","./node_modules/next/dist/client/components/router-reducer/ppr-navigations.d.ts","./node_modules/next/dist/client/components/segment-cache/types.d.ts","./node_modules/next/dist/client/components/segment-cache/navigation.d.ts","./node_modules/next/dist/client/components/segment-cache/cache-key.d.ts","./node_modules/next/dist/client/components/router-reducer/fetch-server-response.d.ts","./node_modules/next/dist/client/components/router-reducer/router-reducer-types.d.ts","./node_modules/next/dist/shared/lib/app-router-context.shared-runtime.d.ts","./node_modules/next/dist/shared/lib/server-inserted-html.shared-runtime.d.ts","./node_modules/next/dist/server/route-modules/pages/vendored/contexts/entrypoints.d.ts","./node_modules/next/dist/server/route-modules/pages/module.compiled.d.ts","./node_modules/next/dist/build/templates/pages.d.ts","./node_modules/next/dist/server/route-modules/pages/module.d.ts","./node_modules/next/dist/server/route-modules/pages/builtin/_error.d.ts","./node_modules/next/dist/server/load-default-error-components.d.ts","./node_modules/next/dist/server/base-http/node.d.ts","./node_modules/next/dist/server/response-cache/index.d.ts","./node_modules/next/dist/server/route-definitions/pages-api-route-definition.d.ts","./node_modules/next/dist/server/route-matches/pages-api-route-match.d.ts","./node_modules/next/dist/server/route-matchers/route-matcher.d.ts","./node_modules/next/dist/server/route-matcher-providers/route-matcher-provider.d.ts","./node_modules/next/dist/server/route-matcher-managers/route-matcher-manager.d.ts","./node_modules/next/dist/server/normalizers/normalizer.d.ts","./node_modules/next/dist/server/normalizers/locale-route-normalizer.d.ts","./node_modules/next/dist/server/normalizers/request/pathname-normalizer.d.ts","./node_modules/next/dist/server/normalizers/request/suffix.d.ts","./node_modules/next/dist/server/normalizers/request/rsc.d.ts","./node_modules/next/dist/server/normalizers/request/next-data.d.ts","./node_modules/next/dist/server/normalizers/request/segment-prefix-rsc.d.ts","./node_modules/next/dist/build/static-paths/types.d.ts","./node_modules/next/dist/server/base-server.d.ts","./node_modules/next/dist/server/lib/async-callback-set.d.ts","./node_modules/next/dist/shared/lib/router/utils/route-regex.d.ts","./node_modules/next/dist/shared/lib/router/utils/route-matcher.d.ts","./node_modules/sharp/lib/index.d.ts","./node_modules/next/dist/server/image-optimizer.d.ts","./node_modules/next/dist/server/next-server.d.ts","./node_modules/next/dist/server/lib/types.d.ts","./node_modules/next/dist/server/lib/lru-cache.d.ts","./node_modules/next/dist/server/lib/dev-bundler-service.d.ts","./node_modules/next/dist/server/use-cache/cache-life.d.ts","./node_modules/next/dist/server/dev/static-paths-worker.d.ts","./node_modules/next/dist/server/dev/next-dev-server.d.ts","./node_modules/next/dist/server/next.d.ts","./node_modules/next/dist/server/lib/render-server.d.ts","./node_modules/next/dist/server/lib/router-server.d.ts","./node_modules/next/dist/shared/lib/router/utils/path-match.d.ts","./node_modules/next/dist/server/lib/router-utils/filesystem.d.ts","./node_modules/next/dist/server/lib/router-utils/setup-dev-bundler.d.ts","./node_modules/next/dist/server/lib/router-utils/router-server-context.d.ts","./node_modules/next/dist/server/route-modules/route-module.d.ts","./node_modules/next/dist/server/load-components.d.ts","./node_modules/next/dist/server/web/adapter.d.ts","./node_modules/next/dist/server/app-render/types.d.ts","./node_modules/next/dist/build/webpack/loaders/metadata/types.d.ts","./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.d.ts","./node_modules/next/dist/server/lib/app-dir-module.d.ts","./node_modules/next/dist/server/web/spec-extension/adapters/request-cookies.d.ts","./node_modules/next/dist/server/async-storage/draft-mode-provider.d.ts","./node_modules/next/dist/server/web/spec-extension/adapters/headers.d.ts","./node_modules/next/dist/server/app-render/cache-signal.d.ts","./node_modules/next/dist/server/app-render/dynamic-rendering.d.ts","./node_modules/next/dist/server/request/fallback-params.d.ts","./node_modules/next/dist/server/app-render/work-unit-async-storage-instance.d.ts","./node_modules/next/dist/server/lib/lazy-result.d.ts","./node_modules/next/dist/server/lib/implicit-tags.d.ts","./node_modules/next/dist/server/app-render/staged-rendering.d.ts","./node_modules/next/dist/server/app-render/work-unit-async-storage.external.d.ts","./node_modules/next/dist/shared/lib/router/utils/parse-relative-url.d.ts","./node_modules/next/dist/server/app-render/app-render.d.ts","./node_modules/next/dist/server/route-modules/app-page/vendored/contexts/entrypoints.d.ts","./node_modules/next/dist/client/components/error-boundary.d.ts","./node_modules/next/dist/client/components/layout-router.d.ts","./node_modules/next/dist/client/components/render-from-template-context.d.ts","./node_modules/next/dist/server/app-render/action-async-storage-instance.d.ts","./node_modules/next/dist/server/app-render/action-async-storage.external.d.ts","./node_modules/next/dist/client/components/client-page.d.ts","./node_modules/next/dist/client/components/client-segment.d.ts","./node_modules/next/dist/server/request/search-params.d.ts","./node_modules/next/dist/client/components/hooks-server-context.d.ts","./node_modules/next/dist/client/components/http-access-fallback/error-boundary.d.ts","./node_modules/next/dist/lib/metadata/types/alternative-urls-types.d.ts","./node_modules/next/dist/lib/metadata/types/extra-types.d.ts","./node_modules/next/dist/lib/metadata/types/metadata-types.d.ts","./node_modules/next/dist/lib/metadata/types/manifest-types.d.ts","./node_modules/next/dist/lib/metadata/types/opengraph-types.d.ts","./node_modules/next/dist/lib/metadata/types/twitter-types.d.ts","./node_modules/next/dist/lib/metadata/types/metadata-interface.d.ts","./node_modules/next/dist/lib/metadata/types/resolvers.d.ts","./node_modules/next/dist/lib/metadata/types/icons.d.ts","./node_modules/next/dist/lib/metadata/resolve-metadata.d.ts","./node_modules/next/dist/lib/metadata/metadata.d.ts","./node_modules/next/dist/lib/framework/boundary-components.d.ts","./node_modules/next/dist/server/app-render/rsc/preloads.d.ts","./node_modules/next/dist/server/app-render/rsc/postpone.d.ts","./node_modules/next/dist/server/app-render/rsc/taint.d.ts","./node_modules/next/dist/shared/lib/segment-cache/segment-value-encoding.d.ts","./node_modules/next/dist/server/app-render/collect-segment-data.d.ts","./node_modules/next/dist/next-devtools/userspace/app/segment-explorer-node.d.ts","./node_modules/next/dist/server/app-render/entry-base.d.ts","./node_modules/next/dist/build/templates/app-page.d.ts","./node_modules/next/dist/build/rendering-mode.d.ts","./node_modules/@types/react/jsx-dev-runtime.d.ts","./node_modules/@types/react/compiler-runtime.d.ts","./node_modules/next/dist/server/route-modules/app-page/vendored/rsc/entrypoints.d.ts","./node_modules/@types/react-dom/client.d.ts","./node_modules/@types/react-dom/static.d.ts","./node_modules/@types/react-dom/server.d.ts","./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/entrypoints.d.ts","./node_modules/next/dist/server/route-modules/app-page/module.d.ts","./node_modules/next/dist/server/route-modules/app-page/module.compiled.d.ts","./node_modules/next/dist/server/route-definitions/app-route-route-definition.d.ts","./node_modules/next/dist/server/async-storage/work-store.d.ts","./node_modules/next/dist/server/web/http.d.ts","./node_modules/next/dist/server/route-modules/app-route/shared-modules.d.ts","./node_modules/next/dist/client/components/redirect-status-code.d.ts","./node_modules/next/dist/client/components/redirect-error.d.ts","./node_modules/next/dist/build/templates/app-route.d.ts","./node_modules/next/dist/server/route-modules/app-route/module.d.ts","./node_modules/next/dist/server/route-modules/app-route/module.compiled.d.ts","./node_modules/next/dist/build/segment-config/app/app-segments.d.ts","./node_modules/next/dist/build/utils.d.ts","./node_modules/next/dist/server/lib/router-utils/build-prefetch-segment-data-route.d.ts","./node_modules/next/dist/build/turborepo-access-trace/types.d.ts","./node_modules/next/dist/build/turborepo-access-trace/result.d.ts","./node_modules/next/dist/build/turborepo-access-trace/helpers.d.ts","./node_modules/next/dist/build/turborepo-access-trace/index.d.ts","./node_modules/next/dist/export/routes/types.d.ts","./node_modules/next/dist/export/types.d.ts","./node_modules/next/dist/export/worker.d.ts","./node_modules/next/dist/build/worker.d.ts","./node_modules/next/dist/build/index.d.ts","./node_modules/next/dist/server/lib/incremental-cache/index.d.ts","./node_modules/next/dist/server/after/after.d.ts","./node_modules/next/dist/server/after/after-context.d.ts","./node_modules/next/dist/server/app-render/work-async-storage-instance.d.ts","./node_modules/next/dist/server/app-render/create-error-handler.d.ts","./node_modules/next/dist/shared/lib/action-revalidation-kind.d.ts","./node_modules/next/dist/server/app-render/work-async-storage.external.d.ts","./node_modules/next/dist/server/request/params.d.ts","./node_modules/next/dist/server/route-matches/route-match.d.ts","./node_modules/next/dist/server/request-meta.d.ts","./node_modules/next/dist/cli/next-test.d.ts","./node_modules/next/dist/server/config-shared.d.ts","./node_modules/next/dist/server/base-http/index.d.ts","./node_modules/next/dist/server/api-utils/index.d.ts","./node_modules/next/dist/build/adapter/build-complete.d.ts","./node_modules/next/dist/types.d.ts","./node_modules/next/dist/shared/lib/html-context.shared-runtime.d.ts","./node_modules/next/dist/shared/lib/utils.d.ts","./node_modules/next/dist/pages/_app.d.ts","./node_modules/next/app.d.ts","./node_modules/next/dist/server/web/spec-extension/unstable-cache.d.ts","./node_modules/next/dist/server/web/spec-extension/revalidate.d.ts","./node_modules/next/dist/server/web/spec-extension/unstable-no-store.d.ts","./node_modules/next/dist/server/use-cache/cache-tag.d.ts","./node_modules/next/cache.d.ts","./node_modules/next/dist/pages/_document.d.ts","./node_modules/next/document.d.ts","./node_modules/next/dist/shared/lib/dynamic.d.ts","./node_modules/next/dynamic.d.ts","./node_modules/next/dist/pages/_error.d.ts","./node_modules/next/error.d.ts","./node_modules/next/dist/shared/lib/head.d.ts","./node_modules/next/head.d.ts","./node_modules/next/dist/server/request/cookies.d.ts","./node_modules/next/dist/server/request/headers.d.ts","./node_modules/next/dist/server/request/draft-mode.d.ts","./node_modules/next/headers.d.ts","./node_modules/next/dist/shared/lib/get-img-props.d.ts","./node_modules/next/dist/client/image-component.d.ts","./node_modules/next/dist/shared/lib/image-external.d.ts","./node_modules/next/image.d.ts","./node_modules/next/dist/client/link.d.ts","./node_modules/next/link.d.ts","./node_modules/next/dist/client/components/unrecognized-action-error.d.ts","./node_modules/next/dist/client/components/redirect.d.ts","./node_modules/next/dist/client/components/not-found.d.ts","./node_modules/next/dist/client/components/forbidden.d.ts","./node_modules/next/dist/client/components/unauthorized.d.ts","./node_modules/next/dist/client/components/unstable-rethrow.server.d.ts","./node_modules/next/dist/client/components/unstable-rethrow.d.ts","./node_modules/next/dist/client/components/navigation.react-server.d.ts","./node_modules/next/dist/client/components/navigation.d.ts","./node_modules/next/navigation.d.ts","./node_modules/next/router.d.ts","./node_modules/next/dist/client/script.d.ts","./node_modules/next/script.d.ts","./node_modules/next/dist/server/web/spec-extension/user-agent.d.ts","./node_modules/next/dist/compiled/@edge-runtime/primitives/url.d.ts","./node_modules/next/dist/server/web/spec-extension/image-response.d.ts","./node_modules/next/dist/compiled/@vercel/og/satori/index.d.ts","./node_modules/next/dist/compiled/@vercel/og/emoji/index.d.ts","./node_modules/next/dist/compiled/@vercel/og/types.d.ts","./node_modules/next/dist/server/after/index.d.ts","./node_modules/next/dist/server/request/connection.d.ts","./node_modules/next/server.d.ts","./node_modules/next/types/global.d.ts","./node_modules/next/types/compiled.d.ts","./node_modules/next/types.d.ts","./node_modules/next/index.d.ts","./node_modules/next/image-types/global.d.ts","./.next/dev/types/routes.d.ts","./next-env.d.ts","./next.config.ts","./app/api/proxy/[...slug]/route.ts","./lib/api.ts","./node_modules/clsx/clsx.d.mts","./node_modules/tailwind-merge/dist/types.d.ts","./lib/utils.ts","./node_modules/lucide-react/dist/lucide-react.d.ts","./hooks/useAuth.tsx","./node_modules/sonner/dist/index.d.mts","./app/layout.tsx","./node_modules/@radix-ui/react-slot/dist/index.d.mts","./node_modules/class-variance-authority/dist/types.d.ts","./node_modules/class-variance-authority/dist/index.d.ts","./components/ui/button.tsx","./app/(marketing)/footer.tsx","./node_modules/@radix-ui/react-avatar/node_modules/@radix-ui/react-context/dist/index.d.mts","./node_modules/@radix-ui/react-avatar/node_modules/@radix-ui/react-primitive/dist/index.d.mts","./node_modules/@radix-ui/react-avatar/dist/index.d.mts","./components/ui/avatar.tsx","./app/(marketing)/header.tsx","./app/(marketing)/layout.tsx","./components/ui/input.tsx","./node_modules/@radix-ui/react-label/node_modules/@radix-ui/react-primitive/dist/index.d.mts","./node_modules/@radix-ui/react-label/dist/index.d.mts","./components/ui/label.tsx","./node_modules/@radix-ui/react-context/dist/index.d.mts","./node_modules/@radix-ui/react-primitive/dist/index.d.mts","./node_modules/@radix-ui/react-dismissable-layer/dist/index.d.mts","./node_modules/@radix-ui/react-focus-scope/dist/index.d.mts","./node_modules/@radix-ui/react-arrow/dist/index.d.mts","./node_modules/@radix-ui/rect/dist/index.d.mts","./node_modules/@radix-ui/react-popper/dist/index.d.mts","./node_modules/@radix-ui/react-portal/dist/index.d.mts","./node_modules/@radix-ui/react-select/dist/index.d.mts","./components/ui/select.tsx","./app/(marketing)/page.tsx","./node_modules/@radix-ui/react-dialog/dist/index.d.mts","./components/ui/sheet.tsx","./components/sidebar.tsx","./components/mobile-sidebar.tsx","./components/mobile-header.tsx","./app/(marketing)/(main)/layout.tsx","./app/(marketing)/(main)/expert/layout.tsx","./components/ui/card.tsx","./components/ui/badge.tsx","./node_modules/@radix-ui/react-separator/node_modules/@radix-ui/react-primitive/dist/index.d.mts","./node_modules/@radix-ui/react-separator/dist/index.d.mts","./components/ui/separator.tsx","./components/ui/skeleton.tsx","./app/(marketing)/(main)/expert/page.tsx","./components/ui/textarea.tsx","./node_modules/@radix-ui/react-roving-focus/dist/index.d.mts","./node_modules/@radix-ui/react-tabs/dist/index.d.mts","./components/ui/tabs.tsx","./app/(marketing)/(main)/expert/[caseId]/page.tsx","./components/expert/dashboard-stat-card.tsx","./components/ui/table.tsx","./components/expert/clinical-cases-table.tsx","./components/expert-sidebar.tsx","./app/(marketing)/(main)/expert/dashboard/DashboardClient.tsx","./app/(marketing)/(main)/expert/dashboard/page.tsx","./node_modules/@radix-ui/react-radio-group/dist/index.d.mts","./components/ui/radio-group.tsx","./app/(marketing)/(main)/expert/editor/[id]/CaseReviewClient.tsx","./node_modules/@radix-ui/react-scroll-area/dist/index.d.mts","./components/ui/scroll-area.tsx","./components/expert/raw-data-viewer.tsx","./components/expert/case-editor-form.tsx","./node_modules/@radix-ui/react-alert-dialog/dist/index.d.mts","./components/ui/alert-dialog.tsx","./components/expert/validation-actions.tsx","./app/(marketing)/(main)/expert/editor/[id]/EditorClient.tsx","./app/(marketing)/(main)/expert/editor/[id]/page.tsx","./node_modules/zod/v4/core/json-schema.d.cts","./node_modules/zod/v4/core/standard-schema.d.cts","./node_modules/zod/v4/core/registries.d.cts","./node_modules/zod/v4/core/to-json-schema.d.cts","./node_modules/zod/v4/core/util.d.cts","./node_modules/zod/v4/core/versions.d.cts","./node_modules/zod/v4/core/schemas.d.cts","./node_modules/zod/v4/core/checks.d.cts","./node_modules/zod/v4/core/errors.d.cts","./node_modules/zod/v4/core/core.d.cts","./node_modules/zod/v4/core/parse.d.cts","./node_modules/zod/v4/core/regexes.d.cts","./node_modules/zod/v4/locales/ar.d.cts","./node_modules/zod/v4/locales/az.d.cts","./node_modules/zod/v4/locales/be.d.cts","./node_modules/zod/v4/locales/bg.d.cts","./node_modules/zod/v4/locales/ca.d.cts","./node_modules/zod/v4/locales/cs.d.cts","./node_modules/zod/v4/locales/da.d.cts","./node_modules/zod/v4/locales/de.d.cts","./node_modules/zod/v4/locales/en.d.cts","./node_modules/zod/v4/locales/eo.d.cts","./node_modules/zod/v4/locales/es.d.cts","./node_modules/zod/v4/locales/fa.d.cts","./node_modules/zod/v4/locales/fi.d.cts","./node_modules/zod/v4/locales/fr.d.cts","./node_modules/zod/v4/locales/fr-CA.d.cts","./node_modules/zod/v4/locales/he.d.cts","./node_modules/zod/v4/locales/hu.d.cts","./node_modules/zod/v4/locales/id.d.cts","./node_modules/zod/v4/locales/is.d.cts","./node_modules/zod/v4/locales/it.d.cts","./node_modules/zod/v4/locales/ja.d.cts","./node_modules/zod/v4/locales/ka.d.cts","./node_modules/zod/v4/locales/kh.d.cts","./node_modules/zod/v4/locales/km.d.cts","./node_modules/zod/v4/locales/ko.d.cts","./node_modules/zod/v4/locales/lt.d.cts","./node_modules/zod/v4/locales/mk.d.cts","./node_modules/zod/v4/locales/ms.d.cts","./node_modules/zod/v4/locales/nl.d.cts","./node_modules/zod/v4/locales/no.d.cts","./node_modules/zod/v4/locales/ota.d.cts","./node_modules/zod/v4/locales/ps.d.cts","./node_modules/zod/v4/locales/pl.d.cts","./node_modules/zod/v4/locales/pt.d.cts","./node_modules/zod/v4/locales/ru.d.cts","./node_modules/zod/v4/locales/sl.d.cts","./node_modules/zod/v4/locales/sv.d.cts","./node_modules/zod/v4/locales/ta.d.cts","./node_modules/zod/v4/locales/th.d.cts","./node_modules/zod/v4/locales/tr.d.cts","./node_modules/zod/v4/locales/ua.d.cts","./node_modules/zod/v4/locales/uk.d.cts","./node_modules/zod/v4/locales/ur.d.cts","./node_modules/zod/v4/locales/vi.d.cts","./node_modules/zod/v4/locales/zh-CN.d.cts","./node_modules/zod/v4/locales/zh-TW.d.cts","./node_modules/zod/v4/locales/yo.d.cts","./node_modules/zod/v4/locales/index.d.cts","./node_modules/zod/v4/core/doc.d.cts","./node_modules/zod/v4/core/api.d.cts","./node_modules/zod/v4/core/json-schema-processors.d.cts","./node_modules/zod/v4/core/json-schema.d.ts","./node_modules/zod/v4/core/standard-schema.d.ts","./node_modules/zod/v4/core/util.d.ts","./node_modules/zod/v4/core/parse.d.ts","./node_modules/zod/v4/core/versions.d.ts","./node_modules/zod/v4/core/regexes.d.ts","./node_modules/zod/v4/locales/ar.d.ts","./node_modules/zod/v4/locales/az.d.ts","./node_modules/zod/v4/locales/be.d.ts","./node_modules/zod/v4/locales/bg.d.ts","./node_modules/zod/v4/locales/ca.d.ts","./node_modules/zod/v4/locales/cs.d.ts","./node_modules/zod/v4/locales/da.d.ts","./node_modules/zod/v4/locales/de.d.ts","./node_modules/zod/v4/locales/en.d.ts","./node_modules/zod/v4/locales/eo.d.ts","./node_modules/zod/v4/locales/es.d.ts","./node_modules/zod/v4/locales/fa.d.ts","./node_modules/zod/v4/locales/fi.d.ts","./node_modules/zod/v4/locales/fr.d.ts","./node_modules/zod/v4/locales/fr-CA.d.ts","./node_modules/zod/v4/locales/he.d.ts","./node_modules/zod/v4/locales/hu.d.ts","./node_modules/zod/v4/locales/id.d.ts","./node_modules/zod/v4/locales/is.d.ts","./node_modules/zod/v4/locales/it.d.ts","./node_modules/zod/v4/locales/ja.d.ts","./node_modules/zod/v4/locales/ka.d.ts","./node_modules/zod/v4/locales/kh.d.ts","./node_modules/zod/v4/locales/km.d.ts","./node_modules/zod/v4/locales/ko.d.ts","./node_modules/zod/v4/locales/lt.d.ts","./node_modules/zod/v4/locales/mk.d.ts","./node_modules/zod/v4/locales/ms.d.ts","./node_modules/zod/v4/locales/nl.d.ts","./node_modules/zod/v4/locales/no.d.ts","./node_modules/zod/v4/locales/ota.d.ts","./node_modules/zod/v4/locales/ps.d.ts","./node_modules/zod/v4/locales/pl.d.ts","./node_modules/zod/v4/locales/pt.d.ts","./node_modules/zod/v4/locales/ru.d.ts","./node_modules/zod/v4/locales/sl.d.ts","./node_modules/zod/v4/locales/sv.d.ts","./node_modules/zod/v4/locales/ta.d.ts","./node_modules/zod/v4/locales/th.d.ts","./node_modules/zod/v4/locales/tr.d.ts","./node_modules/zod/v4/locales/ua.d.ts","./node_modules/zod/v4/locales/uk.d.ts","./node_modules/zod/v4/locales/ur.d.ts","./node_modules/zod/v4/locales/vi.d.ts","./node_modules/zod/v4/locales/zh-CN.d.ts","./node_modules/zod/v4/locales/zh-TW.d.ts","./node_modules/zod/v4/locales/yo.d.ts","./node_modules/zod/v4/locales/index.d.ts","./node_modules/zod/v4/core/doc.d.ts","./node_modules/zod/v4/core/api.d.ts","./node_modules/zod/v4/core/json-schema-processors.d.ts","./node_modules/zod/v4/core/json-schema-generator.d.ts","./node_modules/zod/v4/core/index.d.ts","./node_modules/zod/v4/core/to-json-schema.d.ts","./node_modules/zod/v4/core/schemas.d.ts","./node_modules/zod/v4/core/checks.d.ts","./node_modules/zod/v4/core/errors.d.ts","./node_modules/zod/v4/core/core.d.ts","./node_modules/zod/v4/core/registries.d.ts","./node_modules/zod/v4/core/json-schema-generator.d.cts","./node_modules/zod/v4/core/index.d.cts","./node_modules/zod/v4/classic/errors.d.cts","./node_modules/zod/v4/classic/parse.d.cts","./node_modules/zod/v4/classic/schemas.d.cts","./node_modules/zod/v4/classic/checks.d.cts","./node_modules/zod/v4/classic/compat.d.cts","./node_modules/zod/v4/classic/from-json-schema.d.cts","./node_modules/zod/v4/classic/iso.d.cts","./node_modules/zod/v4/classic/coerce.d.cts","./node_modules/zod/v4/classic/external.d.cts","./node_modules/zod/index.d.cts","./app/(marketing)/(main)/expert/library/page.tsx","./app/(marketing)/(main)/expert/pending/PendingCasesClient.tsx","./app/(marketing)/(main)/expert/pending/page.tsx","./app/(marketing)/(main)/expert/profile/page.tsx","./app/(marketing)/(main)/expert/rejected/RejectedCasesClient.tsx","./app/(marketing)/(main)/expert/rejected/page.tsx","./app/(marketing)/(main)/expert/settings/SettingsClient.tsx","./app/(marketing)/(main)/expert/settings/page.tsx","./app/(marketing)/(main)/expert/validated/ValidatedCasesClient.tsx","./app/(marketing)/(main)/expert/validated/page.tsx","./app/(marketing)/(main)/learn/layout.tsx","./app/(marketing)/(main)/learn/page.tsx","./app/(marketing)/(main)/learn/[courseId]/page.tsx","./app/(marketing)/(main)/learn/[courseId]/lesson/[sessionId]/page.tsx","./node_modules/@radix-ui/react-progress/node_modules/@radix-ui/react-context/dist/index.d.mts","./node_modules/@radix-ui/react-progress/node_modules/@radix-ui/react-primitive/dist/index.d.mts","./node_modules/@radix-ui/react-progress/dist/index.d.mts","./components/ui/progress.tsx","./app/(marketing)/(main)/profiling/page.tsx","./app/(marketing)/faq/page.tsx","./app/buttons/page.tsx","./components/sidebar-item.tsx","./components/user-progress.tsx","./components/expert/cases-queue-table.tsx","./components/expert/stat-card.tsx","./node_modules/@radix-ui/react-menu/dist/index.d.mts","./node_modules/@radix-ui/react-dropdown-menu/dist/index.d.mts","./components/ui/dropdown-menu.tsx","./node_modules/@radix-ui/react-tooltip/dist/index.d.mts","./components/ui/tooltip.tsx","./.next/dev/types/cache-life.d.ts","./.next/dev/types/validator.ts","./node_modules/@types/estree/index.d.ts","./node_modules/@types/json-schema/index.d.ts","./node_modules/@types/json5/index.d.ts"],"fileIdsList":[[97,143,459,460,461,462],[97,143],[97,143,269,503,506,509,512,520,531,546,552,553,560,565,571,583,724,726,727,729,731,733,734,735,736,737,742,743,744],[85,97,143,269,481,491,513,517,524,554,555,558,559,561,564],[85,97,143,269,491,513,517,566,568,569],[97,143,269,513,570],[85,97,143,269,491,513,517,524,535,554,555,567,569,573],[85,97,143,269,491,513,517,554,555,564,577,578,581],[97,143,269,491,513,574],[97,143,269],[97,143,269,481,513,517,524,554,555,567,723],[85,97,143,269,481,513,517,524,532,545,554,555,558,559],[97,143,269,491,513,517,568,569],[97,143,269,513,725],[85,97,143,269,513,517,524,529,532,535,554,555,558,559,561],[97,143,269,513,728],[97,143,269,517,554,569],[97,143,269,730],[97,143,269,513,732],[97,143,269,491,549,551],[85,97,143,269,481,491,513,517,518,524,529,532,555,576],[85,97,143,269,479,481,491,517,518,519,524,554],[97,143,269,549,551],[85,97,143,269,481,491,517,518,524,554],[85,97,143,269,491,517,524,554,555,741],[97,143,269,479,524],[97,143,269,479,481,517,518,524,529],[97,143,269,491,530],[85,97,143,269,491,513,517,518,519,532,535,545],[97,143,269,503],[97,143,269,524],[97,143,269,518,519],[97,143,269,481,491,516,517,518,529],[85,97,143,269,517,532,535,545,554,555,561],[97,143,269,481,517,524,554,555,567,741],[85,97,143,269,513,517,524,532,545,555,567],[97,143,269,517,554],[85,97,143,269,517,524,554,555,576],[97,143,269,517,524,554,558,580],[97,143,269,550],[97,143,269,517,548,549],[97,143,269,479,481,491,524],[85,97,143,269,516,524,579],[85,97,143,269,516,528],[85,97,143,269,516,523],[85,97,143,269,516,521,523],[85,97,143,269,516],[85,97,143,269,516,517,750],[85,97,143,269,516,523,534],[85,97,143,269,516,740],[85,97,143,269,516,517,572],[85,97,143,269,516,575],[85,97,143,269,516,517,544],[85,97,143,269,516,557],[85,97,143,269,516,517,523,547],[97,143,269,516],[85,97,143,269,516,563],[85,97,143,269,516,752],[97,143,269,479,481,517,524],[85,97,143,269,491,513,517],[97,143,269,514,515],[97,143,507,508,509],[97,143,269,507],[85,97,143,536,547],[85,97,143,537],[85,97,143,526,527],[85,97,143],[85,97,143,536,537,538,539,543],[85,97,143,536,537,749],[85,97,143,527],[85,97,143,536,537,538,539,542,543,562],[85,97,143,536,537,540,541],[85,97,143,536,537,562],[85,97,143,536,537],[85,97,143,536,537,538,539,542,543],[85,89,97,143,192,193,194,195,196,454,500],[85,97,143,536,537,538,542,543],[97,140,143],[97,142,143],[143],[97,143,148,176],[97,143,144,149,154,162,173,184],[97,143,144,145,154,162],[92,93,94,97,143],[97,143,146,185],[97,143,147,148,155,163],[97,143,148,173,181],[97,143,149,151,154,162],[97,142,143,150],[97,143,151,152],[97,143,153,154],[97,142,143,154],[97,143,154,155,156,173,184],[97,143,154,155,156,169,173,176],[97,143,151,154,157,162,173,184],[97,143,154,155,157,158,162,173,181,184],[97,143,157,159,173,181,184],[95,96,97,98,99,100,101,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190],[97,143,154,160],[97,143,161,184,189],[97,143,151,154,162,173],[97,143,163],[97,143,164],[97,142,143,165],[97,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190],[97,143,167],[97,143,168],[97,143,154,169,170],[97,143,169,171,185,187],[97,143,154,173,174,176],[97,143,175,176],[97,143,173,174],[97,143,176],[97,143,177],[97,140,143,173,178],[97,143,154,179,180],[97,143,179,180],[97,143,148,162,173,181],[97,143,182],[97,143,162,183],[97,143,157,168,184],[97,143,148,185],[97,143,173,186],[97,143,161,187],[97,143,188],[97,138,143],[97,138,143,154,156,165,173,176,184,187,189],[97,143,173,190],[85,89,97,143,192,193,194,196,454,500,521],[85,89,97,143,192,193,194,195,412,454,500,521],[85,89,97,143,192,193,195,196,454,500,521],[85,97,143,196,412,413],[85,97,143,196,412],[85,89,97,143,193,194,195,196,454,500,521],[85,89,97,143,192,194,195,196,454,500,521],[83,84,97,143],[97,143,514,522],[97,143,514],[97,143,457],[97,143,201,203,207,218,408,438,450],[97,143,203,213,214,215,217,450],[97,143,203,250,252,254,255,258,450,452],[97,143,203,207,209,210,211,241,336,408,428,429,437,450,452],[97,143,450],[97,143,214,306,417,426,446],[97,143,203],[97,143,197,306,446],[97,143,260],[97,143,259,450],[97,143,157,406,417,505],[97,143,157,374,386,426,445],[97,143,157,317],[97,143,431],[97,143,430,431,432],[97,143,430],[91,97,143,157,197,203,207,210,212,214,218,219,232,233,260,336,347,427,438,450,454],[97,143,201,203,216,250,251,256,257,450,505],[97,143,216,505],[97,143,201,233,361,450,505],[97,143,505],[97,143,203,216,217,505],[97,143,253,505],[97,143,219,428,436],[97,143,168,269,446],[97,143,269,446],[85,97,143,269],[85,97,143,378],[97,143,304,314,315,446,482,489],[97,143,303,423,483,484,485,486,488],[97,143,422],[97,143,422,423],[97,143,241,306,307,311],[97,143,306],[97,143,306,310,312],[97,143,306,307,308,309],[97,143,487],[85,97,143,204,476],[85,97,143,184],[85,97,143,216,296],[85,97,143,216,438],[97,143,294,298],[85,97,143,295,456],[85,89,97,143,157,191,192,193,194,195,196,454,498,499,521],[97,143,157],[97,143,157,207,240,292,337,358,360,433,434,438,450,451],[97,143,232,435],[97,143,454],[97,143,202],[85,97,143,363,376,385,395,397,445],[97,143,168,363,376,394,395,396,445,504],[97,143,388,389,390,391,392,393],[97,143,390],[97,143,394],[97,143,267,268,269,271],[85,97,143,261,262,263,264,270],[97,143,267,270],[97,143,265],[97,143,266],[85,97,143,269,295,456],[85,97,143,269,455,456],[85,97,143,269,456],[97,143,337,440],[97,143,440],[97,143,157,451,456],[97,143,382],[97,142,143,381],[97,143,242,306,323,360,369,372,374,375,416,445,448,451],[97,143,288,306,403],[97,143,374,445],[85,97,143,374,379,380,382,383,384,385,386,387,398,399,400,401,402,404,405,445,446,505],[97,143,368],[97,143,157,168,204,240,243,264,289,290,337,347,358,359,416,439,450,451,452,454,505],[97,143,445],[97,142,143,214,290,347,371,439,441,442,443,444,451],[97,143,374],[97,142,143,240,277,323,364,365,366,367,368,369,370,372,373,445,446],[97,143,157,277,278,364,451,452],[97,143,214,337,347,360,439,445,451],[97,143,157,450,452],[97,143,157,173,448,451,452],[97,143,157,168,184,197,207,216,242,243,245,274,279,284,288,289,290,292,321,323,325,328,330,333,334,335,336,358,360,438,439,446,448,450,451,452],[97,143,157,173],[97,143,203,204,205,212,448,449,454,456,505],[97,143,201,450],[97,143,273],[97,143,157,173,184,235,258,260,261,262,263,264,271,272,505],[97,143,168,184,197,235,250,283,284,285,321,322,323,328,336,337,343,346,348,358,360,439,446,448,450],[97,143,212,219,232,336,347,439,450],[97,143,157,184,204,207,323,341,448,450],[97,143,362],[97,143,157,273,344,345,355],[97,143,448,450],[97,143,369,371],[97,143,290,323,438,456],[97,143,157,168,246,250,322,328,343,346,350,448],[97,143,157,219,232,250,351],[97,143,203,245,353,438,450],[97,143,157,184,264,450],[97,143,157,216,244,245,246,255,273,352,354,438,450],[91,97,143,157,290,357,454,456],[97,143,320,358],[97,143,157,168,184,207,218,219,232,242,243,279,283,284,285,289,321,322,323,325,337,338,340,342,358,360,438,439,446,447,448,456],[97,143,157,173,219,343,349,355,448],[97,143,222,223,224,225,226,227,228,229,230,231],[97,143,274,329],[97,143,331],[97,143,329],[97,143,331,332],[97,143,157,207,210,240,241,451],[97,143,157,168,202,204,242,288,289,290,291,319,358,448,452,454,456],[97,143,157,168,184,206,241,291,323,369,439,447,451],[97,143,364],[97,143,365],[97,143,306,336,416],[97,143,366],[97,143,234,238],[97,143,157,207,234,242],[97,143,237,238],[97,143,239],[97,143,234,235],[97,143,234,286],[97,143,234],[97,143,274,327,447],[97,143,326],[97,143,235,446,447],[97,143,324,447],[97,143,235,446],[97,143,416],[97,143,207,236,242,290,306,323,357,360,363,369,376,377,407,408,411,415,438,448,451],[97,143,299,302,304,305,314,315],[85,97,143,194,196,269,409,410],[85,97,143,194,196,269,409,410,414],[97,143,425],[97,143,214,278,290,357,360,374,382,386,418,419,420,421,423,424,427,438,445,450],[97,143,314],[97,143,157,319],[97,143,319],[97,143,157,242,287,292,316,318,357,448,454,456],[97,143,299,300,301,302,304,305,314,315,455],[91,97,143,157,168,184,234,235,243,289,290,323,355,356,358,438,439,448,450,451,454],[97,143,278,280,283,439],[97,143,157,274,450],[97,143,277,374],[97,143,276],[97,143,278,279],[97,143,275,277,450],[97,143,157,206,278,280,281,282,450,451],[85,97,143,306,313,446],[97,143,199,200],[85,97,143,204],[85,97,143,303,446],[85,91,97,143,289,290,454,456],[97,143,204,476,477],[85,97,143,298],[85,97,143,168,184,202,257,293,295,297,456],[97,143,216,446,451],[97,143,339,446],[85,97,143,155,157,168,201,202,252,298,454,455],[85,97,143,192,193,194,195,196,454,500,521],[85,86,87,88,89,97,143],[97,143,148],[97,143,247,248,249],[97,143,247],[85,89,97,143,157,159,168,191,192,193,194,195,196,197,202,243,350,394,452,453,456,500,521],[97,143,464],[97,143,466],[97,143,468],[97,143,470],[97,143,472,473,474],[97,143,478],[90,97,143,458,463,465,467,469,471,475,479,481,491,492,494,503,504,505,506],[97,143,480],[97,143,490],[97,143,295],[97,143,493],[97,142,143,278,280,281,283,495,496,497,500,501,502],[97,143,191],[97,143,173,191],[97,110,114,143,184],[97,110,143,173,184],[97,105,143],[97,107,110,143,181,184],[97,143,162,181],[97,105,143,191],[97,107,110,143,162,184],[97,102,103,106,109,143,154,173,184],[97,110,117,143],[97,102,108,143],[97,110,131,132,143],[97,106,110,143,176,184,191],[97,131,143,191],[97,104,105,143,191],[97,110,143],[97,104,105,106,107,108,109,110,111,112,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,132,133,134,135,136,137,143],[97,110,125,143],[97,110,117,118,143],[97,108,110,118,119,143],[97,109,143],[97,102,105,110,143],[97,110,114,118,119,143],[97,114,143],[97,108,110,113,143,184],[97,102,107,110,117,143],[97,143,173],[97,105,110,131,143,189,191],[97,143,722],[97,143,713],[97,143,713,716],[97,143,643,646,713,714,715,716,717,718,719,720,721],[97,143,584,716],[97,143,713,714],[97,143,585,713,715],[97,143,586,588,590,591,592,593],[97,143,649,707,708,709,710,711],[97,143,588,590,592,593],[97,143,649,707,709,710],[97,143,588,590,592],[97,143,649,707,709],[97,143,585,588,590,591,593],[97,143,648,649,707,708,710],[97,143,584,586,587,588,589,590,591,592,593,594,595,643,644,645,646,712],[97,143,647,649,650,651,652,700,701,702,703,704,706,707,708,709,710,711],[97,143,584,587,590,706,711],[97,143,647,706,707,711],[97,143,586,587,590],[97,143,706,707,711],[97,143,590,593],[97,143,707,710],[97,143,584,585,587,588,589,591,592,593],[97,143,647,648,649,651,706,708,709,710],[97,143,584,585,586,590,713],[97,143,647,648,705,707,711],[97,143,590,591,592,593],[97,143,707,708,709,710],[97,143,592],[97,143,709],[97,143,596,597,598,599,600,601,602,603,604,605,606,607,608,609,610,611,612,613,614,615,616,617,618,619,620,621,622,623,624,625,626,627,628,629,630,631,632,633,634,635,636,637,638,639,640,641,642],[97,143,653,654,655,656,657,658,659,660,661,662,663,664,665,666,667,668,669,670,671,672,673,674,675,676,677,678,679,680,681,682,683,684,685,686,687,688,689,690,691,692,693,694,695,696,697,698,699]],"fileInfos":[{"version":"c430d44666289dae81f30fa7b2edebf186ecc91a2d4c71266ea6ae76388792e1","affectsGlobalScope":true,"impliedFormat":1},{"version":"45b7ab580deca34ae9729e97c13cfd999df04416a79116c3bfb483804f85ded4","impliedFormat":1},{"version":"3facaf05f0c5fc569c5649dd359892c98a85557e3e0c847964caeb67076f4d75","impliedFormat":1},{"version":"e44bb8bbac7f10ecc786703fe0a6a4b952189f908707980ba8f3c8975a760962","impliedFormat":1},{"version":"5e1c4c362065a6b95ff952c0eab010f04dcd2c3494e813b493ecfd4fcb9fc0d8","impliedFormat":1},{"version":"68d73b4a11549f9c0b7d352d10e91e5dca8faa3322bfb77b661839c42b1ddec7","impliedFormat":1},{"version":"5efce4fc3c29ea84e8928f97adec086e3dc876365e0982cc8479a07954a3efd4","impliedFormat":1},{"version":"feecb1be483ed332fad555aff858affd90a48ab19ba7272ee084704eb7167569","impliedFormat":1},{"version":"ee7bad0c15b58988daa84371e0b89d313b762ab83cb5b31b8a2d1162e8eb41c2","impliedFormat":1},{"version":"27bdc30a0e32783366a5abeda841bc22757c1797de8681bbe81fbc735eeb1c10","impliedFormat":1},{"version":"8fd575e12870e9944c7e1d62e1f5a73fcf23dd8d3a321f2a2c74c20d022283fe","impliedFormat":1},{"version":"2ab096661c711e4a81cc464fa1e6feb929a54f5340b46b0a07ac6bbf857471f0","impliedFormat":1},{"version":"080941d9f9ff9307f7e27a83bcd888b7c8270716c39af943532438932ec1d0b9","affectsGlobalScope":true,"impliedFormat":1},{"version":"2e80ee7a49e8ac312cc11b77f1475804bee36b3b2bc896bead8b6e1266befb43","affectsGlobalScope":true,"impliedFormat":1},{"version":"c57796738e7f83dbc4b8e65132f11a377649c00dd3eee333f672b8f0a6bea671","affectsGlobalScope":true,"impliedFormat":1},{"version":"dc2df20b1bcdc8c2d34af4926e2c3ab15ffe1160a63e58b7e09833f616efff44","affectsGlobalScope":true,"impliedFormat":1},{"version":"515d0b7b9bea2e31ea4ec968e9edd2c39d3eebf4a2d5cbd04e88639819ae3b71","affectsGlobalScope":true,"impliedFormat":1},{"version":"0559b1f683ac7505ae451f9a96ce4c3c92bdc71411651ca6ddb0e88baaaad6a3","affectsGlobalScope":true,"impliedFormat":1},{"version":"0dc1e7ceda9b8b9b455c3a2d67b0412feab00bd2f66656cd8850e8831b08b537","affectsGlobalScope":true,"impliedFormat":1},{"version":"ce691fb9e5c64efb9547083e4a34091bcbe5bdb41027e310ebba8f7d96a98671","affectsGlobalScope":true,"impliedFormat":1},{"version":"8d697a2a929a5fcb38b7a65594020fcef05ec1630804a33748829c5ff53640d0","affectsGlobalScope":true,"impliedFormat":1},{"version":"4ff2a353abf8a80ee399af572debb8faab2d33ad38c4b4474cff7f26e7653b8d","affectsGlobalScope":true,"impliedFormat":1},{"version":"fb0f136d372979348d59b3f5020b4cdb81b5504192b1cacff5d1fbba29378aa1","affectsGlobalScope":true,"impliedFormat":1},{"version":"d15bea3d62cbbdb9797079416b8ac375ae99162a7fba5de2c6c505446486ac0a","affectsGlobalScope":true,"impliedFormat":1},{"version":"68d18b664c9d32a7336a70235958b8997ebc1c3b8505f4f1ae2b7e7753b87618","affectsGlobalScope":true,"impliedFormat":1},{"version":"eb3d66c8327153d8fa7dd03f9c58d351107fe824c79e9b56b462935176cdf12a","affectsGlobalScope":true,"impliedFormat":1},{"version":"38f0219c9e23c915ef9790ab1d680440d95419ad264816fa15009a8851e79119","affectsGlobalScope":true,"impliedFormat":1},{"version":"69ab18c3b76cd9b1be3d188eaf8bba06112ebbe2f47f6c322b5105a6fbc45a2e","affectsGlobalScope":true,"impliedFormat":1},{"version":"a680117f487a4d2f30ea46f1b4b7f58bef1480456e18ba53ee85c2746eeca012","affectsGlobalScope":true,"impliedFormat":1},{"version":"2f11ff796926e0832f9ae148008138ad583bd181899ab7dd768a2666700b1893","affectsGlobalScope":true,"impliedFormat":1},{"version":"4de680d5bb41c17f7f68e0419412ca23c98d5749dcaaea1896172f06435891fc","affectsGlobalScope":true,"impliedFormat":1},{"version":"954296b30da6d508a104a3a0b5d96b76495c709785c1d11610908e63481ee667","affectsGlobalScope":true,"impliedFormat":1},{"version":"ac9538681b19688c8eae65811b329d3744af679e0bdfa5d842d0e32524c73e1c","affectsGlobalScope":true,"impliedFormat":1},{"version":"0a969edff4bd52585473d24995c5ef223f6652d6ef46193309b3921d65dd4376","affectsGlobalScope":true,"impliedFormat":1},{"version":"9e9fbd7030c440b33d021da145d3232984c8bb7916f277e8ffd3dc2e3eae2bdb","affectsGlobalScope":true,"impliedFormat":1},{"version":"811ec78f7fefcabbda4bfa93b3eb67d9ae166ef95f9bff989d964061cbf81a0c","affectsGlobalScope":true,"impliedFormat":1},{"version":"717937616a17072082152a2ef351cb51f98802fb4b2fdabd32399843875974ca","affectsGlobalScope":true,"impliedFormat":1},{"version":"d7e7d9b7b50e5f22c915b525acc5a49a7a6584cf8f62d0569e557c5cfc4b2ac2","affectsGlobalScope":true,"impliedFormat":1},{"version":"71c37f4c9543f31dfced6c7840e068c5a5aacb7b89111a4364b1d5276b852557","affectsGlobalScope":true,"impliedFormat":1},{"version":"576711e016cf4f1804676043e6a0a5414252560eb57de9faceee34d79798c850","affectsGlobalScope":true,"impliedFormat":1},{"version":"89c1b1281ba7b8a96efc676b11b264de7a8374c5ea1e6617f11880a13fc56dc6","affectsGlobalScope":true,"impliedFormat":1},{"version":"74f7fa2d027d5b33eb0471c8e82a6c87216223181ec31247c357a3e8e2fddc5b","affectsGlobalScope":true,"impliedFormat":1},{"version":"d6d7ae4d1f1f3772e2a3cde568ed08991a8ae34a080ff1151af28b7f798e22ca","affectsGlobalScope":true,"impliedFormat":1},{"version":"063600664504610fe3e99b717a1223f8b1900087fab0b4cad1496a114744f8df","affectsGlobalScope":true,"impliedFormat":1},{"version":"934019d7e3c81950f9a8426d093458b65d5aff2c7c1511233c0fd5b941e608ab","affectsGlobalScope":true,"impliedFormat":1},{"version":"52ada8e0b6e0482b728070b7639ee42e83a9b1c22d205992756fe020fd9f4a47","affectsGlobalScope":true,"impliedFormat":1},{"version":"3bdefe1bfd4d6dee0e26f928f93ccc128f1b64d5d501ff4a8cf3c6371200e5e6","affectsGlobalScope":true,"impliedFormat":1},{"version":"59fb2c069260b4ba00b5643b907ef5d5341b167e7d1dbf58dfd895658bda2867","affectsGlobalScope":true,"impliedFormat":1},{"version":"639e512c0dfc3fad96a84caad71b8834d66329a1f28dc95e3946c9b58176c73a","affectsGlobalScope":true,"impliedFormat":1},{"version":"368af93f74c9c932edd84c58883e736c9e3d53cec1fe24c0b0ff451f529ceab1","affectsGlobalScope":true,"impliedFormat":1},{"version":"af3dd424cf267428f30ccfc376f47a2c0114546b55c44d8c0f1d57d841e28d74","affectsGlobalScope":true,"impliedFormat":1},{"version":"995c005ab91a498455ea8dfb63aa9f83fa2ea793c3d8aa344be4a1678d06d399","affectsGlobalScope":true,"impliedFormat":1},{"version":"959d36cddf5e7d572a65045b876f2956c973a586da58e5d26cde519184fd9b8a","affectsGlobalScope":true,"impliedFormat":1},{"version":"965f36eae237dd74e6cca203a43e9ca801ce38824ead814728a2807b1910117d","affectsGlobalScope":true,"impliedFormat":1},{"version":"3925a6c820dcb1a06506c90b1577db1fdbf7705d65b62b99dce4be75c637e26b","affectsGlobalScope":true,"impliedFormat":1},{"version":"0a3d63ef2b853447ec4f749d3f368ce642264246e02911fcb1590d8c161b8005","affectsGlobalScope":true,"impliedFormat":1},{"version":"8cdf8847677ac7d20486e54dd3fcf09eda95812ac8ace44b4418da1bbbab6eb8","affectsGlobalScope":true,"impliedFormat":1},{"version":"8444af78980e3b20b49324f4a16ba35024fef3ee069a0eb67616ea6ca821c47a","affectsGlobalScope":true,"impliedFormat":1},{"version":"3287d9d085fbd618c3971944b65b4be57859f5415f495b33a6adc994edd2f004","affectsGlobalScope":true,"impliedFormat":1},{"version":"b4b67b1a91182421f5df999988c690f14d813b9850b40acd06ed44691f6727ad","affectsGlobalScope":true,"impliedFormat":1},{"version":"df83c2a6c73228b625b0beb6669c7ee2a09c914637e2d35170723ad49c0f5cd4","affectsGlobalScope":true,"impliedFormat":1},{"version":"436aaf437562f276ec2ddbee2f2cdedac7664c1e4c1d2c36839ddd582eeb3d0a","affectsGlobalScope":true,"impliedFormat":1},{"version":"8e3c06ea092138bf9fa5e874a1fdbc9d54805d074bee1de31b99a11e2fec239d","affectsGlobalScope":true,"impliedFormat":1},{"version":"87dc0f382502f5bbce5129bdc0aea21e19a3abbc19259e0b43ae038a9fc4e326","affectsGlobalScope":true,"impliedFormat":1},{"version":"b1cb28af0c891c8c96b2d6b7be76bd394fddcfdb4709a20ba05a7c1605eea0f9","affectsGlobalScope":true,"impliedFormat":1},{"version":"2fef54945a13095fdb9b84f705f2b5994597640c46afeb2ce78352fab4cb3279","affectsGlobalScope":true,"impliedFormat":1},{"version":"ac77cb3e8c6d3565793eb90a8373ee8033146315a3dbead3bde8db5eaf5e5ec6","affectsGlobalScope":true,"impliedFormat":1},{"version":"56e4ed5aab5f5920980066a9409bfaf53e6d21d3f8d020c17e4de584d29600ad","affectsGlobalScope":true,"impliedFormat":1},{"version":"4ece9f17b3866cc077099c73f4983bddbcb1dc7ddb943227f1ec070f529dedd1","affectsGlobalScope":true,"impliedFormat":1},{"version":"0a6282c8827e4b9a95f4bf4f5c205673ada31b982f50572d27103df8ceb8013c","affectsGlobalScope":true,"impliedFormat":1},{"version":"1c9319a09485199c1f7b0498f2988d6d2249793ef67edda49d1e584746be9032","affectsGlobalScope":true,"impliedFormat":1},{"version":"e3a2a0cee0f03ffdde24d89660eba2685bfbdeae955a6c67e8c4c9fd28928eeb","affectsGlobalScope":true,"impliedFormat":1},{"version":"811c71eee4aa0ac5f7adf713323a5c41b0cf6c4e17367a34fbce379e12bbf0a4","affectsGlobalScope":true,"impliedFormat":1},{"version":"51ad4c928303041605b4d7ae32e0c1ee387d43a24cd6f1ebf4a2699e1076d4fa","affectsGlobalScope":true,"impliedFormat":1},{"version":"60037901da1a425516449b9a20073aa03386cce92f7a1fd902d7602be3a7c2e9","affectsGlobalScope":true,"impliedFormat":1},{"version":"d4b1d2c51d058fc21ec2629fff7a76249dec2e36e12960ea056e3ef89174080f","affectsGlobalScope":true,"impliedFormat":1},{"version":"22adec94ef7047a6c9d1af3cb96be87a335908bf9ef386ae9fd50eeb37f44c47","affectsGlobalScope":true,"impliedFormat":1},{"version":"196cb558a13d4533a5163286f30b0509ce0210e4b316c56c38d4c0fd2fb38405","affectsGlobalScope":true,"impliedFormat":1},{"version":"73f78680d4c08509933daf80947902f6ff41b6230f94dd002ae372620adb0f60","affectsGlobalScope":true,"impliedFormat":1},{"version":"c5239f5c01bcfa9cd32f37c496cf19c61d69d37e48be9de612b541aac915805b","affectsGlobalScope":true,"impliedFormat":1},{"version":"8e7f8264d0fb4c5339605a15daadb037bf238c10b654bb3eee14208f860a32ea","affectsGlobalScope":true,"impliedFormat":1},{"version":"782dec38049b92d4e85c1585fbea5474a219c6984a35b004963b00beb1aab538","affectsGlobalScope":true,"impliedFormat":1},{"version":"170d4db14678c68178ee8a3d5a990d5afb759ecb6ec44dbd885c50f6da6204f6","affectsGlobalScope":true,"impliedFormat":1},{"version":"ac51dd7d31333793807a6abaa5ae168512b6131bd41d9c5b98477fc3b7800f9f","impliedFormat":1},{"version":"5e76305d58bcdc924ff2bf14f6a9dc2aa5441ed06464b7e7bd039e611d66a89b","impliedFormat":1},{"version":"acd8fd5090ac73902278889c38336ff3f48af6ba03aa665eb34a75e7ba1dccc4","impliedFormat":1},{"version":"d6258883868fb2680d2ca96bc8b1352cab69874581493e6d52680c5ffecdb6cc","impliedFormat":1},{"version":"1b61d259de5350f8b1e5db06290d31eaebebc6baafd5f79d314b5af9256d7153","impliedFormat":1},{"version":"f258e3960f324a956fc76a3d3d9e964fff2244ff5859dcc6ce5951e5413ca826","impliedFormat":1},{"version":"643f7232d07bf75e15bd8f658f664d6183a0efaca5eb84b48201c7671a266979","impliedFormat":1},{"version":"21da358700a3893281ce0c517a7a30cbd46be020d9f0c3f2834d0a8ad1f5fc75","impliedFormat":1},{"version":"70521b6ab0dcba37539e5303104f29b721bfb2940b2776da4cc818c07e1fefc1","affectsGlobalScope":true,"impliedFormat":1},{"version":"ab41ef1f2cdafb8df48be20cd969d875602483859dc194e9c97c8a576892c052","affectsGlobalScope":true,"impliedFormat":1},{"version":"d153a11543fd884b596587ccd97aebbeed950b26933ee000f94009f1ab142848","affectsGlobalScope":true,"impliedFormat":1},{"version":"21d819c173c0cf7cc3ce57c3276e77fd9a8a01d35a06ad87158781515c9a438a","impliedFormat":1},{"version":"98cffbf06d6bab333473c70a893770dbe990783904002c4f1a960447b4b53dca","affectsGlobalScope":true,"impliedFormat":1},{"version":"ba481bca06f37d3f2c137ce343c7d5937029b2468f8e26111f3c9d9963d6568d","affectsGlobalScope":true,"impliedFormat":1},{"version":"6d9ef24f9a22a88e3e9b3b3d8c40ab1ddb0853f1bfbd5c843c37800138437b61","affectsGlobalScope":true,"impliedFormat":1},{"version":"1db0b7dca579049ca4193d034d835f6bfe73096c73663e5ef9a0b5779939f3d0","affectsGlobalScope":true,"impliedFormat":1},{"version":"9798340ffb0d067d69b1ae5b32faa17ab31b82466a3fc00d8f2f2df0c8554aaa","affectsGlobalScope":true,"impliedFormat":1},{"version":"f26b11d8d8e4b8028f1c7d618b22274c892e4b0ef5b3678a8ccbad85419aef43","affectsGlobalScope":true,"impliedFormat":1},{"version":"5929864ce17fba74232584d90cb721a89b7ad277220627cc97054ba15a98ea8f","impliedFormat":1},{"version":"763fe0f42b3d79b440a9b6e51e9ba3f3f91352469c1e4b3b67bfa4ff6352f3f4","impliedFormat":1},{"version":"25c8056edf4314820382a5fdb4bb7816999acdcb929c8f75e3f39473b87e85bc","impliedFormat":1},{"version":"c464d66b20788266e5353b48dc4aa6bc0dc4a707276df1e7152ab0c9ae21fad8","impliedFormat":1},{"version":"78d0d27c130d35c60b5e5566c9f1e5be77caf39804636bc1a40133919a949f21","impliedFormat":1},{"version":"c6fd2c5a395f2432786c9cb8deb870b9b0e8ff7e22c029954fabdd692bff6195","impliedFormat":1},{"version":"1d6e127068ea8e104a912e42fc0a110e2aa5a66a356a917a163e8cf9a65e4a75","impliedFormat":1},{"version":"5ded6427296cdf3b9542de4471d2aa8d3983671d4cac0f4bf9c637208d1ced43","impliedFormat":1},{"version":"7f182617db458e98fc18dfb272d40aa2fff3a353c44a89b2c0ccb3937709bfb5","impliedFormat":1},{"version":"cadc8aced301244057c4e7e73fbcae534b0f5b12a37b150d80e5a45aa4bebcbd","impliedFormat":1},{"version":"385aab901643aa54e1c36f5ef3107913b10d1b5bb8cbcd933d4263b80a0d7f20","impliedFormat":1},{"version":"9670d44354bab9d9982eca21945686b5c24a3f893db73c0dae0fd74217a4c219","impliedFormat":1},{"version":"0b8a9268adaf4da35e7fa830c8981cfa22adbbe5b3f6f5ab91f6658899e657a7","impliedFormat":1},{"version":"11396ed8a44c02ab9798b7dca436009f866e8dae3c9c25e8c1fbc396880bf1bb","impliedFormat":1},{"version":"ba7bc87d01492633cb5a0e5da8a4a42a1c86270e7b3d2dea5d156828a84e4882","impliedFormat":1},{"version":"4893a895ea92c85345017a04ed427cbd6a1710453338df26881a6019432febdd","impliedFormat":1},{"version":"c21dc52e277bcfc75fac0436ccb75c204f9e1b3fa5e12729670910639f27343e","impliedFormat":1},{"version":"13f6f39e12b1518c6650bbb220c8985999020fe0f21d818e28f512b7771d00f9","impliedFormat":1},{"version":"9b5369969f6e7175740bf51223112ff209f94ba43ecd3bb09eefff9fd675624a","impliedFormat":1},{"version":"4fe9e626e7164748e8769bbf74b538e09607f07ed17c2f20af8d680ee49fc1da","impliedFormat":1},{"version":"24515859bc0b836719105bb6cc3d68255042a9f02a6022b3187948b204946bd2","impliedFormat":1},{"version":"ea0148f897b45a76544ae179784c95af1bd6721b8610af9ffa467a518a086a43","impliedFormat":1},{"version":"24c6a117721e606c9984335f71711877293a9651e44f59f3d21c1ea0856f9cc9","impliedFormat":1},{"version":"dd3273ead9fbde62a72949c97dbec2247ea08e0c6952e701a483d74ef92d6a17","impliedFormat":1},{"version":"405822be75ad3e4d162e07439bac80c6bcc6dbae1929e179cf467ec0b9ee4e2e","impliedFormat":1},{"version":"0db18c6e78ea846316c012478888f33c11ffadab9efd1cc8bcc12daded7a60b6","impliedFormat":1},{"version":"e61be3f894b41b7baa1fbd6a66893f2579bfad01d208b4ff61daef21493ef0a8","impliedFormat":1},{"version":"bd0532fd6556073727d28da0edfd1736417a3f9f394877b6d5ef6ad88fba1d1a","impliedFormat":1},{"version":"89167d696a849fce5ca508032aabfe901c0868f833a8625d5a9c6e861ef935d2","impliedFormat":1},{"version":"615ba88d0128ed16bf83ef8ccbb6aff05c3ee2db1cc0f89ab50a4939bfc1943f","impliedFormat":1},{"version":"a4d551dbf8746780194d550c88f26cf937caf8d56f102969a110cfaed4b06656","impliedFormat":1},{"version":"8bd86b8e8f6a6aa6c49b71e14c4ffe1211a0e97c80f08d2c8cc98838006e4b88","impliedFormat":1},{"version":"317e63deeb21ac07f3992f5b50cdca8338f10acd4fbb7257ebf56735bf52ab00","impliedFormat":1},{"version":"4732aec92b20fb28c5fe9ad99521fb59974289ed1e45aecb282616202184064f","impliedFormat":1},{"version":"2e85db9e6fd73cfa3d7f28e0ab6b55417ea18931423bd47b409a96e4a169e8e6","impliedFormat":1},{"version":"c46e079fe54c76f95c67fb89081b3e399da2c7d109e7dca8e4b58d83e332e605","impliedFormat":1},{"version":"bf67d53d168abc1298888693338cb82854bdb2e69ef83f8a0092093c2d562107","impliedFormat":1},{"version":"2cbe0621042e2a68c7cbce5dfed3906a1862a16a7d496010636cdbdb91341c0f","affectsGlobalScope":true,"impliedFormat":1},{"version":"e2677634fe27e87348825bb041651e22d50a613e2fdf6a4a3ade971d71bac37e","impliedFormat":1},{"version":"7394959e5a741b185456e1ef5d64599c36c60a323207450991e7a42e08911419","impliedFormat":1},{"version":"8c0bcd6c6b67b4b503c11e91a1fb91522ed585900eab2ab1f61bba7d7caa9d6f","impliedFormat":1},{"version":"8cd19276b6590b3ebbeeb030ac271871b9ed0afc3074ac88a94ed2449174b776","affectsGlobalScope":true,"impliedFormat":1},{"version":"696eb8d28f5949b87d894b26dc97318ef944c794a9a4e4f62360cd1d1958014b","impliedFormat":1},{"version":"3f8fa3061bd7402970b399300880d55257953ee6d3cd408722cb9ac20126460c","impliedFormat":1},{"version":"35ec8b6760fd7138bbf5809b84551e31028fb2ba7b6dc91d95d098bf212ca8b4","affectsGlobalScope":true,"impliedFormat":1},{"version":"5524481e56c48ff486f42926778c0a3cce1cc85dc46683b92b1271865bcf015a","impliedFormat":1},{"version":"68bd56c92c2bd7d2339457eb84d63e7de3bd56a69b25f3576e1568d21a162398","affectsGlobalScope":true,"impliedFormat":1},{"version":"3e93b123f7c2944969d291b35fed2af79a6e9e27fdd5faa99748a51c07c02d28","impliedFormat":1},{"version":"9d19808c8c291a9010a6c788e8532a2da70f811adb431c97520803e0ec649991","impliedFormat":1},{"version":"87aad3dd9752067dc875cfaa466fc44246451c0c560b820796bdd528e29bef40","impliedFormat":1},{"version":"4aacb0dd020eeaef65426153686cc639a78ec2885dc72ad220be1d25f1a439df","impliedFormat":1},{"version":"f0bd7e6d931657b59605c44112eaf8b980ba7f957a5051ed21cb93d978cf2f45","impliedFormat":1},{"version":"8db0ae9cb14d9955b14c214f34dae1b9ef2baee2fe4ce794a4cd3ac2531e3255","affectsGlobalScope":true,"impliedFormat":1},{"version":"15fc6f7512c86810273af28f224251a5a879e4261b4d4c7e532abfbfc3983134","impliedFormat":1},{"version":"58adba1a8ab2d10b54dc1dced4e41f4e7c9772cbbac40939c0dc8ce2cdb1d442","impliedFormat":1},{"version":"2fd4c143eff88dabb57701e6a40e02a4dbc36d5eb1362e7964d32028056a782b","impliedFormat":1},{"version":"714435130b9015fae551788df2a88038471a5a11eb471f27c4ede86552842bc9","impliedFormat":1},{"version":"855cd5f7eb396f5f1ab1bc0f8580339bff77b68a770f84c6b254e319bbfd1ac7","impliedFormat":1},{"version":"5650cf3dace09e7c25d384e3e6b818b938f68f4e8de96f52d9c5a1b3db068e86","impliedFormat":1},{"version":"1354ca5c38bd3fd3836a68e0f7c9f91f172582ba30ab15bb8c075891b91502b7","affectsGlobalScope":true,"impliedFormat":1},{"version":"27fdb0da0daf3b337c5530c5f266efe046a6ceb606e395b346974e4360c36419","impliedFormat":1},{"version":"2d2fcaab481b31a5882065c7951255703ddbe1c0e507af56ea42d79ac3911201","impliedFormat":1},{"version":"a192fe8ec33f75edbc8d8f3ed79f768dfae11ff5735e7fe52bfa69956e46d78d","impliedFormat":1},{"version":"ca867399f7db82df981d6915bcbb2d81131d7d1ef683bc782b59f71dda59bc85","affectsGlobalScope":true,"impliedFormat":1},{"version":"d9e971bba9cf977c7774abbd4d2e3413a231af8a06a2e8b16af2a606bc91ddd0","affectsGlobalScope":true,"impliedFormat":1},{"version":"9e043a1bc8fbf2a255bccf9bf27e0f1caf916c3b0518ea34aa72357c0afd42ec","impliedFormat":1},{"version":"b4f70ec656a11d570e1a9edce07d118cd58d9760239e2ece99306ee9dfe61d02","impliedFormat":1},{"version":"3bc2f1e2c95c04048212c569ed38e338873f6a8593930cf5a7ef24ffb38fc3b6","impliedFormat":1},{"version":"6e70e9570e98aae2b825b533aa6292b6abd542e8d9f6e9475e88e1d7ba17c866","impliedFormat":1},{"version":"f9d9d753d430ed050dc1bf2667a1bab711ccbb1c1507183d794cc195a5b085cc","impliedFormat":1},{"version":"9eece5e586312581ccd106d4853e861aaaa1a39f8e3ea672b8c3847eedd12f6e","impliedFormat":1},{"version":"47ab634529c5955b6ad793474ae188fce3e6163e3a3fb5edd7e0e48f14435333","impliedFormat":1},{"version":"37ba7b45141a45ce6e80e66f2a96c8a5ab1bcef0fc2d0f56bb58df96ec67e972","impliedFormat":1},{"version":"45650f47bfb376c8a8ed39d4bcda5902ab899a3150029684ee4c10676d9fbaee","impliedFormat":1},{"version":"0225ecb9ed86bdb7a2c7fd01f1556906902929377b44483dc4b83e03b3ef227d","affectsGlobalScope":true,"impliedFormat":1},{"version":"74cf591a0f63db318651e0e04cb55f8791385f86e987a67fd4d2eaab8191f730","impliedFormat":1},{"version":"5eab9b3dc9b34f185417342436ec3f106898da5f4801992d8ff38ab3aff346b5","impliedFormat":1},{"version":"12ed4559eba17cd977aa0db658d25c4047067444b51acfdcbf38470630642b23","affectsGlobalScope":true,"impliedFormat":1},{"version":"f3ffabc95802521e1e4bcba4c88d8615176dc6e09111d920c7a213bdda6e1d65","impliedFormat":1},{"version":"f9ab232778f2842ffd6955f88b1049982fa2ecb764d129ee4893cbc290f41977","impliedFormat":1},{"version":"ae56f65caf3be91108707bd8dfbccc2a57a91feb5daabf7165a06a945545ed26","impliedFormat":1},{"version":"a136d5de521da20f31631a0a96bf712370779d1c05b7015d7019a9b2a0446ca9","impliedFormat":1},{"version":"c3b41e74b9a84b88b1dca61ec39eee25c0dbc8e7d519ba11bb070918cfacf656","affectsGlobalScope":true,"impliedFormat":1},{"version":"4737a9dc24d0e68b734e6cfbcea0c15a2cfafeb493485e27905f7856988c6b29","affectsGlobalScope":true,"impliedFormat":1},{"version":"36d8d3e7506b631c9582c251a2c0b8a28855af3f76719b12b534c6edf952748d","impliedFormat":1},{"version":"1ca69210cc42729e7ca97d3a9ad48f2e9cb0042bada4075b588ae5387debd318","impliedFormat":1},{"version":"f5ebe66baaf7c552cfa59d75f2bfba679f329204847db3cec385acda245e574e","impliedFormat":1},{"version":"ed59add13139f84da271cafd32e2171876b0a0af2f798d0c663e8eeb867732cf","affectsGlobalScope":true,"impliedFormat":1},{"version":"05db535df8bdc30d9116fe754a3473d1b6479afbc14ae8eb18b605c62677d518","impliedFormat":1},{"version":"b1810689b76fd473bd12cc9ee219f8e62f54a7d08019a235d07424afbf074d25","impliedFormat":1},{"version":"24259d3dae14de55d22f8b3d3e96954e5175a925ab6a830dc05a1993d4794eda","impliedFormat":1},{"version":"27e046d30d55669e9b5a325788a9b4073b05ce62607867754d2918af559a0877","impliedFormat":1},{"version":"be1cc4d94ea60cbe567bc29ed479d42587bf1e6cba490f123d329976b0fe4ee5","impliedFormat":1},{"version":"42bc0e1a903408137c3df2b06dfd7e402cdab5bbfa5fcfb871b22ebfdb30bd0b","impliedFormat":1},{"version":"9894dafe342b976d251aac58e616ac6df8db91fb9d98934ff9dd103e9e82578f","impliedFormat":1},{"version":"413df52d4ea14472c2fa5bee62f7a40abd1eb49be0b9722ee01ee4e52e63beb2","impliedFormat":1},{"version":"db6d2d9daad8a6d83f281af12ce4355a20b9a3e71b82b9f57cddcca0a8964a96","impliedFormat":1},{"version":"446a50749b24d14deac6f8843e057a6355dd6437d1fac4f9e5ce4a5071f34bff","impliedFormat":1},{"version":"182e9fcbe08ac7c012e0a6e2b5798b4352470be29a64fdc114d23c2bab7d5106","impliedFormat":1},{"version":"5c9b31919ea1cb350a7ae5e71c9ced8f11723e4fa258a8cc8d16ae46edd623c7","impliedFormat":1},{"version":"4aa42ce8383b45823b3a1d3811c0fdd5f939f90254bc4874124393febbaf89f6","impliedFormat":1},{"version":"96ffa70b486207241c0fcedb5d9553684f7fa6746bc2b04c519e7ebf41a51205","impliedFormat":1},{"version":"5c24c66b3ba29ce9f2a79c719967e6e944131352a117a0bc43fa5b346b5562b3","impliedFormat":1},{"version":"a86f82d646a739041d6702101afa82dcb935c416dd93cbca7fd754fd0282ce1f","impliedFormat":1},{"version":"ad0d1d75d129b1c80f911be438d6b61bfa8703930a8ff2be2f0e1f8a91841c64","impliedFormat":1},{"version":"ce75b1aebb33d510ff28af960a9221410a3eaf7f18fc5f21f9404075fba77256","impliedFormat":1},{"version":"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855","impliedFormat":1},{"version":"02436d7e9ead85e09a2f8e27d5f47d9464bced31738dec138ca735390815c9f0","impliedFormat":1},{"version":"f4625edcb57b37b84506e8b276eb59ca30d31f88c6656d29d4e90e3bc58e69df","impliedFormat":1},{"version":"78a2869ad0cbf3f9045dda08c0d4562b7e1b2bfe07b19e0db072f5c3c56e9584","impliedFormat":1},{"version":"f8d5ff8eafd37499f2b6a98659dd9b45a321de186b8db6b6142faed0fea3de77","impliedFormat":1},{"version":"c86fe861cf1b4c46a0fb7d74dffe596cf679a2e5e8b1456881313170f092e3fa","impliedFormat":1},{"version":"c685d9f68c70fe11ce527287526585a06ea13920bb6c18482ca84945a4e433a7","impliedFormat":1},{"version":"540cc83ab772a2c6bc509fe1354f314825b5dba3669efdfbe4693ecd3048e34f","impliedFormat":1},{"version":"121b0696021ab885c570bbeb331be8ad82c6efe2f3b93a6e63874901bebc13e3","impliedFormat":1},{"version":"4e01846df98d478a2a626ec3641524964b38acaac13945c2db198bf9f3df22ee","impliedFormat":1},{"version":"678d6d4c43e5728bf66e92fc2269da9fa709cb60510fed988a27161473c3853f","impliedFormat":1},{"version":"ffa495b17a5ef1d0399586b590bd281056cee6ce3583e34f39926f8dcc6ecdb5","impliedFormat":1},{"version":"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855","impliedFormat":1},{"version":"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855","impliedFormat":1},{"version":"8e609bb71c20b858c77f0e9f90bb1319db8477b13f9f965f1a1e18524bf50881","impliedFormat":1},{"version":"8e609bb71c20b858c77f0e9f90bb1319db8477b13f9f965f1a1e18524bf50881","impliedFormat":1},{"version":"aa14cee20aa0db79f8df101fc027d929aec10feb5b8a8da3b9af3895d05b7ba2","impliedFormat":1},{"version":"493c700ac3bd317177b2eb913805c87fe60d4e8af4fb39c41f04ba81fae7e170","impliedFormat":1},{"version":"aeb554d876c6b8c818da2e118d8b11e1e559adbe6bf606cc9a611c1b6c09f670","impliedFormat":1},{"version":"acf5a2ac47b59ca07afa9abbd2b31d001bf7448b041927befae2ea5b1951d9f9","impliedFormat":1},{"version":"8e609bb71c20b858c77f0e9f90bb1319db8477b13f9f965f1a1e18524bf50881","impliedFormat":1},{"version":"d71291eff1e19d8762a908ba947e891af44749f3a2cbc5bd2ec4b72f72ea795f","impliedFormat":1},{"version":"c0480e03db4b816dff2682b347c95f2177699525c54e7e6f6aa8ded890b76be7","impliedFormat":1},{"version":"e2a37ac938c4bede5bb284b9d2d042da299528f1e61f6f57538f1bd37d760869","impliedFormat":1},{"version":"76def37aff8e3a051cf406e10340ffba0f28b6991c5d987474cc11137796e1eb","impliedFormat":1},{"version":"b620391fe8060cf9bedc176a4d01366e6574d7a71e0ac0ab344a4e76576fcbb8","impliedFormat":1},{"version":"3e7efde639c6a6c3edb9847b3f61e308bf7a69685b92f665048c45132f51c218","impliedFormat":1},{"version":"df45ca1176e6ac211eae7ddf51336dc075c5314bc5c253651bae639defd5eec5","impliedFormat":1},{"version":"106c6025f1d99fd468fd8bf6e5bda724e11e5905a4076c5d29790b6c3745e50c","impliedFormat":1},{"version":"ee8df1cb8d0faaca4013a1b442e99130769ce06f438d18d510fed95890067563","impliedFormat":1},{"version":"bfb7f8475428637bee12bdd31bd9968c1c8a1cc2c3e426c959e2f3a307f8936f","impliedFormat":1},{"version":"6f491d0108927478d3247bbbc489c78c2da7ef552fd5277f1ab6819986fdf0b1","impliedFormat":1},{"version":"0d8f2b8781c721170b87a6b662b3cb038fd1a721165ecca390352c818d425872","impliedFormat":1},{"version":"7cb0ee103671d1e201cd53dda12bc1cd0a35f1c63d6102720c6eeb322cb8e17e","impliedFormat":1},{"version":"15a234e5031b19c48a69ccc1607522d6e4b50f57d308ecb7fe863d44cd9f9eb3","impliedFormat":1},{"version":"148679c6d0f449210a96e7d2e562d589e56fcde87f843a92808b3ff103f1a774","impliedFormat":1},{"version":"6459054aabb306821a043e02b89d54da508e3a6966601a41e71c166e4ea1474f","impliedFormat":1},{"version":"2f9c89cbb29d362290531b48880a4024f258c6033aaeb7e59fbc62db26819650","impliedFormat":1},{"version":"bb37588926aba35c9283fe8d46ebf4e79ffe976343105f5c6d45f282793352b2","impliedFormat":1},{"version":"05c97cddbaf99978f83d96de2d8af86aded9332592f08ce4a284d72d0952c391","impliedFormat":1},{"version":"72179f9dd22a86deaad4cc3490eb0fe69ee084d503b686985965654013f1391b","impliedFormat":1},{"version":"2e6114a7dd6feeef85b2c80120fdbfb59a5529c0dcc5bfa8447b6996c97a69f5","impliedFormat":1},{"version":"7b6ff760c8a240b40dab6e4419b989f06a5b782f4710d2967e67c695ef3e93c4","impliedFormat":1},{"version":"c8f004e6036aa1c764ad4ec543cf89a5c1893a9535c80ef3f2b653e370de45e6","impliedFormat":1},{"version":"dd80b1e600d00f5c6a6ba23f455b84a7db121219e68f89f10552c54ba46e4dc9","impliedFormat":1},{"version":"b064c36f35de7387d71c599bfcf28875849a1dbc733e82bd26cae3d1cd060521","impliedFormat":1},{"version":"05c7280d72f3ed26f346cbe7cbbbb002fb7f15739197cbbee6ab3fd1a6cb9347","impliedFormat":1},{"version":"8de9fe97fa9e00ec00666fa77ab6e91b35d25af8ca75dabcb01e14ad3299b150","impliedFormat":1},{"version":"803cd2aaf1921c218916c2c7ee3fce653e852d767177eb51047ff15b5b253893","impliedFormat":1},{"version":"dba114fb6a32b355a9cfc26ca2276834d72fe0e94cd2c3494005547025015369","impliedFormat":1},{"version":"7ab12b2f1249187223d11a589f5789c75177a0b597b9eb7f8e2e42d045393347","impliedFormat":1},{"version":"ad37fb4be61c1035b68f532b7220f4e8236cf245381ce3b90ac15449ecfe7305","impliedFormat":1},{"version":"93436bd74c66baba229bfefe1314d122c01f0d4c1d9e35081a0c4f0470ac1a6c","impliedFormat":1},{"version":"f974e4a06953682a2c15d5bd5114c0284d5abf8bc0fe4da25cb9159427b70072","impliedFormat":1},{"version":"50256e9c31318487f3752b7ac12ff365c8949953e04568009c8705db802776fb","impliedFormat":1},{"version":"7d73b24e7bf31dfb8a931ca6c4245f6bb0814dfae17e4b60c9e194a631fe5f7b","impliedFormat":1},{"version":"d130c5f73768de51402351d5dc7d1b36eaec980ca697846e53156e4ea9911476","impliedFormat":1},{"version":"413586add0cfe7369b64979d4ec2ed56c3f771c0667fbde1bf1f10063ede0b08","impliedFormat":1},{"version":"06472528e998d152375ad3bd8ebcb69ff4694fd8d2effaf60a9d9f25a37a097a","impliedFormat":1},{"version":"50b5bc34ce6b12eccb76214b51aadfa56572aa6cc79c2b9455cdbb3d6c76af1d","impliedFormat":1},{"version":"b7e16ef7f646a50991119b205794ebfd3a4d8f8e0f314981ebbe991639023d0e","impliedFormat":1},{"version":"42c169fb8c2d42f4f668c624a9a11e719d5d07dacbebb63cbcf7ef365b0a75b3","impliedFormat":1},{"version":"a401617604fa1f6ce437b81689563dfdc377069e4c58465dbd8d16069aede0a5","impliedFormat":1},{"version":"6e9082e91370de5040e415cd9f24e595b490382e8c7402c4e938a8ce4bccc99f","impliedFormat":1},{"version":"8695dec09ad439b0ceef3776ea68a232e381135b516878f0901ed2ea114fd0fe","impliedFormat":1},{"version":"304b44b1e97dd4c94697c3313df89a578dca4930a104454c99863f1784a54357","impliedFormat":1},{"version":"d682336018141807fb602709e2d95a192828fcb8d5ba06dda3833a8ea98f69e3","impliedFormat":1},{"version":"6124e973eab8c52cabf3c07575204efc1784aca6b0a30c79eb85fe240a857efa","impliedFormat":1},{"version":"0d891735a21edc75df51f3eb995e18149e119d1ce22fd40db2b260c5960b914e","impliedFormat":1},{"version":"3b414b99a73171e1c4b7b7714e26b87d6c5cb03d200352da5342ab4088a54c85","impliedFormat":1},{"version":"4fbd3116e00ed3a6410499924b6403cc9367fdca303e34838129b328058ede40","impliedFormat":1},{"version":"b01bd582a6e41457bc56e6f0f9de4cb17f33f5f3843a7cf8210ac9c18472fb0f","impliedFormat":1},{"version":"0a437ae178f999b46b6153d79095b60c42c996bc0458c04955f1c996dc68b971","impliedFormat":1},{"version":"74b2a5e5197bd0f2e0077a1ea7c07455bbea67b87b0869d9786d55104006784f","impliedFormat":1},{"version":"4a7baeb6325920044f66c0f8e5e6f1f52e06e6d87588d837bdf44feb6f35c664","impliedFormat":1},{"version":"12d218a49dbe5655b911e6cc3c13b2c655e4c783471c3b0432137769c79e1b3c","impliedFormat":1},{"version":"7274fbffbd7c9589d8d0ffba68157237afd5cecff1e99881ea3399127e60572f","impliedFormat":1},{"version":"6b0fc04121360f752d196ba35b6567192f422d04a97b2840d7d85f8b79921c92","impliedFormat":1},{"version":"65a15fc47900787c0bd18b603afb98d33ede930bed1798fc984d5ebb78b26cf9","impliedFormat":1},{"version":"9d202701f6e0744adb6314d03d2eb8fc994798fc83d91b691b75b07626a69801","impliedFormat":1},{"version":"a365c4d3bed3be4e4e20793c999c51f5cd7e6792322f14650949d827fbcd170f","impliedFormat":1},{"version":"c5426dbfc1cf90532f66965a7aa8c1136a78d4d0f96d8180ecbfc11d7722f1a5","impliedFormat":1},{"version":"9c82171d836c47486074e4ca8e059735bf97b205e70b196535b5efd40cbe1bc5","impliedFormat":1},{"version":"f374cb24e93e7798c4d9e83ff872fa52d2cdb36306392b840a6ddf46cb925cb6","impliedFormat":1},{"version":"42b81043b00ff27c6bd955aea0f6e741545f2265978bf364b614702b72a027ab","impliedFormat":1},{"version":"de9d2df7663e64e3a91bf495f315a7577e23ba088f2949d5ce9ec96f44fba37d","impliedFormat":1},{"version":"c7af78a2ea7cb1cd009cfb5bdb48cd0b03dad3b54f6da7aab615c2e9e9d570c5","impliedFormat":1},{"version":"1ee45496b5f8bdee6f7abc233355898e5bf9bd51255db65f5ff7ede617ca0027","impliedFormat":1},{"version":"97e5ccc7bb88419005cbdf812243a5b3186cdef81b608540acabe1be163fc3e4","affectsGlobalScope":true,"impliedFormat":1},{"version":"3fbdd025f9d4d820414417eeb4107ffa0078d454a033b506e22d3a23bc3d9c41","affectsGlobalScope":true,"impliedFormat":1},{"version":"a8f8e6ab2fa07b45251f403548b78eaf2022f3c2254df3dc186cb2671fe4996d","affectsGlobalScope":true,"impliedFormat":1},{"version":"fa6c12a7c0f6b84d512f200690bfc74819e99efae69e4c95c4cd30f6884c526e","impliedFormat":1},{"version":"f1c32f9ce9c497da4dc215c3bc84b722ea02497d35f9134db3bb40a8d918b92b","impliedFormat":1},{"version":"b73c319af2cc3ef8f6421308a250f328836531ea3761823b4cabbd133047aefa","affectsGlobalScope":true,"impliedFormat":1},{"version":"e433b0337b8106909e7953015e8fa3f2d30797cea27141d1c5b135365bb975a6","impliedFormat":1},{"version":"9f9bb6755a8ce32d656ffa4763a8144aa4f274d6b69b59d7c32811031467216e","impliedFormat":1},{"version":"5c32bdfbd2d65e8fffbb9fbda04d7165e9181b08dad61154961852366deb7540","impliedFormat":1},{"version":"ddff7fc6edbdc5163a09e22bf8df7bef75f75369ebd7ecea95ba55c4386e2441","impliedFormat":1},{"version":"6b3453eebd474cc8acf6d759f1668e6ce7425a565e2996a20b644c72916ecf75","impliedFormat":1},{"version":"0c05e9842ec4f8b7bfebfd3ca61604bb8c914ba8da9b5337c4f25da427a005f2","impliedFormat":1},{"version":"89cd3444e389e42c56fd0d072afef31387e7f4107651afd2c03950f22dc36f77","impliedFormat":1},{"version":"7f2aa4d4989a82530aaac3f72b3dceca90e9c25bee0b1a327e8a08a1262435ad","impliedFormat":1},{"version":"e39a304f882598138a8022106cb8de332abbbb87f3fee71c5ca6b525c11c51fc","impliedFormat":1},{"version":"faed7a5153215dbd6ebe76dfdcc0af0cfe760f7362bed43284be544308b114cf","impliedFormat":1},{"version":"fcdf3e40e4a01b9a4b70931b8b51476b210c511924fcfe3f0dae19c4d52f1a54","impliedFormat":1},{"version":"345c4327b637d34a15aba4b7091eb068d6ab40a3dedaab9f00986253c9704e53","impliedFormat":1},{"version":"3a788c7fb7b1b1153d69a4d1d9e1d0dfbcf1127e703bdb02b6d12698e683d1fb","impliedFormat":1},{"version":"2e4f37ffe8862b14d8e24ae8763daaa8340c0df0b859d9a9733def0eee7562d9","impliedFormat":1},{"version":"d38530db0601215d6d767f280e3a3c54b2a83b709e8d9001acb6f61c67e965fc","impliedFormat":1},{"version":"6ac6715916fa75a1f7ebdfeacac09513b4d904b667d827b7535e84ff59679aff","impliedFormat":1},{"version":"4805f6161c2c8cefb8d3b8bd96a080c0fe8dbc9315f6ad2e53238f9a79e528a6","impliedFormat":1},{"version":"b83cb14474fa60c5f3ec660146b97d122f0735627f80d82dd03e8caa39b4388c","impliedFormat":1},{"version":"2b5b70d7782fe028487a80a1c214e67bd610532b9f978b78fa60f5b4a359f77e","impliedFormat":1},{"version":"7ee86fbb3754388e004de0ef9e6505485ddfb3be7640783d6d015711c03d302d","impliedFormat":1},{"version":"1a82deef4c1d39f6882f28d275cad4c01f907b9b39be9cbc472fcf2cf051e05b","impliedFormat":1},{"version":"162e071992b34bc36ca257d629547f93cb43728d6fe073ad18a237e4f7c52d7d","impliedFormat":1},{"version":"b73cbf0a72c8800cf8f96a9acfe94f3ad32ca71342a8908b8ae484d61113f647","impliedFormat":1},{"version":"bae6dd176832f6423966647382c0d7ba9e63f8c167522f09a982f086cd4e8b23","impliedFormat":1},{"version":"20865ac316b8893c1a0cc383ccfc1801443fbcc2a7255be166cf90d03fac88c9","impliedFormat":1},{"version":"c9958eb32126a3843deedda8c22fb97024aa5d6dd588b90af2d7f2bfac540f23","impliedFormat":1},{"version":"461d0ad8ae5f2ff981778af912ba71b37a8426a33301daa00f21c6ccb27f8156","impliedFormat":1},{"version":"e927c2c13c4eaf0a7f17e6022eee8519eb29ef42c4c13a31e81a611ab8c95577","impliedFormat":1},{"version":"fcafff163ca5e66d3b87126e756e1b6dfa8c526aa9cd2a2b0a9da837d81bbd72","impliedFormat":1},{"version":"70246ad95ad8a22bdfe806cb5d383a26c0c6e58e7207ab9c431f1cb175aca657","impliedFormat":1},{"version":"f00f3aa5d64ff46e600648b55a79dcd1333458f7a10da2ed594d9f0a44b76d0b","impliedFormat":1},{"version":"772d8d5eb158b6c92412c03228bd9902ccb1457d7a705b8129814a5d1a6308fc","impliedFormat":1},{"version":"802e797bcab5663b2c9f63f51bdf67eff7c41bc64c0fd65e6da3e7941359e2f7","impliedFormat":1},{"version":"8b4327413e5af38cd8cb97c59f48c3c866015d5d642f28518e3a891c469f240e","impliedFormat":1},{"version":"7e6ac205dcb9714f708354fd863bffa45cee90740706cc64b3b39b23ebb84744","impliedFormat":1},{"version":"61dc6e3ac78d64aa864eedd0a208b97b5887cc99c5ba65c03287bf57d83b1eb9","impliedFormat":1},{"version":"4b20fcf10a5413680e39f5666464859fc56b1003e7dfe2405ced82371ebd49b6","impliedFormat":1},{"version":"c06ef3b2569b1c1ad99fcd7fe5fba8d466e2619da5375dfa940a94e0feea899b","impliedFormat":1},{"version":"f7d628893c9fa52ba3ab01bcb5e79191636c4331ee5667ecc6373cbccff8ae12","impliedFormat":1},{"version":"1d879125d1ec570bf04bc1f362fdbe0cb538315c7ac4bcfcdf0c1e9670846aa6","impliedFormat":1},{"version":"8baa8dbdc393e3c6b26e8e31384b938756ce2effdc126648d43e58291ce9869b","impliedFormat":1},{"version":"933aee906d42ea2c53b6892192a8127745f2ec81a90695df4024308ba35a8ff4","impliedFormat":1},{"version":"d663134457d8d669ae0df34eabd57028bddc04fc444c4bc04bc5215afc91e1f4","impliedFormat":1},{"version":"985153f0deb9b4391110331a2f0c114019dbea90cba5ca68a4107700796e0d75","impliedFormat":1},{"version":"a3e3f0efcae272ab8ee3298e4e819f7d9dd9ff411101f45444877e77cfeca9a4","impliedFormat":1},{"version":"43e96a3d5d1411ab40ba2f61d6a3192e58177bcf3b133a80ad2a16591611726d","impliedFormat":1},{"version":"58659b06d33fa430bee1105b75cf876c0a35b2567207487c8578aec51ca2d977","impliedFormat":1},{"version":"71d9eb4c4e99456b78ae182fb20a5dfc20eb1667f091dbb9335b3c017dd1c783","impliedFormat":1},{"version":"cfa846a7b7847a1d973605fbb8c91f47f3a0f0643c18ac05c47077ebc72e71c7","impliedFormat":1},{"version":"30e6520444df1a004f46fdc8096f3fe06f7bbd93d09c53ada9dcdde59919ccca","impliedFormat":1},{"version":"6c800b281b9e89e69165fd11536195488de3ff53004e55905e6c0059a2d8591e","impliedFormat":1},{"version":"7d4254b4c6c67a29d5e7f65e67d72540480ac2cfb041ca484847f5ae70480b62","impliedFormat":1},{"version":"a58beefce74db00dbb60eb5a4bb0c6726fb94c7797c721f629142c0ae9c94306","impliedFormat":1},{"version":"41eeb453ccb75c5b2c3abef97adbbd741bd7e9112a2510e12f03f646dc9ad13d","impliedFormat":1},{"version":"502fa5863df08b806dbf33c54bee8c19f7e2ad466785c0fc35465d7c5ff80995","impliedFormat":1},{"version":"c91a2d08601a1547ffef326201be26db94356f38693bb18db622ae5e9b3d7c92","impliedFormat":1},{"version":"888cda0fa66d7f74e985a3f7b1af1f64b8ff03eb3d5e80d051c3cbdeb7f32ab7","impliedFormat":1},{"version":"60681e13f3545be5e9477acb752b741eae6eaf4cc01658a25ec05bff8b82a2ef","impliedFormat":1},{"version":"8b4b8ebc2d99ae651c5c4169ee8b24e2b0e02a3dfaef84e357d677b663c18fdf","impliedFormat":1},{"version":"a57b1802794433adec9ff3fed12aa79d671faed86c49b09e02e1ac41b4f1d33a","impliedFormat":1},{"version":"ad10d4f0517599cdeca7755b930f148804e3e0e5b5a3847adce0f1f71bbccd74","impliedFormat":1},{"version":"1042064ece5bb47d6aba91648fbe0635c17c600ebdf567588b4ca715602f0a9d","impliedFormat":1},{"version":"c49469a5349b3cc1965710b5b0f98ed6c028686aa8450bcb3796728873eb923e","impliedFormat":1},{"version":"4a889f2c763edb4d55cb624257272ac10d04a1cad2ed2948b10ed4a7fda2a428","impliedFormat":1},{"version":"7bb79aa2fead87d9d56294ef71e056487e848d7b550c9a367523ee5416c44cfa","impliedFormat":1},{"version":"d88ea80a6447d7391f52352ec97e56b52ebec934a4a4af6e2464cfd8b39c3ba8","impliedFormat":1},{"version":"55095860901097726220b6923e35a812afdd49242a1246d7b0942ee7eb34c6e4","impliedFormat":1},{"version":"96171c03c2e7f314d66d38acd581f9667439845865b7f85da8df598ff9617476","impliedFormat":1},{"version":"27ff4196654e6373c9af16b6165120e2dd2169f9ad6abb5c935af5abd8c7938c","impliedFormat":1},{"version":"bb8f2dbc03533abca2066ce4655c119bff353dd4514375beb93c08590c03e023","impliedFormat":1},{"version":"d193c8a86144b3a87b22bc1f5534b9c3e0f5a187873ec337c289a183973a58fe","impliedFormat":1},{"version":"1a6e6ba8a07b74e3ad237717c0299d453f9ceb795dbc2f697d1f2dd07cb782d2","impliedFormat":1},{"version":"58d70c38037fc0f949243388ff7ae20cf43321107152f14a9d36ca79311e0ada","impliedFormat":1},{"version":"f56bdc6884648806d34bc66d31cdb787c4718d04105ce2cd88535db214631f82","impliedFormat":1},{"version":"190da5eac6478d61ab9731ab2146fbc0164af2117a363013249b7e7992f1cccb","impliedFormat":1},{"version":"01479d9d5a5dda16d529b91811375187f61a06e74be294a35ecce77e0b9e8d6c","impliedFormat":1},{"version":"49f95e989b4632c6c2a578cc0078ee19a5831832d79cc59abecf5160ea71abad","impliedFormat":1},{"version":"9666533332f26e8995e4d6fe472bdeec9f15d405693723e6497bf94120c566c8","impliedFormat":1},{"version":"ce0df82a9ae6f914ba08409d4d883983cc08e6d59eb2df02d8e4d68309e7848b","impliedFormat":1},{"version":"796273b2edc72e78a04e86d7c58ae94d370ab93a0ddf40b1aa85a37a1c29ecd7","impliedFormat":1},{"version":"5df15a69187d737d6d8d066e189ae4f97e41f4d53712a46b2710ff9f8563ec9f","impliedFormat":1},{"version":"1a4dc28334a926d90ba6a2d811ba0ff6c22775fcc13679521f034c124269fd40","impliedFormat":1},{"version":"f05315ff85714f0b87cc0b54bcd3dde2716e5a6b99aedcc19cad02bf2403e08c","impliedFormat":1},{"version":"8a8c64dafaba11c806efa56f5c69f611276471bef80a1db1f71316ec4168acef","impliedFormat":1},{"version":"43ba4f2fa8c698f5c304d21a3ef596741e8e85a810b7c1f9b692653791d8d97a","impliedFormat":1},{"version":"5fad3b31fc17a5bc58095118a8b160f5260964787c52e7eb51e3d4fcf5d4a6f0","impliedFormat":1},{"version":"72105519d0390262cf0abe84cf41c926ade0ff475d35eb21307b2f94de985778","impliedFormat":1},{"version":"d0a4cac61fa080f2be5ebb68b82726be835689b35994ba0e22e3ed4d2bc45e3b","impliedFormat":1},{"version":"c857e0aae3f5f444abd791ec81206020fbcc1223e187316677e026d1c1d6fe08","impliedFormat":1},{"version":"ccf6dd45b708fb74ba9ed0f2478d4eb9195c9dfef0ff83a6092fa3cf2ff53b4f","impliedFormat":1},{"version":"2d7db1d73456e8c5075387d4240c29a2a900847f9c1bff106a2e490da8fbd457","impliedFormat":1},{"version":"2b15c805f48e4e970f8ec0b1915f22d13ca6212375e8987663e2ef5f0205e832","impliedFormat":1},{"version":"205a31b31beb7be73b8df18fcc43109cbc31f398950190a0967afc7a12cb478c","impliedFormat":1},{"version":"8fca3039857709484e5893c05c1f9126ab7451fa6c29e19bb8c2411a2e937345","impliedFormat":1},{"version":"35069c2c417bd7443ae7c7cafd1de02f665bf015479fec998985ffbbf500628c","impliedFormat":1},{"version":"dba6c7006e14a98ec82999c6f89fbbbfd1c642f41db148535f3b77b8018829b8","impliedFormat":1},{"version":"7f897b285f22a57a5c4dc14a27da2747c01084a542b4d90d33897216dceeea2e","impliedFormat":1},{"version":"7e0b7f91c5ab6e33f511efc640d36e6f933510b11be24f98836a20a2dc914c2d","impliedFormat":1},{"version":"045b752f44bf9bbdcaffd882424ab0e15cb8d11fa94e1448942e338c8ef19fba","impliedFormat":1},{"version":"2894c56cad581928bb37607810af011764a2f511f575d28c9f4af0f2ef02d1ab","impliedFormat":1},{"version":"0a72186f94215d020cb386f7dca81d7495ab6c17066eb07d0f44a5bf33c1b21a","impliedFormat":1},{"version":"d96b39301d0ded3f1a27b47759676a33a02f6f5049bfcbde81e533fd10f50dcb","impliedFormat":1},{"version":"2ded4f930d6abfaa0625cf55e58f565b7cbd4ab5b574dd2cb19f0a83a2f0be8b","impliedFormat":1},{"version":"0aedb02516baf3e66b2c1db9fef50666d6ed257edac0f866ea32f1aa05aa474f","impliedFormat":1},{"version":"ca0f4d9068d652bad47e326cf6ba424ac71ab866e44b24ddb6c2bd82d129586a","affectsGlobalScope":true,"impliedFormat":1},{"version":"04d36005fcbeac741ac50c421181f4e0316d57d148d37cc321a8ea285472462b","impliedFormat":1},{"version":"9e2739b32f741859263fdba0244c194ca8e96da49b430377930b8f721d77c000","impliedFormat":1},{"version":"56ccb49443bfb72e5952f7012f0de1a8679f9f75fc93a5c1ac0bafb28725fc5f","impliedFormat":1},{"version":"20fa37b636fdcc1746ea0738f733d0aed17890d1cd7cb1b2f37010222c23f13e","impliedFormat":1},{"version":"d90b9f1520366d713a73bd30c5a9eb0040d0fb6076aff370796bc776fd705943","impliedFormat":1},{"version":"bc03c3c352f689e38c0ddd50c39b1e65d59273991bfc8858a9e3c0ebb79c023b","impliedFormat":1},{"version":"19df3488557c2fc9b4d8f0bac0fd20fb59aa19dec67c81f93813951a81a867f8","affectsGlobalScope":true,"impliedFormat":1},{"version":"b25350193e103ae90423c5418ddb0ad1168dc9c393c9295ef34980b990030617","affectsGlobalScope":true,"impliedFormat":1},{"version":"bef86adb77316505c6b471da1d9b8c9e428867c2566270e8894d4d773a1c4dc2","impliedFormat":1},{"version":"a46dba563f70f32f9e45ae015f3de979225f668075d7a427f874e0f6db584991","impliedFormat":1},{"version":"6ac6715916fa75a1f7ebdfeacac09513b4d904b667d827b7535e84ff59679aff","impliedFormat":1},{"version":"2652448ac55a2010a1f71dd141f828b682298d39728f9871e1cdf8696ef443fd","impliedFormat":1},{"version":"02c4fc9e6bb27545fa021f6056e88ff5fdf10d9d9f1467f1d10536c6e749ac50","impliedFormat":1},{"version":"120599fd965257b1f4d0ff794bc696162832d9d8467224f4665f713a3119078b","impliedFormat":1},{"version":"5433f33b0a20300cca35d2f229a7fc20b0e8477c44be2affeb21cb464af60c76","impliedFormat":1},{"version":"db036c56f79186da50af66511d37d9fe77fa6793381927292d17f81f787bb195","impliedFormat":1},{"version":"bd4131091b773973ca5d2326c60b789ab1f5e02d8843b3587effe6e1ea7c9d86","impliedFormat":1},{"version":"c7f6485931085bf010fbaf46880a9b9ec1a285ad9dc8c695a9e936f5a48f34b4","impliedFormat":1},{"version":"14f6b927888a1112d662877a5966b05ac1bf7ed25d6c84386db4c23c95a5363b","impliedFormat":1},{"version":"6ac6715916fa75a1f7ebdfeacac09513b4d904b667d827b7535e84ff59679aff","impliedFormat":1},{"version":"622694a8522b46f6310c2a9b5d2530dde1e2854cb5829354e6d1ff8f371cf469","impliedFormat":1},{"version":"d24ff95760ea2dfcc7c57d0e269356984e7046b7e0b745c80fea71559f15bdd8","impliedFormat":1},{"version":"a9e6c0ff3f8186fccd05752cf75fc94e147c02645087ac6de5cc16403323d870","impliedFormat":1},{"version":"49c346823ba6d4b12278c12c977fb3a31c06b9ca719015978cb145eb86da1c61","impliedFormat":1},{"version":"bfac6e50eaa7e73bb66b7e052c38fdc8ccfc8dbde2777648642af33cf349f7f1","impliedFormat":1},{"version":"92f7c1a4da7fbfd67a2228d1687d5c2e1faa0ba865a94d3550a3941d7527a45d","impliedFormat":1},{"version":"f53b120213a9289d9a26f5af90c4c686dd71d91487a0aa5451a38366c70dc64b","impliedFormat":1},{"version":"83fe880c090afe485a5c02262c0b7cdd76a299a50c48d9bde02be8e908fb4ae6","impliedFormat":1},{"version":"13c1b657932e827a7ed510395d94fc8b743b9d053ab95b7cd829b2bc46fb06db","impliedFormat":1},{"version":"57d67b72e06059adc5e9454de26bbfe567d412b962a501d263c75c2db430f40e","impliedFormat":1},{"version":"6511e4503cf74c469c60aafd6589e4d14d5eb0a25f9bf043dcbecdf65f261972","impliedFormat":1},{"version":"078131f3a722a8ad3fc0b724cd3497176513cdcb41c80f96a3acbda2a143b58e","impliedFormat":1},{"version":"8c70ddc0c22d85e56011d49fddfaae3405eb53d47b59327b9dd589e82df672e7","impliedFormat":1},{"version":"a67b87d0281c97dfc1197ef28dfe397fc2c865ccd41f7e32b53f647184cc7307","impliedFormat":1},{"version":"771ffb773f1ddd562492a6b9aaca648192ac3f056f0e1d997678ff97dbb6bf9b","impliedFormat":1},{"version":"232f70c0cf2b432f3a6e56a8dc3417103eb162292a9fd376d51a3a9ea5fbbf6f","impliedFormat":1},{"version":"9e155d2255348d950b1f65643fb26c0f14f5109daf8bd9ee24a866ad0a743648","affectsGlobalScope":true,"impliedFormat":1},{"version":"0b103e9abfe82d14c0ad06a55d9f91d6747154ef7cacc73cf27ecad2bfb3afcf","impliedFormat":1},{"version":"7a883e9c84e720810f86ef4388f54938a65caa0f4d181a64e9255e847a7c9f51","impliedFormat":1},{"version":"a0ba218ac1baa3da0d5d9c1ec1a7c2f8676c284e6f5b920d6d049b13fa267377","impliedFormat":1},{"version":"8a0e762ceb20c7e72504feef83d709468a70af4abccb304f32d6b9bac1129b2c","impliedFormat":1},{"version":"d408d6f32de8d1aba2ff4a20f1aa6a6edd7d92c997f63b90f8ad3f9017cf5e46","impliedFormat":1},{"version":"9252d498a77517aab5d8d4b5eb9d71e4b225bbc7123df9713e08181de63180f6","impliedFormat":1},{"version":"221e915caef37c5cbaabd4946418f97dcc20591469e260732b31008321024dd8","impliedFormat":1},{"version":"35e6379c3f7cb27b111ad4c1aa69538fd8e788ab737b8ff7596a1b40e96f4f90","impliedFormat":1},{"version":"1fffe726740f9787f15b532e1dc870af3cd964dbe29e191e76121aa3dd8693f2","impliedFormat":1},{"version":"371bf6127c1d427836de95197155132501cb6b69ef8709176ce6e0b85d059264","impliedFormat":1},{"version":"2bafd700e617d3693d568e972d02b92224b514781f542f70d497a8fdf92d52a2","affectsGlobalScope":true,"impliedFormat":1},{"version":"5542d8a7ea13168cb573be0d1ba0d29460d59430fb12bb7bf4674efd5604e14c","impliedFormat":1},{"version":"af48e58339188d5737b608d41411a9c054685413d8ae88b8c1d0d9bfabdf6e7e","impliedFormat":1},{"version":"616775f16134fa9d01fc677ad3f76e68c051a056c22ab552c64cc281a9686790","impliedFormat":1},{"version":"65c24a8baa2cca1de069a0ba9fba82a173690f52d7e2d0f1f7542d59d5eb4db0","impliedFormat":1},{"version":"f9fe6af238339a0e5f7563acee3178f51db37f32a2e7c09f85273098cee7ec49","impliedFormat":1},{"version":"1de8c302fd35220d8f29dea378a4ae45199dc8ff83ca9923aca1400f2b28848a","impliedFormat":1},{"version":"77e71242e71ebf8528c5802993697878f0533db8f2299b4d36aa015bae08a79c","impliedFormat":1},{"version":"98a787be42bd92f8c2a37d7df5f13e5992da0d967fab794adbb7ee18370f9849","impliedFormat":1},{"version":"332248ee37cca52903572e66c11bef755ccc6e235835e63d3c3e60ddda3e9b93","impliedFormat":1},{"version":"94e8cc88ae2ef3d920bb3bdc369f48436db123aa2dc07f683309ad8c9968a1e1","impliedFormat":1},{"version":"4545c1a1ceca170d5d83452dd7c4994644c35cf676a671412601689d9a62da35","impliedFormat":1},{"version":"320f4091e33548b554d2214ce5fc31c96631b513dffa806e2e3a60766c8c49d9","impliedFormat":1},{"version":"a2d648d333cf67b9aeac5d81a1a379d563a8ffa91ddd61c6179f68de724260ff","impliedFormat":1},{"version":"d90d5f524de38889d1e1dbc2aeef00060d779f8688c02766ddb9ca195e4a713d","impliedFormat":1},{"version":"a3f41ed1b4f2fc3049394b945a68ae4fdefd49fa1739c32f149d32c0545d67f5","impliedFormat":1},{"version":"b0309e1eda99a9e76f87c18992d9c3689b0938266242835dd4611f2b69efe456","impliedFormat":1},{"version":"47699512e6d8bebf7be488182427189f999affe3addc1c87c882d36b7f2d0b0e","impliedFormat":1},{"version":"6ceb10ca57943be87ff9debe978f4ab73593c0c85ee802c051a93fc96aaf7a20","impliedFormat":1},{"version":"1de3ffe0cc28a9fe2ac761ece075826836b5a02f340b412510a59ba1d41a505a","impliedFormat":1},{"version":"e46d6cc08d243d8d0d83986f609d830991f00450fb234f5b2f861648c42dc0d8","impliedFormat":1},{"version":"1c0a98de1323051010ce5b958ad47bc1c007f7921973123c999300e2b7b0ecc0","impliedFormat":1},{"version":"ff863d17c6c659440f7c5c536e4db7762d8c2565547b2608f36b798a743606ca","impliedFormat":1},{"version":"5412ad0043cd60d1f1406fc12cb4fb987e9a734decbdd4db6f6acf71791e36fe","impliedFormat":1},{"version":"ad036a85efcd9e5b4f7dd5c1a7362c8478f9a3b6c3554654ca24a29aa850a9c5","impliedFormat":1},{"version":"fedebeae32c5cdd1a85b4e0504a01996e4a8adf3dfa72876920d3dd6e42978e7","impliedFormat":1},{"version":"b6c1f64158da02580f55e8a2728eda6805f79419aed46a930f43e68ad66a38fc","impliedFormat":1},{"version":"cdf21eee8007e339b1b9945abf4a7b44930b1d695cc528459e68a3adc39a622e","impliedFormat":1},{"version":"bc9ee0192f056b3d5527bcd78dc3f9e527a9ba2bdc0a2c296fbc9027147df4b2","impliedFormat":1},{"version":"330896c1a2b9693edd617be24fbf9e5895d6e18c7955d6c08f028f272b37314d","impliedFormat":1},{"version":"1d9c0a9a6df4e8f29dc84c25c5aa0bb1da5456ebede7a03e03df08bb8b27bae6","impliedFormat":1},{"version":"84380af21da938a567c65ef95aefb5354f676368ee1a1cbb4cae81604a4c7d17","impliedFormat":1},{"version":"1af3e1f2a5d1332e136f8b0b95c0e6c0a02aaabd5092b36b64f3042a03debf28","impliedFormat":1},{"version":"30d8da250766efa99490fc02801047c2c6d72dd0da1bba6581c7e80d1d8842a4","impliedFormat":1},{"version":"03566202f5553bd2d9de22dfab0c61aa163cabb64f0223c08431fb3fc8f70280","impliedFormat":1},{"version":"4c0a1233155afb94bd4d7518c75c84f98567cd5f13fc215d258de196cdb40d91","impliedFormat":1},{"version":"e7765aa8bcb74a38b3230d212b4547686eb9796621ffb4367a104451c3f9614f","impliedFormat":1},{"version":"1de80059b8078ea5749941c9f863aa970b4735bdbb003be4925c853a8b6b4450","impliedFormat":1},{"version":"1d079c37fa53e3c21ed3fa214a27507bda9991f2a41458705b19ed8c2b61173d","impliedFormat":1},{"version":"5bf5c7a44e779790d1eb54c234b668b15e34affa95e78eada73e5757f61ed76a","impliedFormat":1},{"version":"5835a6e0d7cd2738e56b671af0e561e7c1b4fb77751383672f4b009f4e161d70","impliedFormat":1},{"version":"5c634644d45a1b6bc7b05e71e05e52ec04f3d73d9ac85d5927f647a5f965181a","impliedFormat":1},{"version":"4b7f74b772140395e7af67c4841be1ab867c11b3b82a51b1aeb692822b76c872","impliedFormat":1},{"version":"27be6622e2922a1b412eb057faa854831b95db9db5035c3f6d4b677b902ab3b7","impliedFormat":1},{"version":"a68d4b3182e8d776cdede7ac9630c209a7bfbb59191f99a52479151816ef9f9e","impliedFormat":99},{"version":"39644b343e4e3d748344af8182111e3bbc594930fff0170256567e13bbdbebb0","impliedFormat":99},{"version":"ed7fd5160b47b0de3b1571c5c5578e8e7e3314e33ae0b8ea85a895774ee64749","impliedFormat":99},{"version":"63a7595a5015e65262557f883463f934904959da563b4f788306f699411e9bac","impliedFormat":1},{"version":"4ba137d6553965703b6b55fd2000b4e07ba365f8caeb0359162ad7247f9707a6","impliedFormat":1},{"version":"6de125ea94866c736c6d58d68eb15272cf7d1020a5b459fea1c660027eca9a90","affectsGlobalScope":true,"impliedFormat":1},{"version":"8fac4a15690b27612d8474fb2fc7cc00388df52d169791b78d1a3645d60b4c8b","affectsGlobalScope":true,"impliedFormat":1},{"version":"064ac1c2ac4b2867c2ceaa74bbdce0cb6a4c16e7c31a6497097159c18f74aa7c","impliedFormat":1},{"version":"3dc14e1ab45e497e5d5e4295271d54ff689aeae00b4277979fdd10fa563540ae","impliedFormat":1},{"version":"d3b315763d91265d6b0e7e7fa93cfdb8a80ce7cdd2d9f55ba0f37a22db00bdb8","impliedFormat":1},{"version":"b789bf89eb19c777ed1e956dbad0925ca795701552d22e68fd130a032008b9f9","impliedFormat":1},{"version":"fd34f58705a5184f6c16609d269c35d8213d045db4865bd5d6f56ab8b5347d76","affectsGlobalScope":true},"7ad303e40d4fddf44f156129e397511953a71481c5cfd86b1862649aaaf240cc","d9246d8887b85d4221d20bc1508fd992ab2bca5d327e7f59fed21a5e33f779fd","91b569fb3c7354caf4164bda0d3d29388b5936c3b7b3d0d7fb16a9ecd69dd97b",{"version":"b8d7fc5d1b5e7ed01e5bea0b415f91f8c433fb1b57520a42c6ccec638f1d6418","signature":"19855c01e13bc13b26e2858be188d247f7ac8bb00d9fbe6b0ce5d208fa1027cc"},{"version":"c57b441e0c0a9cbdfa7d850dae1f8a387d6f81cbffbc3cd0465d530084c2417d","impliedFormat":99},{"version":"51954e948be6a5b728fcfaf561f12331b4f54f068934c77adfc8f70eea17d285","impliedFormat":1},"7c8c3dfc0cdd370d44932828eb067ef771c8fe7996693221d5d4b90af6d54f2d",{"version":"afe410be2b1d2ad17757d08510c93d3e1e5ddda9db06be6c29715434924e45bc","impliedFormat":1},"ed834ec37f74457bcf23b0d626f054fccc5ad594d72d7ae694c97e1d741aa4d2",{"version":"6aa2859da46f726a22040725e684ea964d7469a6b26f1c0a6634bb65e79062b0","impliedFormat":99},"9ab9685919ce49d48710d1860b33a260f8ab1eac5ba0eefb443c838846927642",{"version":"a346701ad6dcdaa58e388fe0995fc5304c09c395b8cba68ed872780f8c102004","impliedFormat":99},{"version":"2fbe402f0ee5aa8ab55367f88030f79d46211c0a0f342becaa9f648bf8534e9d","impliedFormat":1},{"version":"b94258ef37e67474ac5522e9c519489a55dcb3d4a8f645e335fc68ea2215fe88","impliedFormat":1},"894372d994f27b013aa3245746e2ba7872499b66211b9c4998051c2736cf95bb","58bee8997fc77e717ca03b3fe7e62288e01de9c8d65f63739ccde1c6568eb986",{"version":"a9373d52584b48809ffd61d74f5b3dfd127da846e3c4ee3c415560386df3994b","impliedFormat":99},{"version":"caf4af98bf464ad3e10c46cf7d340556f89197aab0f87f032c7b84eb8ddb24d9","impliedFormat":99},{"version":"8085954ba165e611c6230596078063627f3656fed3fb68ad1e36a414c4d7599a","impliedFormat":99},"e78b35ed76c67d8ff50603fbe0dfa4fe600097bd860d89e65beea3e16683dad8","957847c823aa145e93bddc85b851179357ef88b56a0c3917859a3ebbd1a5806b","6edd8c2f2516efa421143427ea6bfab8dd71e7e4d53412a87846d9268b475257","02ae3fddfd6ab4ae2fa50c838eaa4ebbc9dcff75a7241c790932728fe312711c",{"version":"caf4af98bf464ad3e10c46cf7d340556f89197aab0f87f032c7b84eb8ddb24d9","impliedFormat":99},{"version":"71acd198e19fa38447a3cbc5c33f2f5a719d933fccf314aaff0e8b0593271324","impliedFormat":99},"2eac8fbb04002c42b0fbc4062d20d131e421796eaf65c37d2049e29e42ecbc5a",{"version":"a9373d52584b48809ffd61d74f5b3dfd127da846e3c4ee3c415560386df3994b","impliedFormat":99},{"version":"caf4af98bf464ad3e10c46cf7d340556f89197aab0f87f032c7b84eb8ddb24d9","impliedFormat":99},{"version":"7ec047b73f621c526468517fea779fec2007dd05baa880989def59126c98ef79","impliedFormat":99},{"version":"8dd450de6d756cee0761f277c6dc58b0b5a66b8c274b980949318b8cad26d712","impliedFormat":99},{"version":"6b5f886fe41e2e767168e491fe6048398ed6439d44e006d9f51cc31265f08978","impliedFormat":99},{"version":"56a87e37f91f5625eb7d5f8394904f3f1e2a90fb08f347161dc94f1ae586bdd0","impliedFormat":99},{"version":"6b863463764ae572b9ada405bf77aac37b5e5089a3ab420d0862e4471051393b","impliedFormat":99},{"version":"904d6ad970b6bd825449480488a73d9b98432357ab38cf8d31ffd651ae376ff5","impliedFormat":99},{"version":"1179ef8174e0e4a09d35576199df04803b1db17c0fb35b9326442884bc0b0cce","impliedFormat":99},"36b9033f693acb4c158063f448e87bb03cb7e5a30bc28c8bd221a5cb1dc7d0d3","f795f1dad510d97961644040bc1951f2eb2d8db2b55bc4dd1908ba322d9bc98e",{"version":"dfcf16e716338e9fe8cf790ac7756f61c85b83b699861df970661e97bf482692","impliedFormat":99},"363f8e06aa5b53c6475f445117f60fa9294be79e9e4f1f5bf70886800188124e","9d078008f9094d607baebf76143f8e5bd0c0e070dd90cc4d1f1f9af782d7ac6c","5e81457bd51d9715bbafa53b759e83518093f5f581f0fde75ac5fb131fc7539a","26fbce46a4c1df5ef5cbee5300d08c7de69af1497d8473f9cad5db79ce1901c8","ca6710150de031c64f241c4a959ef59e7b337db8c7b0d46393af8185f3f22087","69377b3f40c8073ea3b2cb13e52e2a236a0731e75f443609cdbb51d6072b62ec","525c4bb2c051987be64df0e92e1d90174912b219bf541e24ffbc4a3406de49e8","dab689d836ad3292b41e7f4986b4e68e5d45c6903e4aeaae8972a82d4aebec29",{"version":"caf4af98bf464ad3e10c46cf7d340556f89197aab0f87f032c7b84eb8ddb24d9","impliedFormat":99},{"version":"9c580c6eae94f8c9a38373566e59d5c3282dc194aa266b23a50686fe10560159","impliedFormat":99},"995c54f1c5c688f712a675fe35d55bcada2b31dba561dcc71553a1ad601e59ec","87608e7cc815ad3d88e0b9de6c402bb37b58ea1b38636cf69709da1baff6e334",{"version":"576a93f769a9472dc8a266b1b00b6b329084f527f04297ca68adb725594c4c55","signature":"4ce09e58aa77e804da077eba29a75781d9c9670d7576c474c490e6f9d36a654a"},"ec7c92aaed80f6923a7caa4bfe4eead395b50a7001504fd7fbb0b9381804dae9",{"version":"68b6a7501a56babd7bcd840e0d638ee7ec582f1e70b3c36ebf32e5e5836913c8","impliedFormat":99},{"version":"7a14bf21ae8a29d64c42173c08f026928daf418bed1b97b37ac4bb2aa197b89b","impliedFormat":99},"d41aded0394298102614635e15d709369c6bdae8fe79b918b8341ef39407ee03",{"version":"c9a811bf16eff560f867ca499a8cbc55b5bfbecf97375d27bfb0274d48b475e7","signature":"133e1bbb067a16e456a97ecf2f6d7205bf3f796117d9123ce2625c0afb6acbb5"},"2f5b38c22ca72dd5b7a8bc6f5f07ab8802d8148e2d9152358be721366ce1b0f2","a4a6972c2d47d465d7f02c1dc4a6cbfeda7a97e46479c1b0cebdaf26bf9b497a","d9841d9b602cf75a15b1fad4ba0a284ce4a85be89276ec948d087614e0ae839d","67af3863419ad7ffc7e68e62f9c6e37a01da8ab196a12827a74fd4025f021942","192f157663174c44377377c68362904b53ad43f8182ad94a11f28eabd7933d0c","6c4eeac884d97381d1ac05728030f7dbca2d48c23ff1705932a8190ca083928e",{"version":"9f7a3c434912fd3feb87af4aabdf0d1b614152ecb5e7b2aa1fff3429879cdd51","impliedFormat":99},{"version":"ac06329e46dd1451b2e8c54570a315a949b9b598f2c1074f23a49cc694bfe992","signature":"364ff75f14bbc7252e5c5c306c34ff281eef83c6fd43b0e5fda5b119ee929486"},"04da497f3206c45f336929bc6ba23f499d48fe89c198e51121b95921fc60be13",{"version":"99d1a601593495371e798da1850b52877bf63d0678f15722d5f048e404f002e4","impliedFormat":99},"edbaecbc4f5cb6e16ecb39d3678d81b26e1a968dfc273dbb77821de3c8626377","672ae6d8ad121cf1543dc4338fe61198a5e26e8f1150139b0dd4b4f17da7a38f","3cfeeaa8f464c6c6db61969f5ba0528f187c7e136179af7a72d9a2adfe92bf42",{"version":"31c30cc54e8c3da37c8e2e40e5658471f65915df22d348990d1601901e8c9ff3","impliedFormat":99},"15fe92a406d2fdc4c42e385699e5f690d103d70603a9d05aa837fd03423a7925","f1f23db1965ed61cf863eb0bae359815bc049e985aad7064344bdb91aef765a6","c05ac3318c0dd2c9f1886f0040b43300f2a140cdca26e7d0c66354ba3effa6f8","ec2c9d35362db95748ea06d2fee846435879d498500ea904cbbe8cf1f59b6ace",{"version":"c1a2e05eb6d7ca8d7e4a7f4c93ccf0c2857e842a64c98eaee4d85841ee9855e6","impliedFormat":1},{"version":"835fb2909ce458740fb4a49fc61709896c6864f5ce3db7f0a88f06c720d74d02","impliedFormat":1},{"version":"6e5857f38aa297a859cab4ec891408659218a5a2610cd317b6dcbef9979459cc","impliedFormat":1},{"version":"9cf2117b904bb6d7d12e9132f38426ad37d92a93727feafb3c6e1657c930f3d3","impliedFormat":1},{"version":"d48904eee50b64e6c906aae902322aedbf1a85ea24ceb79959d3b4e69e309ab7","impliedFormat":1},{"version":"baab83d67c6d161736e5598d36999ac45cd45cc0201347c0b979ae749bb29c36","impliedFormat":1},{"version":"0f80d673b777749ff3b474f8b0058db232c41a0324ba9875a73bb27e71341a17","impliedFormat":1},{"version":"8d67b13da77316a8a2fabc21d340866ddf8a4b99e76a6c951cc45189142df652","impliedFormat":1},{"version":"1d0fddf9f4d63dd72476d369c981fb3937f7459c0706337c5f266522c746d568","impliedFormat":1},{"version":"21360500b20e0ec570f26f1cbb388c155ede043698970f316969840da4f16465","impliedFormat":1},{"version":"3a819c2928ee06bbcc84e2797fd3558ae2ebb7e0ed8d87f71732fb2e2acc87b4","impliedFormat":1},{"version":"f6f827cd43e92685f194002d6b52a9408309cda1cec46fb7ca8489a95cbd2fd4","impliedFormat":1},{"version":"e0bfe601a9fdf6defe94ed62dc60ac71597566001a1f86e705c95e431a9c816d","impliedFormat":1},{"version":"e0bfe601a9fdf6defe94ed62dc60ac71597566001a1f86e705c95e431a9c816d","impliedFormat":1},{"version":"e0bfe601a9fdf6defe94ed62dc60ac71597566001a1f86e705c95e431a9c816d","impliedFormat":1},{"version":"26384fb401f582cae1234213c3dc75fdc80e3d728a0a1c55b405be8a0c6dddbe","impliedFormat":1},{"version":"e0bfe601a9fdf6defe94ed62dc60ac71597566001a1f86e705c95e431a9c816d","impliedFormat":1},{"version":"e0bfe601a9fdf6defe94ed62dc60ac71597566001a1f86e705c95e431a9c816d","impliedFormat":1},{"version":"e0bfe601a9fdf6defe94ed62dc60ac71597566001a1f86e705c95e431a9c816d","impliedFormat":1},{"version":"e0bfe601a9fdf6defe94ed62dc60ac71597566001a1f86e705c95e431a9c816d","impliedFormat":1},{"version":"26384fb401f582cae1234213c3dc75fdc80e3d728a0a1c55b405be8a0c6dddbe","impliedFormat":1},{"version":"26384fb401f582cae1234213c3dc75fdc80e3d728a0a1c55b405be8a0c6dddbe","impliedFormat":1},{"version":"e0bfe601a9fdf6defe94ed62dc60ac71597566001a1f86e705c95e431a9c816d","impliedFormat":1},{"version":"e0bfe601a9fdf6defe94ed62dc60ac71597566001a1f86e705c95e431a9c816d","impliedFormat":1},{"version":"e0bfe601a9fdf6defe94ed62dc60ac71597566001a1f86e705c95e431a9c816d","impliedFormat":1},{"version":"e0bfe601a9fdf6defe94ed62dc60ac71597566001a1f86e705c95e431a9c816d","impliedFormat":1},{"version":"e0bfe601a9fdf6defe94ed62dc60ac71597566001a1f86e705c95e431a9c816d","impliedFormat":1},{"version":"e0bfe601a9fdf6defe94ed62dc60ac71597566001a1f86e705c95e431a9c816d","impliedFormat":1},{"version":"e0bfe601a9fdf6defe94ed62dc60ac71597566001a1f86e705c95e431a9c816d","impliedFormat":1},{"version":"e0bfe601a9fdf6defe94ed62dc60ac71597566001a1f86e705c95e431a9c816d","impliedFormat":1},{"version":"26384fb401f582cae1234213c3dc75fdc80e3d728a0a1c55b405be8a0c6dddbe","impliedFormat":1},{"version":"e0bfe601a9fdf6defe94ed62dc60ac71597566001a1f86e705c95e431a9c816d","impliedFormat":1},{"version":"e0bfe601a9fdf6defe94ed62dc60ac71597566001a1f86e705c95e431a9c816d","impliedFormat":1},{"version":"26384fb401f582cae1234213c3dc75fdc80e3d728a0a1c55b405be8a0c6dddbe","impliedFormat":1},{"version":"e0bfe601a9fdf6defe94ed62dc60ac71597566001a1f86e705c95e431a9c816d","impliedFormat":1},{"version":"e0bfe601a9fdf6defe94ed62dc60ac71597566001a1f86e705c95e431a9c816d","impliedFormat":1},{"version":"e0bfe601a9fdf6defe94ed62dc60ac71597566001a1f86e705c95e431a9c816d","impliedFormat":1},{"version":"26384fb401f582cae1234213c3dc75fdc80e3d728a0a1c55b405be8a0c6dddbe","impliedFormat":1},{"version":"e0bfe601a9fdf6defe94ed62dc60ac71597566001a1f86e705c95e431a9c816d","impliedFormat":1},{"version":"e0bfe601a9fdf6defe94ed62dc60ac71597566001a1f86e705c95e431a9c816d","impliedFormat":1},{"version":"e0bfe601a9fdf6defe94ed62dc60ac71597566001a1f86e705c95e431a9c816d","impliedFormat":1},{"version":"e0bfe601a9fdf6defe94ed62dc60ac71597566001a1f86e705c95e431a9c816d","impliedFormat":1},{"version":"e0bfe601a9fdf6defe94ed62dc60ac71597566001a1f86e705c95e431a9c816d","impliedFormat":1},{"version":"e0bfe601a9fdf6defe94ed62dc60ac71597566001a1f86e705c95e431a9c816d","impliedFormat":1},{"version":"e0bfe601a9fdf6defe94ed62dc60ac71597566001a1f86e705c95e431a9c816d","impliedFormat":1},{"version":"e0bfe601a9fdf6defe94ed62dc60ac71597566001a1f86e705c95e431a9c816d","impliedFormat":1},{"version":"e0bfe601a9fdf6defe94ed62dc60ac71597566001a1f86e705c95e431a9c816d","impliedFormat":1},{"version":"e0bfe601a9fdf6defe94ed62dc60ac71597566001a1f86e705c95e431a9c816d","impliedFormat":1},{"version":"e0bfe601a9fdf6defe94ed62dc60ac71597566001a1f86e705c95e431a9c816d","impliedFormat":1},{"version":"e0bfe601a9fdf6defe94ed62dc60ac71597566001a1f86e705c95e431a9c816d","impliedFormat":1},{"version":"e0bfe601a9fdf6defe94ed62dc60ac71597566001a1f86e705c95e431a9c816d","impliedFormat":1},{"version":"26384fb401f582cae1234213c3dc75fdc80e3d728a0a1c55b405be8a0c6dddbe","impliedFormat":1},{"version":"e0bfe601a9fdf6defe94ed62dc60ac71597566001a1f86e705c95e431a9c816d","impliedFormat":1},{"version":"e0bfe601a9fdf6defe94ed62dc60ac71597566001a1f86e705c95e431a9c816d","impliedFormat":1},{"version":"e0bfe601a9fdf6defe94ed62dc60ac71597566001a1f86e705c95e431a9c816d","impliedFormat":1},{"version":"e0bfe601a9fdf6defe94ed62dc60ac71597566001a1f86e705c95e431a9c816d","impliedFormat":1},{"version":"e0bfe601a9fdf6defe94ed62dc60ac71597566001a1f86e705c95e431a9c816d","impliedFormat":1},{"version":"e0bfe601a9fdf6defe94ed62dc60ac71597566001a1f86e705c95e431a9c816d","impliedFormat":1},{"version":"e0bfe601a9fdf6defe94ed62dc60ac71597566001a1f86e705c95e431a9c816d","impliedFormat":1},{"version":"568b463d762d0df07ed10081293715069168ad7cf6308525a3bb93777b127845","impliedFormat":1},{"version":"add0ce7b77ba5b308492fa68f77f24d1ed1d9148534bdf05ac17c30763fc1a79","impliedFormat":1},{"version":"8926594ee895917e90701d8cbb5fdf77fc238b266ac540f929c7253f8ad6233d","impliedFormat":1},{"version":"2f67911e4bf4e0717dc2ded248ce2d5e4398d945ee13889a6852c1233ea41508","impliedFormat":1},{"version":"c1a2e05eb6d7ca8d7e4a7f4c93ccf0c2857e842a64c98eaee4d85841ee9855e6","impliedFormat":99},{"version":"835fb2909ce458740fb4a49fc61709896c6864f5ce3db7f0a88f06c720d74d02","impliedFormat":99},{"version":"a3c6c6dc66a0e864b2472d6fbb32e71e0f2a4abe1e8343c2b5d1f172234bc2aa","impliedFormat":99},{"version":"7007626fc0d98e012e02caf70ae36647d7288b06c9121b51b20af592ebec3d53","impliedFormat":99},{"version":"baab83d67c6d161736e5598d36999ac45cd45cc0201347c0b979ae749bb29c36","impliedFormat":99},{"version":"f6f827cd43e92685f194002d6b52a9408309cda1cec46fb7ca8489a95cbd2fd4","impliedFormat":99},{"version":"7ceb8bc679a90951354f89379bc37228e7cf87b753069cd7b62310d5cbbe1f11","impliedFormat":99},{"version":"7ceb8bc679a90951354f89379bc37228e7cf87b753069cd7b62310d5cbbe1f11","impliedFormat":99},{"version":"7ceb8bc679a90951354f89379bc37228e7cf87b753069cd7b62310d5cbbe1f11","impliedFormat":99},{"version":"3b25e966fd93475d8ca2834194ea78321d741a21ca9d1f606b25ec99c1bbc29a","impliedFormat":99},{"version":"7ceb8bc679a90951354f89379bc37228e7cf87b753069cd7b62310d5cbbe1f11","impliedFormat":99},{"version":"7ceb8bc679a90951354f89379bc37228e7cf87b753069cd7b62310d5cbbe1f11","impliedFormat":99},{"version":"7ceb8bc679a90951354f89379bc37228e7cf87b753069cd7b62310d5cbbe1f11","impliedFormat":99},{"version":"7ceb8bc679a90951354f89379bc37228e7cf87b753069cd7b62310d5cbbe1f11","impliedFormat":99},{"version":"3b25e966fd93475d8ca2834194ea78321d741a21ca9d1f606b25ec99c1bbc29a","impliedFormat":99},{"version":"3b25e966fd93475d8ca2834194ea78321d741a21ca9d1f606b25ec99c1bbc29a","impliedFormat":99},{"version":"7ceb8bc679a90951354f89379bc37228e7cf87b753069cd7b62310d5cbbe1f11","impliedFormat":99},{"version":"7ceb8bc679a90951354f89379bc37228e7cf87b753069cd7b62310d5cbbe1f11","impliedFormat":99},{"version":"7ceb8bc679a90951354f89379bc37228e7cf87b753069cd7b62310d5cbbe1f11","impliedFormat":99},{"version":"7ceb8bc679a90951354f89379bc37228e7cf87b753069cd7b62310d5cbbe1f11","impliedFormat":99},{"version":"7ceb8bc679a90951354f89379bc37228e7cf87b753069cd7b62310d5cbbe1f11","impliedFormat":99},{"version":"7ceb8bc679a90951354f89379bc37228e7cf87b753069cd7b62310d5cbbe1f11","impliedFormat":99},{"version":"7ceb8bc679a90951354f89379bc37228e7cf87b753069cd7b62310d5cbbe1f11","impliedFormat":99},{"version":"7ceb8bc679a90951354f89379bc37228e7cf87b753069cd7b62310d5cbbe1f11","impliedFormat":99},{"version":"3b25e966fd93475d8ca2834194ea78321d741a21ca9d1f606b25ec99c1bbc29a","impliedFormat":99},{"version":"7ceb8bc679a90951354f89379bc37228e7cf87b753069cd7b62310d5cbbe1f11","impliedFormat":99},{"version":"7ceb8bc679a90951354f89379bc37228e7cf87b753069cd7b62310d5cbbe1f11","impliedFormat":99},{"version":"3b25e966fd93475d8ca2834194ea78321d741a21ca9d1f606b25ec99c1bbc29a","impliedFormat":99},{"version":"e2a9a2ee24da53cf39abdc8ccb2c8b09e8b6b7c8f692448b90698d5208ed5e2d","impliedFormat":99},{"version":"7ceb8bc679a90951354f89379bc37228e7cf87b753069cd7b62310d5cbbe1f11","impliedFormat":99},{"version":"7ceb8bc679a90951354f89379bc37228e7cf87b753069cd7b62310d5cbbe1f11","impliedFormat":99},{"version":"3b25e966fd93475d8ca2834194ea78321d741a21ca9d1f606b25ec99c1bbc29a","impliedFormat":99},{"version":"7ceb8bc679a90951354f89379bc37228e7cf87b753069cd7b62310d5cbbe1f11","impliedFormat":99},{"version":"7ceb8bc679a90951354f89379bc37228e7cf87b753069cd7b62310d5cbbe1f11","impliedFormat":99},{"version":"7ceb8bc679a90951354f89379bc37228e7cf87b753069cd7b62310d5cbbe1f11","impliedFormat":99},{"version":"7ceb8bc679a90951354f89379bc37228e7cf87b753069cd7b62310d5cbbe1f11","impliedFormat":99},{"version":"7ceb8bc679a90951354f89379bc37228e7cf87b753069cd7b62310d5cbbe1f11","impliedFormat":99},{"version":"7ceb8bc679a90951354f89379bc37228e7cf87b753069cd7b62310d5cbbe1f11","impliedFormat":99},{"version":"7ceb8bc679a90951354f89379bc37228e7cf87b753069cd7b62310d5cbbe1f11","impliedFormat":99},{"version":"7ceb8bc679a90951354f89379bc37228e7cf87b753069cd7b62310d5cbbe1f11","impliedFormat":99},{"version":"7ceb8bc679a90951354f89379bc37228e7cf87b753069cd7b62310d5cbbe1f11","impliedFormat":99},{"version":"7ceb8bc679a90951354f89379bc37228e7cf87b753069cd7b62310d5cbbe1f11","impliedFormat":99},{"version":"7ceb8bc679a90951354f89379bc37228e7cf87b753069cd7b62310d5cbbe1f11","impliedFormat":99},{"version":"7ceb8bc679a90951354f89379bc37228e7cf87b753069cd7b62310d5cbbe1f11","impliedFormat":99},{"version":"7ceb8bc679a90951354f89379bc37228e7cf87b753069cd7b62310d5cbbe1f11","impliedFormat":99},{"version":"3b25e966fd93475d8ca2834194ea78321d741a21ca9d1f606b25ec99c1bbc29a","impliedFormat":99},{"version":"6484b25a0de66353ff65d498318289e1ee89515bd6105c73d64dddfff8835699","impliedFormat":99},{"version":"7ceb8bc679a90951354f89379bc37228e7cf87b753069cd7b62310d5cbbe1f11","impliedFormat":99},{"version":"7ceb8bc679a90951354f89379bc37228e7cf87b753069cd7b62310d5cbbe1f11","impliedFormat":99},{"version":"7ceb8bc679a90951354f89379bc37228e7cf87b753069cd7b62310d5cbbe1f11","impliedFormat":99},{"version":"7ceb8bc679a90951354f89379bc37228e7cf87b753069cd7b62310d5cbbe1f11","impliedFormat":99},{"version":"7ceb8bc679a90951354f89379bc37228e7cf87b753069cd7b62310d5cbbe1f11","impliedFormat":99},{"version":"7ceb8bc679a90951354f89379bc37228e7cf87b753069cd7b62310d5cbbe1f11","impliedFormat":99},{"version":"c2f910ba0fa231610e69919a9fa3b9106132e1a961c7fc9c50baa58ab5b6ac53","impliedFormat":99},{"version":"add0ce7b77ba5b308492fa68f77f24d1ed1d9148534bdf05ac17c30763fc1a79","impliedFormat":99},{"version":"abb8f126c997b7568b0697a0f632e578c4ecac8827781531304309419949e731","impliedFormat":99},{"version":"a611b498f79f351a0198617160e20ec4dce6d9a9142d5b520769736caeff4944","impliedFormat":99},{"version":"dd4d1d262d8cfd2854ae77c168ad4d82b4cf2809074c1cec1f9b0f86ae2ac61e","impliedFormat":99},{"version":"f9698820ee8371215e8d015cfa060230c62e65428397dce83f78e6538976301c","impliedFormat":99},{"version":"fcff41acfc427b85bc61038e5e005dc08a78de6446ef906e14cae05f15a340ae","impliedFormat":99},{"version":"0f1c865b6be68a4287afa456a6ff4b590c2ba2c88c613b2fe944f00d2617b764","impliedFormat":99},{"version":"3b22881e19fba860247cde1f60807cca7ce44ad78814fe5789316c3cc16208db","impliedFormat":99},{"version":"4db734567df9686a8ea37b9592b8f5c191b3d4fe954da6e795e600ddf49b7c09","impliedFormat":99},{"version":"f0ebd1c2e1708e7e7d105883430d3ee1d856560e26b346469ff584ec68859e9e","impliedFormat":99},{"version":"7576d06c1b52d6e3dbd8ea3c53778b5a8d8065fbff3678db495c6166a698eda3","impliedFormat":99},{"version":"cdbfa8f0aa11a09117ea0427128d413c4b69d6f7a39e4b3f73c24622cb1e8233","impliedFormat":1},{"version":"69364df1c776372d7df1fb46a6cb3a6bf7f55e700f533a104e3f9d70a32bec18","impliedFormat":1},{"version":"6042774c61ece4ba77b3bf375f15942eb054675b7957882a00c22c0e4fe5865c","impliedFormat":1},{"version":"5a3bd57ed7a9d9afef74c75f77fce79ba3c786401af9810cdf45907c4e93f30e","impliedFormat":1},{"version":"77b93ef691f1565400f9b67140aab6b463bd0af8a1139acac2512555a1a4faa7","impliedFormat":1},{"version":"30db853bb2e60170ba11e39ab48bacecb32d06d4def89eedf17e58ebab762a65","impliedFormat":1},{"version":"e27451b24234dfed45f6cf22112a04955183a99c42a2691fb4936d63cfe42761","impliedFormat":1},{"version":"3206d1300300275d7565e647ed130c5d2e11fd1eb621fc92f2f9403473aa5135","impliedFormat":1},{"version":"58d65a2803c3b6629b0e18c8bf1bc883a686fcf0333230dd0151ab6e85b74307","impliedFormat":1},{"version":"e818471014c77c103330aee11f00a7a00b37b35500b53ea6f337aefacd6174c9","impliedFormat":1},{"version":"d4a5b1d2ff02c37643e18db302488cd64c342b00e2786e65caac4e12bda9219b","impliedFormat":1},{"version":"29f823cbe0166e10e7176a94afe609a24b9e5af3858628c541ff8ce1727023cd","impliedFormat":1},"a5ef7e8554defc8b8556208224475ba4ba9f3e9e74a1f14022815b7eb1b65854","c692725cdbce12450c783c7fca49c6bf5bef1f53819911e043a67166e693f5c3","48820af93a50f9aea12e82edc53d22080c08dfef1f7c7984f56740bb02bb4b14","38968cf84a09fe5593e347a6ce86e0be2b790cbd295277d1254113aeceb08637","783cdd9839f40f1a09979e16a559242cd530681e6fab6cd5ac6eca80d222dcf0","90eb680160fe427bedce29c89077d42b949cd0d59faa3eb44f61a661422b2fc0","e005be935aacd61677531bad1b72b9e1a41a27112656b56f6515d22f086cf2f2","883ec73c1fa1caab4ba9762061e23500ddcce7f8b9152d9e8f3177317b4071a6","ff66b517dc7afe38c20ad698ab8387120cfae0d0738aaf92f34f86aad0c1daec","e72db61cfa005d7064abafe1d7820552bf6390c9b9e50dd2cad53cab3e24bbc1","e18fbe9f771f9f4dfa39c589f0f6c2647778b449d52a7c406adb1d42ca6e3a33","af5ac936f895047ede3019b466bb5544fc586858c6055cee2fa2fb5aaccf2334","b5946d60daf3a5b98b1354f3f91ce206889f15253ebb1bd74a0b702fcfae9bc8","906e77ba67af8c309bfc293e24ffe592ed2683125f90796f5754def2eed50c14",{"version":"a9373d52584b48809ffd61d74f5b3dfd127da846e3c4ee3c415560386df3994b","impliedFormat":99},{"version":"caf4af98bf464ad3e10c46cf7d340556f89197aab0f87f032c7b84eb8ddb24d9","impliedFormat":99},{"version":"cbfd5ef0c8fdb4983202252b5f5758a579f4500edc3b9ad413da60cffb5c3564","impliedFormat":99},"6b3b4b69a1cb361076174892e9a96e1a09020307616965ef89f2f7e2495b57a9","d2444278ba4fed11383fa44d9ab65ccb57f1690df7c8b414137f1933082693d4","313b8b445cb32edcd9e3b3af1db3cc478cce1e90766a604b5221824fcfa35a31","c8bf6fdeb0765ac8d2b2fe433c4c9e2db7fa3f63eb699327d4626ab53c79ce3c","814ea742679c6e7b345410ab980311fca0c81e733afd94e4fe7f02de2b596492","e3af782802ca2372bfa305f7087d58b3acc344ce86b6dc14a9fb07fec5a03bb7","62ce7a880abbf1538f9de905d3c3dd95dbb1b87bf163325c6f6c06b63b31d37d","be58c45b07ea60692aabb07161a1a95e5a41d15dbe433acbd06f2106eea45919",{"version":"89783bd45ab35df55203b522f8271500189c3526976af533a599a86caaf31362","impliedFormat":99},{"version":"26e6c521a290630ea31f0205a46a87cab35faac96e2b30606f37bae7bcda4f9d","impliedFormat":99},"dc109123ecd59af01d07aa9f3a8e8a7085bd3f337388c5369799ab1ce6c2d45f",{"version":"233267a4a036c64aee95f66a0d31e3e0ef048cccc57dd66f9cf87582b38691e4","impliedFormat":99},"ce6afa34fb9dae51053a863b4c3f7c6e55f3da23b00149f31a8e4402bc963be0","d1986184a09a52db8228cb2bb2a61a8c05c9354e5b93cec8e2628d8579c892d7","545729bea4fbab875cabc37f24fce466a674e45b236bed808cab5f248ee6174e",{"version":"151ff381ef9ff8da2da9b9663ebf657eac35c4c9a19183420c05728f31a6761d","impliedFormat":1},{"version":"f3d8c757e148ad968f0d98697987db363070abada5f503da3c06aefd9d4248c1","impliedFormat":1},{"version":"96d14f21b7652903852eef49379d04dbda28c16ed36468f8c9fa08f7c14c9538","impliedFormat":1}],"root":[[509,513],516,518,520,524,525,[529,532],535,545,546,[548,555],[558,561],[564,571],573,574,[576,578],[580,583],[724,737],[741,748],751,[753,755]],"options":{"allowJs":true,"esModuleInterop":true,"jsx":4,"module":99,"skipLibCheck":true,"strict":true,"target":4},"referencedMap":[[754,1],[509,2],[755,3],[565,4],[570,5],[571,6],[574,7],[582,8],[583,9],[553,10],[724,11],[560,12],[725,13],[726,14],[727,15],[728,13],[729,16],[730,17],[731,18],[732,13],[733,19],[552,20],[737,21],[736,22],[734,23],[735,24],[742,25],[743,10],[525,26],[530,27],[531,28],[546,29],[512,30],[744,31],[520,32],[569,33],[578,34],[747,35],[568,36],[566,37],[577,38],[748,37],[581,39],[551,40],[550,41],[745,42],[549,33],[580,43],[529,44],[555,45],[524,46],[554,47],[751,48],[532,47],[535,49],[741,50],[573,51],[576,52],[545,53],[558,54],[548,55],[559,56],[567,47],[564,57],[561,47],[753,58],[746,59],[518,60],[513,10],[516,61],[510,62],[511,63],[252,2],[579,64],[540,65],[528,66],[526,67],[527,67],[536,67],[547,68],[538,65],[750,69],[539,65],[534,70],[533,67],[749,71],[542,72],[543,65],[537,67],[740,66],[738,67],[739,67],[572,73],[562,74],[575,74],[544,75],[557,70],[556,67],[521,76],[563,73],[752,77],[541,2],[756,2],[757,2],[758,2],[140,78],[141,78],[142,79],[97,80],[143,81],[144,82],[145,83],[92,2],[95,84],[93,2],[94,2],[146,85],[147,86],[148,87],[149,88],[150,89],[151,90],[152,90],[153,91],[154,92],[155,93],[156,94],[98,2],[96,2],[157,95],[158,96],[159,97],[191,98],[160,99],[161,100],[162,101],[163,102],[164,103],[165,104],[166,105],[167,106],[168,107],[169,108],[170,108],[171,109],[172,2],[173,110],[175,111],[174,112],[176,113],[177,114],[178,115],[179,116],[180,117],[181,118],[182,119],[183,120],[184,121],[185,122],[186,123],[187,124],[188,125],[99,2],[100,2],[101,2],[139,126],[189,127],[190,128],[195,129],[412,67],[196,130],[194,131],[414,132],[413,133],[192,134],[410,2],[193,135],[83,2],[85,136],[409,67],[269,67],[523,137],[522,138],[514,2],[84,2],[517,67],[458,139],[463,1],[453,140],[216,141],[256,142],[438,143],[251,144],[233,2],[408,2],[214,2],[427,145],[282,146],[215,2],[336,147],[259,148],[260,149],[407,150],[424,151],[318,152],[432,153],[433,154],[431,155],[430,2],[428,156],[258,157],[217,158],[361,2],[362,159],[288,160],[218,161],[289,160],[284,160],[205,160],[254,162],[253,2],[437,163],[449,2],[241,2],[383,164],[384,165],[378,67],[485,2],[386,2],[387,166],[379,167],[490,168],[489,169],[484,2],[303,2],[423,170],[422,2],[483,171],[380,67],[312,172],[308,173],[313,174],[311,2],[310,175],[309,2],[486,2],[482,2],[488,176],[487,2],[307,173],[477,177],[480,178],[297,179],[296,180],[295,181],[493,67],[294,182],[276,2],[496,2],[499,2],[498,67],[500,183],[198,2],[434,184],[435,185],[436,186],[211,2],[244,2],[210,187],[197,2],[399,67],[203,188],[398,189],[397,190],[388,2],[389,2],[396,2],[391,2],[394,191],[390,2],[392,192],[395,193],[393,192],[213,2],[208,2],[209,160],[264,2],[270,194],[271,195],[268,196],[266,197],[267,198],[262,2],[405,166],[291,166],[457,199],[464,200],[468,201],[441,202],[440,2],[279,2],[501,203],[452,204],[381,205],[382,206],[376,207],[367,2],[404,208],[443,67],[368,209],[406,210],[401,211],[400,2],[402,2],[373,2],[360,212],[442,213],[445,214],[370,215],[374,216],[365,217],[419,218],[451,219],[322,220],[337,221],[206,222],[450,223],[202,224],[272,225],[263,2],[273,226],[349,227],[261,2],[348,228],[91,2],[342,229],[243,2],[363,230],[338,2],[207,2],[237,2],[346,231],[212,2],[274,232],[372,233],[439,234],[371,2],[345,2],[265,2],[351,235],[352,236],[429,2],[354,237],[356,238],[355,239],[246,2],[344,222],[358,240],[321,241],[343,242],[350,243],[221,2],[225,2],[224,2],[223,2],[228,2],[222,2],[231,2],[230,2],[227,2],[226,2],[229,2],[232,244],[220,2],[330,245],[329,2],[334,246],[331,247],[333,248],[335,246],[332,247],[242,249],[292,250],[448,251],[502,2],[472,252],[474,253],[369,254],[473,255],[446,213],[385,213],[219,2],[323,256],[238,257],[239,258],[240,259],[236,260],[418,260],[286,260],[324,261],[287,261],[235,262],[234,2],[328,263],[327,264],[326,265],[325,266],[447,267],[417,268],[416,269],[377,270],[411,271],[415,272],[426,273],[425,274],[421,275],[320,276],[317,277],[319,278],[316,279],[357,280],[347,2],[462,2],[359,281],[420,2],[275,282],[366,184],[364,283],[277,284],[280,285],[497,2],[278,286],[281,286],[460,2],[459,2],[461,2],[495,2],[283,287],[444,2],[314,288],[306,67],[257,2],[201,289],[290,2],[466,67],[200,2],[476,290],[305,67],[470,166],[304,291],[455,292],[302,290],[204,2],[478,293],[300,67],[301,67],[293,2],[199,2],[299,294],[298,295],[245,296],[375,107],[285,107],[353,2],[340,297],[339,2],[403,173],[315,67],[456,298],[86,67],[89,299],[90,300],[87,67],[88,2],[255,301],[250,302],[249,2],[248,303],[247,2],[454,304],[465,305],[467,306],[469,307],[471,308],[475,309],[508,310],[479,310],[507,311],[481,312],[491,313],[492,314],[494,315],[503,316],[506,187],[505,2],[504,317],[341,318],[519,67],[515,2],[81,2],[82,2],[13,2],[14,2],[16,2],[15,2],[2,2],[17,2],[18,2],[19,2],[20,2],[21,2],[22,2],[23,2],[24,2],[3,2],[25,2],[26,2],[4,2],[27,2],[31,2],[28,2],[29,2],[30,2],[32,2],[33,2],[34,2],[5,2],[35,2],[36,2],[37,2],[38,2],[6,2],[42,2],[39,2],[40,2],[41,2],[43,2],[7,2],[44,2],[49,2],[50,2],[45,2],[46,2],[47,2],[48,2],[8,2],[54,2],[51,2],[52,2],[53,2],[55,2],[9,2],[56,2],[57,2],[58,2],[60,2],[59,2],[61,2],[62,2],[10,2],[63,2],[64,2],[65,2],[11,2],[66,2],[67,2],[68,2],[69,2],[70,2],[1,2],[71,2],[72,2],[12,2],[76,2],[74,2],[79,2],[78,2],[73,2],[77,2],[75,2],[80,2],[117,319],[127,320],[116,319],[137,321],[108,322],[107,323],[136,317],[130,324],[135,325],[110,326],[124,327],[109,328],[133,329],[105,330],[104,317],[134,331],[106,332],[111,333],[112,2],[115,333],[102,2],[138,334],[128,335],[119,336],[120,337],[122,338],[118,339],[121,340],[131,317],[113,341],[114,342],[123,343],[103,344],[126,335],[125,333],[129,2],[132,345],[723,346],[717,347],[721,348],[718,348],[714,347],[722,349],[719,350],[720,348],[715,351],[716,352],[645,353],[702,354],[591,355],[708,356],[593,357],[710,358],[644,2],[701,2],[592,359],[709,360],[713,361],[705,362],[712,363],[704,364],[646,365],[703,366],[584,2],[647,2],[594,355],[650,356],[595,2],[652,2],[586,367],[711,368],[590,369],[707,370],[585,2],[648,2],[587,371],[706,372],[588,373],[649,374],[589,2],[651,2],[596,375],[653,376],[597,375],[654,376],[598,375],[655,376],[599,375],[656,376],[600,375],[657,376],[601,375],[658,376],[602,375],[659,376],[603,375],[660,376],[604,375],[661,376],[605,375],[662,376],[606,375],[663,376],[607,375],[664,376],[608,375],[665,376],[610,375],[667,376],[609,375],[666,376],[611,375],[668,376],[612,375],[669,376],[613,375],[670,376],[643,377],[700,378],[614,375],[671,376],[615,375],[672,376],[616,375],[673,376],[617,375],[674,376],[618,375],[675,376],[619,375],[676,376],[620,375],[677,376],[621,375],[678,376],[622,375],[679,376],[623,375],[680,376],[624,375],[681,376],[625,375],[682,376],[626,375],[683,376],[628,375],[685,376],[627,375],[684,376],[629,375],[686,376],[630,375],[687,376],[631,375],[688,376],[632,375],[689,376],[633,375],[690,376],[634,375],[691,376],[635,375],[692,376],[636,375],[693,376],[637,375],[694,376],[638,375],[695,376],[639,375],[696,376],[642,375],[699,376],[640,375],[697,376],[641,375],[698,376]],"affectedFilesPendingEmit":[755,565,570,571,574,582,583,553,724,560,725,726,727,728,729,730,731,732,733,552,737,736,734,735,742,743,525,530,531,546,512,744,520,569,578,747,568,566,577,748,581,551,550,745,549,580,529,555,524,554,751,532,535,741,573,576,545,558,548,559,567,564,561,753,746,518,513,516,511],"version":"5.9.3"}// END OF FILE: tsconfig.tsbuildinfo

